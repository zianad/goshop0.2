(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var qP={exports:{}},sv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e7=Symbol.for("react.transitional.element"),t7=Symbol.for("react.fragment");function HP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:e7,type:t,key:r,ref:e!==void 0?e:null,props:n}}sv.Fragment=t7;sv.jsx=HP;sv.jsxs=HP;qP.exports=sv;var m=qP.exports,zP={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5=Symbol.for("react.transitional.element"),n7=Symbol.for("react.portal"),r7=Symbol.for("react.fragment"),i7=Symbol.for("react.strict_mode"),a7=Symbol.for("react.profiler"),o7=Symbol.for("react.consumer"),s7=Symbol.for("react.context"),l7=Symbol.for("react.forward_ref"),u7=Symbol.for("react.suspense"),c7=Symbol.for("react.memo"),VP=Symbol.for("react.lazy"),f7=Symbol.for("react.activity"),rT=Symbol.iterator;function d7(t){return t===null||typeof t!="object"?null:(t=rT&&t[rT]||t["@@iterator"],typeof t=="function"?t:null)}var GP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WP=Object.assign,YP={};function od(t,e,n){this.props=t,this.context=e,this.refs=YP,this.updater=n||GP}od.prototype.isReactComponent={};od.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};od.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KP(){}KP.prototype=od.prototype;function t5(t,e,n){this.props=t,this.context=e,this.refs=YP,this.updater=n||GP}var n5=t5.prototype=new KP;n5.constructor=t5;WP(n5,od.prototype);n5.isPureReactComponent=!0;var iT=Array.isArray;function Q1(){}var Pn={H:null,A:null,T:null,S:null},JP=Object.prototype.hasOwnProperty;function r5(t,e,n){var r=n.ref;return{$$typeof:e5,type:t,key:e,ref:r!==void 0?r:null,props:n}}function h7(t,e){return r5(t.type,e,t.props)}function i5(t){return typeof t=="object"&&t!==null&&t.$$typeof===e5}function p7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aT=/\/+/g;function Ab(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p7(""+t.key):e.toString(36)}function A7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Q1,Q1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Rc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case e5:case n7:o=!0;break;case VP:return o=t._init,Rc(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+Ab(t,0):r,iT(i)?(n="",o!=null&&(n=o.replace(aT,"$&/")+"/"),Rc(i,e,n,"",function(u){return u})):i!=null&&(i5(i)&&(i=h7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(aT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(iT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+Ab(r,l),o+=Rc(r,e,n,a,i);else if(l=d7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+Ab(r,l++),o+=Rc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Rc(A7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function bm(t,e,n){if(t==null)return t;var r=[],i=0;return Rc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function m7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var oT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},g7={map:bm,forEach:function(t,e,n){bm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bm(t,function(){e++}),e},toArray:function(t){return bm(t,function(e){return e})||[]},only:function(t){if(!i5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Activity=f7;kt.Children=g7;kt.Component=od;kt.Fragment=r7;kt.Profiler=a7;kt.PureComponent=t5;kt.StrictMode=i7;kt.Suspense=u7;kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pn;kt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pn.H.useMemoCache(t)}};kt.cache=function(t){return function(){return t.apply(null,arguments)}};kt.cacheSignal=function(){return null};kt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=WP({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!JP.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return r5(t.type,i,r)};kt.createContext=function(t){return t={$$typeof:s7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:o7,_context:t},t};kt.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)JP.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return r5(t,a,i)};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:l7,render:t}};kt.isValidElement=i5;kt.lazy=function(t){return{$$typeof:VP,_payload:{_status:-1,_result:t},_init:m7}};kt.memo=function(t,e){return{$$typeof:c7,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=Pn.T,n={};Pn.T=n;try{var r=t(),i=Pn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Q1,oT)}catch(a){oT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Pn.T=e}};kt.unstable_useCacheRefresh=function(){return Pn.H.useCacheRefresh()};kt.use=function(t){return Pn.H.use(t)};kt.useActionState=function(t,e,n){return Pn.H.useActionState(t,e,n)};kt.useCallback=function(t,e){return Pn.H.useCallback(t,e)};kt.useContext=function(t){return Pn.H.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t,e){return Pn.H.useDeferredValue(t,e)};kt.useEffect=function(t,e){return Pn.H.useEffect(t,e)};kt.useEffectEvent=function(t){return Pn.H.useEffectEvent(t)};kt.useId=function(){return Pn.H.useId()};kt.useImperativeHandle=function(t,e,n){return Pn.H.useImperativeHandle(t,e,n)};kt.useInsertionEffect=function(t,e){return Pn.H.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return Pn.H.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return Pn.H.useMemo(t,e)};kt.useOptimistic=function(t,e){return Pn.H.useOptimistic(t,e)};kt.useReducer=function(t,e,n){return Pn.H.useReducer(t,e,n)};kt.useRef=function(t){return Pn.H.useRef(t)};kt.useState=function(t){return Pn.H.useState(t)};kt.useSyncExternalStore=function(t,e,n){return Pn.H.useSyncExternalStore(t,e,n)};kt.useTransition=function(){return Pn.H.useTransition()};kt.version="19.2.0";zP.exports=kt;var ae=zP.exports;const de=Qt(ae);var XP={exports:{}},lv={},QP={exports:{}},ZP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,U){var V=R.length;R.push(U);e:for(;0<V;){var K=V-1>>>1,ee=R[K];if(0<i(ee,U))R[K]=U,R[V]=ee,V=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var U=R[0],V=R.pop();if(V!==U){R[0]=V;e:for(var K=0,ee=R.length,le=ee>>>1;K<le;){var j=2*(K+1)-1,z=R[j],Q=j+1,te=R[Q];if(0>i(z,V))Q<ee&&0>i(te,z)?(R[K]=te,R[Q]=V,K=Q):(R[K]=z,R[j]=V,K=j);else if(Q<ee&&0>i(te,V))R[K]=te,R[Q]=V,K=Q;else break e}}return U}function i(R,U){var V=R.sortIndex-U.sortIndex;return V!==0?V:R.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,A=!1,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=R)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function C(R){if(b=!1,T(R),!v)if(n(l)!==null)v=!0,k||(k=!0,M());else{var U=n(u);U!==null&&G(C,U.startTime-R)}}var k=!1,E=-1,I=5,D=-1;function $(){return w?!0:!(t.unstable_now()-D<I)}function O(){if(w=!1,k){var R=t.unstable_now();D=R;var U=!0;try{e:{v=!1,b&&(b=!1,x(E),E=-1),A=!0;var V=h;try{t:{for(T(R),f=n(l);f!==null&&!(f.expirationTime>R&&$());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ee=K(f.expirationTime<=R);if(R=t.unstable_now(),typeof ee=="function"){f.callback=ee,T(R),U=!0;break t}f===n(l)&&r(l),T(R)}else r(l);f=n(l)}if(f!==null)U=!0;else{var le=n(u);le!==null&&G(C,le.startTime-R),U=!1}}break e}finally{f=null,h=V,A=!1}U=void 0}}finally{U?M():k=!1}}}var M;if(typeof S=="function")M=function(){S(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=O,M=function(){F.postMessage(null)}}else M=function(){y(O,0)};function G(R,U){E=y(function(){R(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var V=h;h=U;try{return R()}finally{h=V}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=h;h=R;try{return U()}finally{h=V}},t.unstable_scheduleCallback=function(R,U,V){var K=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,R={id:c++,callback:U,priorityLevel:R,startTime:V,expirationTime:ee,sortIndex:-1},V>K?(R.sortIndex=V,e(u,R),n(l)===null&&R===n(u)&&(b?(x(E),E=-1):b=!0,G(C,V-K))):(R.sortIndex=ee,e(l,R),v||A||(v=!0,k||(k=!0,M()))),R},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(R){var U=h;return function(){var V=h;h=U;try{return R.apply(this,arguments)}finally{h=V}}}})(ZP);QP.exports=ZP;var v7=QP.exports,e6={exports:{}},li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y7=ae;function t6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Us(){}var ii={d:{f:Us,r:function(){throw Error(t6(522))},D:Us,C:Us,L:Us,m:Us,X:Us,S:Us,M:Us},p:0,findDOMNode:null},b7=Symbol.for("react.portal");function x7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Bh=y7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function uv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ii;li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(t6(299));return x7(t,e,null,n)};li.flushSync=function(t){var e=Bh.T,n=ii.p;try{if(Bh.T=null,ii.p=2,t)return t()}finally{Bh.T=e,ii.p=n,ii.d.f()}};li.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ii.d.C(t,e))};li.prefetchDNS=function(t){typeof t=="string"&&ii.d.D(t)};li.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=uv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ii.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&ii.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};li.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=uv(e.as,e.crossOrigin);ii.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ii.d.M(t)};li.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=uv(n,e.crossOrigin);ii.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};li.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=uv(e.as,e.crossOrigin);ii.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ii.d.m(t)};li.requestFormReset=function(t){ii.d.r(t)};li.unstable_batchedUpdates=function(t,e){return t(e)};li.useFormState=function(t,e,n){return Bh.H.useFormState(t,e,n)};li.useFormStatus=function(){return Bh.H.useHostTransitionStatus()};li.version="19.2.0";function n6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n6)}catch(t){console.error(t)}}n6(),e6.exports=li;var w7=e6.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=v7,r6=ae,S7=w7;function je(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fA(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sT(t){if(fA(t)!==t)throw Error(je(188))}function _7(t){var e=t.alternate;if(!e){if(e=fA(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return sT(i),t;if(a===r)return sT(i),e;a=a.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function s6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=s6(t),e!==null)return e;t=t.sibling}return null}var Mn=Object.assign,T7=Symbol.for("react.element"),xm=Symbol.for("react.transitional.element"),Mh=Symbol.for("react.portal"),Vc=Symbol.for("react.fragment"),l6=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),u6=Symbol.for("react.consumer"),Wo=Symbol.for("react.context"),a5=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.suspense_list"),o5=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),nx=Symbol.for("react.activity"),C7=Symbol.for("react.memo_cache_sentinel"),lT=Symbol.iterator;function uh(t){return t===null||typeof t!="object"?null:(t=lT&&t[lT]||t["@@iterator"],typeof t=="function"?t:null)}var N7=Symbol.for("react.client.reference");function rx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vc:return"Fragment";case Z1:return"Profiler";case l6:return"StrictMode";case ex:return"Suspense";case tx:return"SuspenseList";case nx:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Mh:return"Portal";case Wo:return t.displayName||"Context";case u6:return(t._context.displayName||"Context")+".Consumer";case a5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o5:return e=t.displayName||null,e!==null?e:rx(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return rx(t(e))}catch{}}return null}var Oh=Array.isArray,xt=r6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xt=S7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vu={pending:!1,data:null,method:null,action:null},ix=[],Gc=-1;function xo(t){return{current:t}}function Nr(t){0>Gc||(t.current=ix[Gc],ix[Gc]=null,Gc--)}function wn(t,e){Gc++,ix[Gc]=t.current,t.current=e}var mo=xo(null),hp=xo(null),cl=xo(null),Ng=xo(null);function Eg(t,e){switch(wn(cl,e),wn(hp,t),wn(mo,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?pC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=pC(e),t=kO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Nr(mo),wn(mo,t)}function _f(){Nr(mo),Nr(hp),Nr(cl)}function ax(t){t.memoizedState!==null&&wn(Ng,t);var e=mo.current,n=kO(e,t.type);e!==n&&(wn(hp,t),wn(mo,n))}function kg(t){hp.current===t&&(Nr(mo),Nr(hp)),Ng.current===t&&(Nr(Ng),_p._currentValue=vu)}var mb,uT;function tu(t){if(mb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mb=e&&e[1]||"",uT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mb+t+uT}var gb=!1;function vb(t,e){if(!t||gb)return"";gb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(A){var h=A}Reflect.construct(t,[],f)}else{try{f.call()}catch(A){h=A}t.call(f.prototype)}}else{try{throw Error()}catch(A){h=A}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(A){if(A&&h&&typeof A.stack=="string")return[A.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{gb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?tu(n):""}function E7(t,e){switch(t.tag){case 26:case 27:case 5:return tu(t.type);case 16:return tu("Lazy");case 13:return t.child!==e&&e!==null?tu("Suspense Fallback"):tu("Suspense");case 19:return tu("SuspenseList");case 0:case 15:return vb(t.type,!1);case 11:return vb(t.type.render,!1);case 1:return vb(t.type,!0);case 31:return tu("Activity");default:return""}}function cT(t){try{var e="",n=null;do e+=E7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ox=Object.prototype.hasOwnProperty,s5=vr.unstable_scheduleCallback,yb=vr.unstable_cancelCallback,k7=vr.unstable_shouldYield,P7=vr.unstable_requestPaint,Yi=vr.unstable_now,M7=vr.unstable_getCurrentPriorityLevel,c6=vr.unstable_ImmediatePriority,f6=vr.unstable_UserBlockingPriority,Pg=vr.unstable_NormalPriority,O7=vr.unstable_LowPriority,d6=vr.unstable_IdlePriority,I7=vr.log,D7=vr.unstable_setDisableYieldValue,dA=null,Ki=null;function rl(t){if(typeof I7=="function"&&D7(t),Ki&&typeof Ki.setStrictMode=="function")try{Ki.setStrictMode(dA,t)}catch{}}var Ji=Math.clz32?Math.clz32:R7,L7=Math.log,j7=Math.LN2;function R7(t){return t>>>=0,t===0?32:31-(L7(t)/j7|0)|0}var wm=256,Sm=262144,_m=4194304;function nu(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=nu(r):(o&=s,o!==0?i=nu(o):n||(n=s&~t,n!==0&&(i=nu(n))))):(s=r&~a,s!==0?i=nu(s):o!==0?i=nu(o):n||(n=r&~t,n!==0&&(i=nu(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function hA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function B7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h6(){var t=_m;return _m<<=1,!(_m&62914560)&&(_m=4194304),t}function bb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Ji(n),f=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var A=h[c];A!==null&&(A.lane&=-536870913)}n&=~f}r!==0&&p6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function p6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Ji(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function A6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ji(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function m6(t,e){var n=e&-e;return n=n&42?1:l5(n),n&(t.suspendedLanes|e)?0:n}function l5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function u5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function g6(){var t=Xt.p;return t!==0?t:(t=window.event,t===void 0?32:FO(t.type))}function fT(t,e){var n=Xt.p;try{return Xt.p=t,e()}finally{Xt.p=n}}var Pl=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Pl,Si="__reactProps$"+Pl,sd="__reactContainer$"+Pl,sx="__reactEvents$"+Pl,F7="__reactListeners$"+Pl,U7="__reactHandles$"+Pl,dT="__reactResources$"+Pl,AA="__reactMarker$"+Pl;function c5(t){delete t[Dr],delete t[Si],delete t[sx],delete t[F7],delete t[U7]}function Wc(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sd]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yC(t);t!==null;){if(n=t[Dr])return n;t=yC(t)}return e}t=n,n=t.parentNode}return null}function ld(t){if(t=t[Dr]||t[sd]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ih(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(je(33))}function cf(t){var e=t[dT];return e||(e=t[dT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Tr(t){t[AA]=!0}var v6=new Set,y6={};function qu(t,e){Tf(t,e),Tf(t+"Capture",e)}function Tf(t,e){for(y6[t]=e,t=0;t<e.length;t++)v6.add(e[t])}var q7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hT={},pT={};function H7(t){return ox.call(pT,t)?!0:ox.call(hT,t)?!1:q7.test(t)?pT[t]=!0:(hT[t]=!0,!1)}function ug(t,e,n){if(H7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Tm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function jo(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function ya(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lx(t){if(!t._valueTracker){var e=b6(t)?"checked":"value";t._valueTracker=z7(t,e,""+t[e])}}function x6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var V7=/[\n"\\]/g;function wa(t){return t.replace(V7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ux(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ya(e)):t.value!==""+ya(e)&&(t.value=""+ya(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?cx(t,o,ya(e)):n!=null?cx(t,o,ya(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+ya(s):t.removeAttribute("name")}function w6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){lx(t);return}n=n!=null?""+ya(n):"",e=e!=null?""+ya(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),lx(t)}function cx(t,e,n){e==="number"&&Mg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ff(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ya(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function S6(t,e,n){if(e!=null&&(e=""+ya(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ya(n):""}function _6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(je(92));if(Oh(r)){if(1<r.length)throw Error(je(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ya(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),lx(t)}function Cf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var G7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||G7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function T6(t,e,n){if(e!=null&&typeof e!="object")throw Error(je(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&AT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&AT(t,a,e[a])}function f5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cg(t){return Y7.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yo(){}var fx=null;function d5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yc=null,df=null;function mT(t){var e=ld(t);if(e&&(t=e.stateNode)){var n=t[Si]||null;e:switch(t=e.stateNode,e.type){case"input":if(ux(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wa(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Si]||null;if(!i)throw Error(je(90));ux(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&x6(r)}break e;case"textarea":S6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ff(t,!!n.multiple,e,!1)}}}var xb=!1;function C6(t,e,n){if(xb)return t(e,n);xb=!0;try{var r=t(e);return r}finally{if(xb=!1,(Yc!==null||df!==null)&&(wv(),Yc&&(e=Yc,t=df,df=Yc=null,mT(e),t)))for(e=0;e<t.length;e++)mT(t[e])}}function pp(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Si]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dx=!1;if(is)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){dx=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{dx=!1}var il=null,h5=null,fg=null;function N6(){if(fg)return fg;var t,e=h5,n=e.length,r,i="value"in il?il.value:il.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return fg=i.slice(t,1<r?1-r:void 0)}function dg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cm(){return!0}function gT(){return!1}function Ti(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cm:gT,this.isPropagationStopped=gT,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cm)},persist:function(){},isPersistent:Cm}),e}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Ti(Hu),mA=Mn({},Hu,{view:0,detail:0}),K7=Ti(mA),wb,Sb,fh,dv=Mn({},mA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fh&&(fh&&t.type==="mousemove"?(wb=t.screenX-fh.screenX,Sb=t.screenY-fh.screenY):Sb=wb=0,fh=t),wb)},movementY:function(t){return"movementY"in t?t.movementY:Sb}}),vT=Ti(dv),J7=Mn({},dv,{dataTransfer:0}),X7=Ti(J7),Q7=Mn({},mA,{relatedTarget:0}),_b=Ti(Q7),Z7=Mn({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),eB=Ti(Z7),tB=Mn({},Hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nB=Ti(tB),rB=Mn({},Hu,{data:0}),yT=Ti(rB),iB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oB[t])?!!e[t]:!1}function p5(){return sB}var lB=Mn({},mA,{key:function(t){if(t.key){var e=iB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p5,charCode:function(t){return t.type==="keypress"?dg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uB=Ti(lB),cB=Mn({},dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bT=Ti(cB),fB=Mn({},mA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p5}),dB=Ti(fB),hB=Mn({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),pB=Ti(hB),AB=Mn({},dv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mB=Ti(AB),gB=Mn({},Hu,{newState:0,oldState:0}),vB=Ti(gB),yB=[9,13,27,32],A5=is&&"CompositionEvent"in window,$h=null;is&&"documentMode"in document&&($h=document.documentMode);var bB=is&&"TextEvent"in window&&!$h,E6=is&&(!A5||$h&&8<$h&&11>=$h),xT=" ",wT=!1;function k6(t,e){switch(t){case"keyup":return yB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kc=!1;function xB(t,e){switch(t){case"compositionend":return P6(e);case"keypress":return e.which!==32?null:(wT=!0,xT);case"textInput":return t=e.data,t===xT&&wT?null:t;default:return null}}function wB(t,e){if(Kc)return t==="compositionend"||!A5&&k6(t,e)?(t=N6(),fg=h5=il=null,Kc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E6&&e.locale!=="ko"?null:e.data;default:return null}}var SB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ST(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SB[t.type]:e==="textarea"}function M6(t,e,n,r){Yc?df?df.push(r):df=[r]:Yc=r,e=Kg(e,"onChange"),0<e.length&&(n=new fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fh=null,Ap=null;function _B(t){CO(t,0)}function hv(t){var e=Ih(t);if(x6(e))return t}function _T(t,e){if(t==="change")return e}var O6=!1;if(is){var Tb;if(is){var Cb="oninput"in document;if(!Cb){var TT=document.createElement("div");TT.setAttribute("oninput","return;"),Cb=typeof TT.oninput=="function"}Tb=Cb}else Tb=!1;O6=Tb&&(!document.documentMode||9<document.documentMode)}function CT(){Fh&&(Fh.detachEvent("onpropertychange",I6),Ap=Fh=null)}function I6(t){if(t.propertyName==="value"&&hv(Ap)){var e=[];M6(e,Ap,t,d5(t)),C6(_B,e)}}function TB(t,e,n){t==="focusin"?(CT(),Fh=e,Ap=n,Fh.attachEvent("onpropertychange",I6)):t==="focusout"&&CT()}function CB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hv(Ap)}function NB(t,e){if(t==="click")return hv(e)}function EB(t,e){if(t==="input"||t==="change")return hv(e)}function kB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ea=typeof Object.is=="function"?Object.is:kB;function mp(t,e){if(ea(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ox.call(e,i)||!ea(t[i],e[i]))return!1}return!0}function NT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ET(t,e){var n=NT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NT(n)}}function D6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Mg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mg(t.document)}return e}function m5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var PB=is&&"documentMode"in document&&11>=document.documentMode,Jc=null,hx=null,Uh=null,px=!1;function kT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;px||Jc==null||Jc!==Mg(r)||(r=Jc,"selectionStart"in r&&m5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uh&&mp(Uh,r)||(Uh=r,r=Kg(hx,"onSelect"),0<r.length&&(e=new fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jc)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xc={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionrun:Kl("Transition","TransitionRun"),transitionstart:Kl("Transition","TransitionStart"),transitioncancel:Kl("Transition","TransitionCancel"),transitionend:Kl("Transition","TransitionEnd")},Nb={},j6={};is&&(j6=document.createElement("div").style,"AnimationEvent"in window||(delete Xc.animationend.animation,delete Xc.animationiteration.animation,delete Xc.animationstart.animation),"TransitionEvent"in window||delete Xc.transitionend.transition);function zu(t){if(Nb[t])return Nb[t];if(!Xc[t])return t;var e=Xc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in j6)return Nb[t]=e[n];return t}var R6=zu("animationend"),B6=zu("animationiteration"),$6=zu("animationstart"),MB=zu("transitionrun"),OB=zu("transitionstart"),IB=zu("transitioncancel"),F6=zu("transitionend"),U6=new Map,Ax="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ax.push("scrollEnd");function Xa(t,e){U6.set(t,e),qu(e,[t])}var Og=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ga=[],Qc=0,g5=0;function pv(){for(var t=Qc,e=g5=Qc=0;e<t;){var n=ga[e];ga[e++]=null;var r=ga[e];ga[e++]=null;var i=ga[e];ga[e++]=null;var a=ga[e];if(ga[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&q6(n,i,a)}}function Av(t,e,n,r){ga[Qc++]=t,ga[Qc++]=e,ga[Qc++]=n,ga[Qc++]=r,g5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function v5(t,e,n,r){return Av(t,e,n,r),Ig(t)}function Vu(t,e){return Av(t,null,null,e),Ig(t)}function q6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Ji(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Ig(t){if(50<Jh)throw Jh=0,jx=null,Error(je(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Zc={};function DB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,e,n,r){return new DB(t,e,n,r)}function y5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zo(t,e){var n=t.alternate;return n===null?(n=Hi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function H6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function hg(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")y5(t)&&(o=1);else if(typeof t=="string")o=$$(t,n,mo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case nx:return t=Hi(31,n,e,i),t.elementType=nx,t.lanes=a,t;case Vc:return yu(n.children,i,a,e);case l6:o=8,i|=24;break;case Z1:return t=Hi(12,n,e,i|2),t.elementType=Z1,t.lanes=a,t;case ex:return t=Hi(13,n,e,i),t.elementType=ex,t.lanes=a,t;case tx:return t=Hi(19,n,e,i),t.elementType=tx,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wo:o=10;break e;case u6:o=9;break e;case a5:o=11;break e;case o5:o=14;break e;case Gs:o=16,r=null;break e}o=29,n=Error(je(130,t===null?"null":typeof t,"")),r=null}return e=Hi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function yu(t,e,n,r){return t=Hi(7,t,r,e),t.lanes=n,t}function Eb(t,e,n){return t=Hi(6,t,null,e),t.lanes=n,t}function z6(t){var e=Hi(18,null,null,0);return e.stateNode=t,e}function kb(t,e,n){return e=Hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var PT=new WeakMap;function Sa(t,e){if(typeof t=="object"&&t!==null){var n=PT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:cT(e)},PT.set(t,e),e)}return{value:t,source:e,stack:cT(e)}}var ef=[],tf=0,Dg=null,gp=0,ba=[],xa=0,Sl=null,co=1,fo="";function Vo(t,e){ef[tf++]=gp,ef[tf++]=Dg,Dg=t,gp=e}function V6(t,e,n){ba[xa++]=co,ba[xa++]=fo,ba[xa++]=Sl,Sl=t;var r=co;t=fo;var i=32-Ji(r)-1;r&=~(1<<i),n+=1;var a=32-Ji(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,co=1<<32-Ji(e)+i|n<<i|r,fo=a+t}else co=1<<a|n<<i|r,fo=t}function b5(t){t.return!==null&&(Vo(t,1),V6(t,1,0))}function x5(t){for(;t===Dg;)Dg=ef[--tf],ef[tf]=null,gp=ef[--tf],ef[tf]=null;for(;t===Sl;)Sl=ba[--xa],ba[xa]=null,fo=ba[--xa],ba[xa]=null,co=ba[--xa],ba[xa]=null}function G6(t,e){ba[xa++]=co,ba[xa++]=fo,ba[xa++]=Sl,co=e.id,fo=e.overflow,Sl=t}var Lr=null,En=null,qt=!1,fl=null,_a=!1,mx=Error(je(519));function _l(t){var e=Error(je(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vp(Sa(e,t)),mx}function MT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Dr]=t,e[Si]=r,n){case"dialog":Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":case"embed":Rt("load",e);break;case"video":case"audio":for(n=0;n<wp.length;n++)Rt(wp[n],e);break;case"source":Rt("error",e);break;case"img":case"image":case"link":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"input":Rt("invalid",e),w6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Rt("invalid",e);break;case"textarea":Rt("invalid",e),_6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||EO(e.textContent,n)?(r.popover!=null&&(Rt("beforetoggle",e),Rt("toggle",e)),r.onScroll!=null&&Rt("scroll",e),r.onScrollEnd!=null&&Rt("scrollend",e),r.onClick!=null&&(e.onclick=Yo),e=!0):e=!1,e||_l(t,!0)}function OT(t){for(Lr=t.return;Lr;)switch(Lr.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:Lr=Lr.return}}function Tc(t){if(t!==Lr)return!1;if(!qt)return OT(t),qt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ux(t.type,t.memoizedProps)),n=!n),n&&En&&_l(t),OT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));En=vC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));En=vC(t)}else e===27?(e=En,Ml(t.type)?(t=Vx,Vx=null,En=t):En=e):En=Lr?Ea(t.stateNode.nextSibling):null;return!0}function Pu(){En=Lr=null,qt=!1}function Pb(){var t=fl;return t!==null&&(yi===null?yi=t:yi.push.apply(yi,t),fl=null),t}function vp(t){fl===null?fl=[t]:fl.push(t)}var gx=xo(null),Gu=null,Ko=null;function Js(t,e,n){wn(gx,e._currentValue),e._currentValue=n}function es(t){t._currentValue=gx.current,Nr(gx)}function vx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),vx(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vx(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function ud(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(je(387));if(o=o.memoizedProps,o!==null){var s=i.type;ea(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===Ng.current){if(o=i.alternate,o===null)throw Error(je(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(_p):t=[_p])}i=i.return}t!==null&&yx(e,t,n,r),e.flags|=262144}function Lg(t){for(t=t.firstContext;t!==null;){if(!ea(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mu(t){Gu=t,Ko=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jr(t){return W6(Gu,t)}function Nm(t,e){return Gu===null&&Mu(t),W6(t,e)}function W6(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ko===null){if(t===null)throw Error(je(308));Ko=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ko=Ko.next=e;return n}var LB=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},jB=vr.unstable_scheduleCallback,RB=vr.unstable_NormalPriority,or={$$typeof:Wo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function w5(){return{controller:new LB,data:new Map,refCount:0}}function gA(t){t.refCount--,t.refCount===0&&jB(RB,function(){t.controller.abort()})}var qh=null,bx=0,Nf=0,hf=null;function BB(t,e){if(qh===null){var n=qh=[];bx=0,Nf=W5(),hf={status:"pending",value:void 0,then:function(r){n.push(r)}}}return bx++,e.then(IT,IT),e}function IT(){if(--bx===0&&qh!==null){hf!==null&&(hf.status="fulfilled");var t=qh;qh=null,Nf=0,hf=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function $B(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var DT=xt.S;xt.S=function(t,e){sO=Yi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&BB(t,e),DT!==null&&DT(t,e)};var bu=xo(null);function S5(){var t=bu.current;return t!==null?t:mn.pooledCache}function pg(t,e){e===null?wn(bu,bu.current):wn(bu,e.pool)}function Y6(){var t=S5();return t===null?null:{parent:or._currentValue,pool:t}}var cd=Error(je(460)),_5=Error(je(474)),mv=Error(je(542)),jg={then:function(){}};function LT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function K6(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Yo,Yo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,RT(t),t;default:if(typeof e.status=="string")e.then(Yo,Yo);else{if(t=mn,t!==null&&100<t.shellSuspendCounter)throw Error(je(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,RT(t),t}throw xu=e,cd}}function ru(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xu=n,cd):n}}var xu=null;function jT(){if(xu===null)throw Error(je(459));var t=xu;return xu=null,t}function RT(t){if(t===cd||t===mv)throw Error(je(483))}var pf=null,yp=0;function Em(t){var e=yp;return yp+=1,pf===null&&(pf=[]),K6(pf,t,e)}function dh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function km(t,e){throw e.$$typeof===T7?Error(je(525)):(t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function J6(t){function e(y,x){if(t){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(y,x){return y=Zo(y,x),y.index=0,y.sibling=null,y}function a(y,x,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=67108866,x):S):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,x,S,T){return x===null||x.tag!==6?(x=Eb(S,y.mode,T),x.return=y,x):(x=i(x,S),x.return=y,x)}function l(y,x,S,T){var C=S.type;return C===Vc?c(y,x,S.props.children,T,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&ru(C)===x.type)?(x=i(x,S.props),dh(x,S),x.return=y,x):(x=hg(S.type,S.key,S.props,null,y.mode,T),dh(x,S),x.return=y,x)}function u(y,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=kb(S,y.mode,T),x.return=y,x):(x=i(x,S.children||[]),x.return=y,x)}function c(y,x,S,T,C){return x===null||x.tag!==7?(x=yu(S,y.mode,T,C),x.return=y,x):(x=i(x,S),x.return=y,x)}function f(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Eb(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xm:return S=hg(x.type,x.key,x.props,null,y.mode,S),dh(S,x),S.return=y,S;case Mh:return x=kb(x,y.mode,S),x.return=y,x;case Gs:return x=ru(x),f(y,x,S)}if(Oh(x)||uh(x))return x=yu(x,y.mode,S,null),x.return=y,x;if(typeof x.then=="function")return f(y,Em(x),S);if(x.$$typeof===Wo)return f(y,Nm(y,x),S);km(y,x)}return null}function h(y,x,S,T){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:s(y,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xm:return S.key===C?l(y,x,S,T):null;case Mh:return S.key===C?u(y,x,S,T):null;case Gs:return S=ru(S),h(y,x,S,T)}if(Oh(S)||uh(S))return C!==null?null:c(y,x,S,T,null);if(typeof S.then=="function")return h(y,x,Em(S),T);if(S.$$typeof===Wo)return h(y,x,Nm(y,S),T);km(y,S)}return null}function A(y,x,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return y=y.get(S)||null,s(x,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xm:return y=y.get(T.key===null?S:T.key)||null,l(x,y,T,C);case Mh:return y=y.get(T.key===null?S:T.key)||null,u(x,y,T,C);case Gs:return T=ru(T),A(y,x,S,T,C)}if(Oh(T)||uh(T))return y=y.get(S)||null,c(x,y,T,C,null);if(typeof T.then=="function")return A(y,x,S,Em(T),C);if(T.$$typeof===Wo)return A(y,x,S,Nm(x,T),C);km(x,T)}return null}function v(y,x,S,T){for(var C=null,k=null,E=x,I=x=0,D=null;E!==null&&I<S.length;I++){E.index>I?(D=E,E=null):D=E.sibling;var $=h(y,E,S[I],T);if($===null){E===null&&(E=D);break}t&&E&&$.alternate===null&&e(y,E),x=a($,x,I),k===null?C=$:k.sibling=$,k=$,E=D}if(I===S.length)return n(y,E),qt&&Vo(y,I),C;if(E===null){for(;I<S.length;I++)E=f(y,S[I],T),E!==null&&(x=a(E,x,I),k===null?C=E:k.sibling=E,k=E);return qt&&Vo(y,I),C}for(E=r(E);I<S.length;I++)D=A(E,y,I,S[I],T),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?I:D.key),x=a(D,x,I),k===null?C=D:k.sibling=D,k=D);return t&&E.forEach(function(O){return e(y,O)}),qt&&Vo(y,I),C}function b(y,x,S,T){if(S==null)throw Error(je(151));for(var C=null,k=null,E=x,I=x=0,D=null,$=S.next();E!==null&&!$.done;I++,$=S.next()){E.index>I?(D=E,E=null):D=E.sibling;var O=h(y,E,$.value,T);if(O===null){E===null&&(E=D);break}t&&E&&O.alternate===null&&e(y,E),x=a(O,x,I),k===null?C=O:k.sibling=O,k=O,E=D}if($.done)return n(y,E),qt&&Vo(y,I),C;if(E===null){for(;!$.done;I++,$=S.next())$=f(y,$.value,T),$!==null&&(x=a($,x,I),k===null?C=$:k.sibling=$,k=$);return qt&&Vo(y,I),C}for(E=r(E);!$.done;I++,$=S.next())$=A(E,y,I,$.value,T),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?I:$.key),x=a($,x,I),k===null?C=$:k.sibling=$,k=$);return t&&E.forEach(function(M){return e(y,M)}),qt&&Vo(y,I),C}function w(y,x,S,T){if(typeof S=="object"&&S!==null&&S.type===Vc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case xm:e:{for(var C=S.key;x!==null;){if(x.key===C){if(C=S.type,C===Vc){if(x.tag===7){n(y,x.sibling),T=i(x,S.props.children),T.return=y,y=T;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&ru(C)===x.type){n(y,x.sibling),T=i(x,S.props),dh(T,S),T.return=y,y=T;break e}n(y,x);break}else e(y,x);x=x.sibling}S.type===Vc?(T=yu(S.props.children,y.mode,T,S.key),T.return=y,y=T):(T=hg(S.type,S.key,S.props,null,y.mode,T),dh(T,S),T.return=y,y=T)}return o(y);case Mh:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),T=i(x,S.children||[]),T.return=y,y=T;break e}else{n(y,x);break}else e(y,x);x=x.sibling}T=kb(S,y.mode,T),T.return=y,y=T}return o(y);case Gs:return S=ru(S),w(y,x,S,T)}if(Oh(S))return v(y,x,S,T);if(uh(S)){if(C=uh(S),typeof C!="function")throw Error(je(150));return S=C.call(S),b(y,x,S,T)}if(typeof S.then=="function")return w(y,x,Em(S),T);if(S.$$typeof===Wo)return w(y,x,Nm(y,S),T);km(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),T=i(x,S),T.return=y,y=T):(n(y,x),T=Eb(S,y.mode,T),T.return=y,y=T),o(y)):n(y,x)}return function(y,x,S,T){try{yp=0;var C=w(y,x,S,T);return pf=null,C}catch(E){if(E===cd||E===mv)throw E;var k=Hi(29,E,null,y.mode);return k.lanes=T,k.return=y,k}finally{}}}var Ou=J6(!0),X6=J6(!1),Ws=!1;function T5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Jt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Ig(t),q6(t,null,n),e}return Av(t,r,e,n),Ig(t)}function Hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A6(t,n)}}function Mb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var wx=!1;function zh(){if(wx){var t=hf;if(t!==null)throw t}}function Vh(t,e,n,r){wx=!1;var i=t.updateQueue;Ws=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane&-536870913,A=h!==s.lane;if(A?(Ft&h)===h:(r&h)===h){h!==0&&h===Nf&&(wx=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,b=s;h=e;var w=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(w,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(w,f,h):v,h==null)break e;f=Mn({},f,h);break e;case 2:Ws=!0}}h=s.callback,h!==null&&(t.flags|=64,A&&(t.flags|=8192),A=i.callbacks,A===null?i.callbacks=[h]:A.push(h))}else A={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=A,l=f):c=c.next=A,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;A=s,s=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),Cl|=o,t.lanes=o,t.memoizedState=f}}function Q6(t,e){if(typeof t!="function")throw Error(je(191,t));t.call(e)}function Z6(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Q6(n[t],e)}var Ef=xo(null),Rg=xo(0);function BT(t,e){t=ls,wn(Rg,t),wn(Ef,e),ls=t|e.baseLanes}function Sx(){wn(Rg,ls),wn(Ef,Ef.current)}function C5(){ls=Rg.current,Nr(Ef),Nr(Rg)}var ta=xo(null),Na=null;function Xs(t){var e=t.alternate;wn(Jn,Jn.current&1),wn(ta,t),Na===null&&(e===null||Ef.current!==null||e.memoizedState!==null)&&(Na=t)}function _x(t){wn(Jn,Jn.current),wn(ta,t),Na===null&&(Na=t)}function eM(t){t.tag===22?(wn(Jn,Jn.current),wn(ta,t),Na===null&&(Na=t)):Qs()}function Qs(){wn(Jn,Jn.current),wn(ta,ta.current)}function qi(t){Nr(ta),Na===t&&(Na=null),Nr(Jn)}var Jn=xo(0);function Bg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hx(n)||zx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var as=0,Mt=null,dn=null,ir=null,$g=!1,Af=!1,Iu=!1,Fg=0,bp=0,mf=null,FB=0;function Fn(){throw Error(je(321))}function N5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ea(t[n],e[n]))return!1;return!0}function E5(t,e,n,r,i,a){return as=a,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xt.H=t===null||t.memoizedState===null?MM:$5,Iu=!1,a=n(r,i),Iu=!1,Af&&(a=nM(e,n,r,i)),tM(t),a}function tM(t){xt.H=xp;var e=dn!==null&&dn.next!==null;if(as=0,ir=dn=Mt=null,$g=!1,bp=0,mf=null,e)throw Error(je(300));t===null||sr||(t=t.dependencies,t!==null&&Lg(t)&&(sr=!0))}function nM(t,e,n,r){Mt=t;var i=0;do{if(Af&&(mf=null),bp=0,Af=!1,25<=i)throw Error(je(301));if(i+=1,ir=dn=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}xt.H=OM,a=e(n,r)}while(Af);return a}function UB(){var t=xt.H,e=t.useState()[0];return e=typeof e.then=="function"?vA(e):e,t=t.useState()[0],(dn!==null?dn.memoizedState:null)!==t&&(Mt.flags|=1024),e}function k5(){var t=Fg!==0;return Fg=0,t}function P5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function M5(t){if($g){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}$g=!1}as=0,ir=dn=Mt=null,Af=!1,bp=Fg=0,mf=null}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Mt.memoizedState=ir=t:ir=ir.next=t,ir}function Xn(){if(dn===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=ir===null?Mt.memoizedState:ir.next;if(e!==null)ir=e,dn=t;else{if(t===null)throw Mt.alternate===null?Error(je(467)):Error(je(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},ir===null?Mt.memoizedState=ir=t:ir=ir.next=t}return ir}function gv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vA(t){var e=bp;return bp+=1,mf===null&&(mf=[]),t=K6(mf,t,e),e=Mt,(ir===null?e.memoizedState:ir.next)===null&&(e=e.alternate,xt.H=e===null||e.memoizedState===null?MM:$5),t}function vv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vA(t);if(t.$$typeof===Wo)return jr(t)}throw Error(je(438,String(t)))}function O5(t){var e=null,n=Mt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Mt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gv(),Mt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=C7;return e.index++,n}function os(t,e){return typeof e=="function"?e(t):e}function Ag(t){var e=Xn();return I5(e,dn,t)}function I5(t,e,n){var r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ft&f)===f:(as&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Nf&&(c=!0);else if((as&h)===h){u=u.next,h===Nf&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,Mt.lanes|=h,Cl|=h;f=u.action,Iu&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,o=a):l=l.next=h,Mt.lanes|=f,Cl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!ea(a,t.memoizedState)&&(sr=!0,c&&(n=hf,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Ob(t){var e=Xn(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ea(a,e.memoizedState)||(sr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function rM(t,e,n){var r=Mt,i=Xn(),a=qt;if(a){if(n===void 0)throw Error(je(407));n=n()}else n=e();var o=!ea((dn||i).memoizedState,n);if(o&&(i.memoizedState=n,sr=!0),i=i.queue,D5(oM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,kf(9,{destroy:void 0},aM.bind(null,r,i,n,e),null),mn===null)throw Error(je(349));a||as&127||iM(r,e,n)}return n}function iM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e=gv(),Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aM(t,e,n,r){e.value=n,e.getSnapshot=r,sM(e)&&lM(t)}function oM(t,e,n){return n(function(){sM(e)&&lM(t)})}function sM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ea(t,n)}catch{return!0}}function lM(t){var e=Vu(t,2);e!==null&&wi(e,t,2)}function Tx(t){var e=ri();if(typeof t=="function"){var n=t;if(t=n(),Iu){rl(!0);try{n()}finally{rl(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},e}function uM(t,e,n,r){return t.baseState=n,I5(t,dn,typeof r=="function"?r:os)}function qB(t,e,n,r,i){if(bv(t))throw Error(je(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};xt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,cM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function cM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=xt.T,o={};xt.T=o;try{var s=n(i,r),l=xt.S;l!==null&&l(o,s),$T(t,e,s)}catch(u){Cx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),xt.T=a}}else try{a=n(i,r),$T(t,e,a)}catch(u){Cx(t,e,u)}}function $T(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){FT(t,e,r)},function(r){return Cx(t,e,r)}):FT(t,e,n)}function FT(t,e,n){e.status="fulfilled",e.value=n,fM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cM(t,n)))}function Cx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,fM(e),e=e.next;while(e!==r)}t.action=null}function fM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function dM(t,e){return e}function UT(t,e){if(qt){var n=mn.formState;if(n!==null){e:{var r=Mt;if(qt){if(En){t:{for(var i=En,a=_a;i.nodeType!==8;){if(!a){i=null;break t}if(i=Ea(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){En=Ea(i.nextSibling),r=i.data==="F!";break e}}_l(r)}r=!1}r&&(e=n[0])}}return n=ri(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dM,lastRenderedState:e},n.queue=r,n=EM.bind(null,Mt,r),r.dispatch=n,r=Tx(!1),a=B5.bind(null,Mt,!1,r.queue),r=ri(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=qB.bind(null,Mt,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function qT(t){var e=Xn();return hM(e,dn,t)}function hM(t,e,n){if(e=I5(t,e,dM)[0],t=Ag(os)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=vA(e)}catch(o){throw o===cd?mv:o}else r=e;e=Xn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Mt.flags|=2048,kf(9,{destroy:void 0},HB.bind(null,i,n),null)),[r,a,t]}function HB(t,e){t.action=e}function HT(t){var e=Xn(),n=dn;if(n!==null)return hM(e,n,t);Xn(),e=e.memoizedState,n=Xn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function kf(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Mt.updateQueue,e===null&&(e=gv(),Mt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function pM(){return Xn().memoizedState}function mg(t,e,n,r){var i=ri();Mt.flags|=t,i.memoizedState=kf(1|e,{destroy:void 0},n,r===void 0?null:r)}function yv(t,e,n,r){var i=Xn();r=r===void 0?null:r;var a=i.memoizedState.inst;dn!==null&&r!==null&&N5(r,dn.memoizedState.deps)?i.memoizedState=kf(e,a,n,r):(Mt.flags|=t,i.memoizedState=kf(1|e,a,n,r))}function zT(t,e){mg(8390656,8,t,e)}function D5(t,e){yv(2048,8,t,e)}function zB(t){Mt.flags|=4;var e=Mt.updateQueue;if(e===null)e=gv(),Mt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function AM(t){var e=Xn().memoizedState;return zB({ref:e,nextImpl:t}),function(){if(Jt&2)throw Error(je(440));return e.impl.apply(void 0,arguments)}}function mM(t,e){return yv(4,2,t,e)}function gM(t,e){return yv(4,4,t,e)}function vM(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yM(t,e,n){n=n!=null?n.concat([t]):null,yv(4,4,vM.bind(null,e,t),n)}function L5(){}function bM(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&N5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xM(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&N5(e,r[1]))return r[0];if(r=t(),Iu){rl(!0);try{t()}finally{rl(!1)}}return n.memoizedState=[r,e],r}function j5(t,e,n){return n===void 0||as&1073741824&&!(Ft&261930)?t.memoizedState=e:(t.memoizedState=n,t=uO(),Mt.lanes|=t,Cl|=t,n)}function wM(t,e,n,r){return ea(n,e)?n:Ef.current!==null?(t=j5(t,n,r),ea(t,e)||(sr=!0),t):!(as&42)||as&1073741824&&!(Ft&261930)?(sr=!0,t.memoizedState=n):(t=uO(),Mt.lanes|=t,Cl|=t,e)}function SM(t,e,n,r,i){var a=Xt.p;Xt.p=a!==0&&8>a?a:8;var o=xt.T,s={};xt.T=s,B5(t,!1,e,n);try{var l=i(),u=xt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=$B(l,r);Gh(t,e,c,Xi(t))}else Gh(t,e,r,Xi(t))}catch(f){Gh(t,e,{then:function(){},status:"rejected",reason:f},Xi())}finally{Xt.p=a,o!==null&&s.types!==null&&(o.types=s.types),xt.T=o}}function VB(){}function Nx(t,e,n,r){if(t.tag!==5)throw Error(je(476));var i=_M(t).queue;SM(t,i,e,vu,n===null?VB:function(){return TM(t),n(r)})}function _M(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:vu,baseState:vu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:vu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function TM(t){var e=_M(t);e.next===null&&(e=t.alternate.memoizedState),Gh(t,e.next.queue,{},Xi())}function R5(){return jr(_p)}function CM(){return Xn().memoizedState}function NM(){return Xn().memoizedState}function GB(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Xi();t=dl(n);var r=hl(e,t,n);r!==null&&(wi(r,e,n),Hh(r,e,n)),e={cache:w5()},t.payload=e;return}e=e.return}}function WB(t,e,n){var r=Xi();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},bv(t)?kM(e,n):(n=v5(t,e,n,r),n!==null&&(wi(n,t,r),PM(n,e,r)))}function EM(t,e,n){var r=Xi();Gh(t,e,n,r)}function Gh(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(bv(t))kM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ea(s,o))return Av(t,e,i,0),mn===null&&pv(),!1}catch{}finally{}if(n=v5(t,e,i,r),n!==null)return wi(n,t,r),PM(n,e,r),!0}return!1}function B5(t,e,n,r){if(r={lane:2,revertLane:W5(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bv(t)){if(e)throw Error(je(479))}else e=v5(t,n,r,2),e!==null&&wi(e,t,2)}function bv(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function kM(t,e){Af=$g=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A6(t,n)}}var xp={readContext:jr,use:vv,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn};xp.useEffectEvent=Fn;var MM={readContext:jr,use:vv,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:zT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,mg(4194308,4,vM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mg(4194308,4,t,e)},useInsertionEffect:function(t,e){mg(4,2,t,e)},useMemo:function(t,e){var n=ri();e=e===void 0?null:e;var r=t();if(Iu){rl(!0);try{t()}finally{rl(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ri();if(n!==void 0){var i=n(e);if(Iu){rl(!0);try{n(e)}finally{rl(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=WB.bind(null,Mt,t),[r.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:function(t){t=Tx(t);var e=t.queue,n=EM.bind(null,Mt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:L5,useDeferredValue:function(t,e){var n=ri();return j5(n,t,e)},useTransition:function(){var t=Tx(!1);return t=SM.bind(null,Mt,t.queue,!0,!1),ri().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Mt,i=ri();if(qt){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),mn===null)throw Error(je(349));Ft&127||iM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,zT(oM.bind(null,r,a,t),[t]),r.flags|=2048,kf(9,{destroy:void 0},aM.bind(null,r,a,n,e),null),n},useId:function(){var t=ri(),e=mn.identifierPrefix;if(qt){var n=fo,r=co;n=(r&~(1<<32-Ji(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Fg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=FB++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:R5,useFormState:UT,useActionState:UT,useOptimistic:function(t){var e=ri();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=B5.bind(null,Mt,!0,n),n.dispatch=e,[t,e]},useMemoCache:O5,useCacheRefresh:function(){return ri().memoizedState=GB.bind(null,Mt)},useEffectEvent:function(t){var e=ri(),n={impl:t};return e.memoizedState=n,function(){if(Jt&2)throw Error(je(440));return n.impl.apply(void 0,arguments)}}},$5={readContext:jr,use:vv,useCallback:bM,useContext:jr,useEffect:D5,useImperativeHandle:yM,useInsertionEffect:mM,useLayoutEffect:gM,useMemo:xM,useReducer:Ag,useRef:pM,useState:function(){return Ag(os)},useDebugValue:L5,useDeferredValue:function(t,e){var n=Xn();return wM(n,dn.memoizedState,t,e)},useTransition:function(){var t=Ag(os)[0],e=Xn().memoizedState;return[typeof t=="boolean"?t:vA(t),e]},useSyncExternalStore:rM,useId:CM,useHostTransitionStatus:R5,useFormState:qT,useActionState:qT,useOptimistic:function(t,e){var n=Xn();return uM(n,dn,t,e)},useMemoCache:O5,useCacheRefresh:NM};$5.useEffectEvent=AM;var OM={readContext:jr,use:vv,useCallback:bM,useContext:jr,useEffect:D5,useImperativeHandle:yM,useInsertionEffect:mM,useLayoutEffect:gM,useMemo:xM,useReducer:Ob,useRef:pM,useState:function(){return Ob(os)},useDebugValue:L5,useDeferredValue:function(t,e){var n=Xn();return dn===null?j5(n,t,e):wM(n,dn.memoizedState,t,e)},useTransition:function(){var t=Ob(os)[0],e=Xn().memoizedState;return[typeof t=="boolean"?t:vA(t),e]},useSyncExternalStore:rM,useId:CM,useHostTransitionStatus:R5,useFormState:HT,useActionState:HT,useOptimistic:function(t,e){var n=Xn();return dn!==null?uM(n,dn,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:O5,useCacheRefresh:NM};OM.useEffectEvent=AM;function Ib(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ex={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=dl(r);i.payload=e,n!=null&&(i.callback=n),e=hl(t,i,r),e!==null&&(wi(e,t,r),Hh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=dl(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hl(t,i,r),e!==null&&(wi(e,t,r),Hh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xi(),r=dl(n);r.tag=2,e!=null&&(r.callback=e),e=hl(t,r,n),e!==null&&(wi(e,t,n),Hh(e,t,n))}};function VT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!mp(n,r)||!mp(i,a):!0}function GT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ex.enqueueReplaceState(e,e.state,null)}function Du(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Mn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function IM(t){Og(t)}function DM(t){console.error(t)}function LM(t){Og(t)}function Ug(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function WT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function kx(t,e,n){return n=dl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ug(t,e)},n}function jM(t){return t=dl(t),t.tag=3,t}function RM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){WT(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){WT(e,n,r),typeof i!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function YB(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&ud(e,n,i,!0),n=ta.current,n!==null){switch(n.tag){case 31:case 13:return Na===null?Gg():n.alternate===null&&Hn===0&&(Hn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===jg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),zb(t,r,i)),!1;case 22:return n.flags|=65536,r===jg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),zb(t,r,i)),!1}throw Error(je(435,n.tag))}return zb(t,r,i),Gg(),!1}if(qt)return e=ta.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==mx&&(t=Error(je(422),{cause:r}),vp(Sa(t,n)))):(r!==mx&&(e=Error(je(423),{cause:r}),vp(Sa(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Sa(r,n),i=kx(t.stateNode,r,i),Mb(t,i),Hn!==4&&(Hn=2)),!1;var a=Error(je(520),{cause:r});if(a=Sa(a,n),Kh===null?Kh=[a]:Kh.push(a),Hn!==4&&(Hn=2),e===null)return!0;r=Sa(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=kx(n.stateNode,r,t),Mb(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(pl===null||!pl.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=jM(i),RM(i,t,n,r),Mb(n,i),!1}n=n.return}while(n!==null);return!1}var F5=Error(je(461)),sr=!1;function Ir(t,e,n,r){e.child=t===null?X6(e,null,n,r):Ou(e,t.child,n,r)}function YT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Mu(e),r=E5(t,e,n,o,a,i),s=k5(),t!==null&&!sr?(P5(t,e,i),ss(t,e,i)):(qt&&s&&b5(e),e.flags|=1,Ir(t,e,r,i),e.child)}function KT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!y5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,BM(t,e,a,r,i)):(t=hg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!U5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:mp,n(o,r)&&t.ref===e.ref)return ss(t,e,i)}return e.flags|=1,t=Zo(a,r),t.ref=e.ref,t.return=e,e.child=t}function BM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(mp(a,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=a,U5(t,i))t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,ss(t,e,i)}return Px(t,e,n,r,i)}function $M(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return JT(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&pg(e,a!==null?a.cachePool:null),a!==null?BT(e,a):Sx(),eM(e);else return r=e.lanes=536870912,JT(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(pg(e,a.cachePool),BT(e,a),Qs(),e.memoizedState=null):(t!==null&&pg(e,null),Sx(),Qs());return Ir(t,e,i,n),e.child}function Dh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function JT(t,e,n,r,i){var a=S5();return a=a===null?null:{parent:or._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&pg(e,null),Sx(),eM(e),t!==null&&ud(t,e,r,!0),e.childLanes=i,null}function gg(t,e){return e=qg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function XT(t,e,n){return Ou(e,t.child,null,n),t=gg(e,e.pendingProps),t.flags|=2,qi(e),e.memoizedState=null,t}function KB(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(qt){if(r.mode==="hidden")return t=gg(e,r),e.lanes=536870912,Dh(null,t);if(_x(e),(t=En)?(t=MO(t,_a),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Sl!==null?{id:co,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},n=z6(t),n.return=e,e.child=n,Lr=e,En=null)):t=null,t===null)throw _l(e);return e.lanes=536870912,null}return gg(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(_x(e),i)if(e.flags&256)e.flags&=-257,e=XT(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(je(558));else if(sr||ud(t,e,n,!1),i=(n&t.childLanes)!==0,sr||i){if(r=mn,r!==null&&(o=m6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,Vu(t,o),wi(r,t,o),F5;Gg(),e=XT(t,e,n)}else t=a.treeContext,En=Ea(o.nextSibling),Lr=e,qt=!0,fl=null,_a=!1,t!==null&&G6(e,t),e=gg(e,r),e.flags|=4096;return e}return t=Zo(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function vg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(je(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Px(t,e,n,r,i){return Mu(e),n=E5(t,e,n,r,void 0,i),r=k5(),t!==null&&!sr?(P5(t,e,i),ss(t,e,i)):(qt&&r&&b5(e),e.flags|=1,Ir(t,e,n,i),e.child)}function QT(t,e,n,r,i,a){return Mu(e),e.updateQueue=null,n=nM(e,r,n,i),tM(t),r=k5(),t!==null&&!sr?(P5(t,e,a),ss(t,e,a)):(qt&&r&&b5(e),e.flags|=1,Ir(t,e,n,a),e.child)}function ZT(t,e,n,r,i){if(Mu(e),e.stateNode===null){var a=Zc,o=n.contextType;typeof o=="object"&&o!==null&&(a=jr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ex,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},T5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?jr(o):Zc,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Ib(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Ex.enqueueReplaceState(a,a.state,null),Vh(e,r,a,i),zh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=Du(n,s);a.props=l;var u=a.context,c=n.contextType;o=Zc,typeof c=="object"&&c!==null&&(o=jr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&GT(e,a,r,o),Ws=!1;var h=e.memoizedState;a.state=h,Vh(e,r,a,i),zh(),u=e.memoizedState,s||h!==u||Ws?(typeof f=="function"&&(Ib(e,n,f,r),u=e.memoizedState),(l=Ws||VT(e,n,l,r,h,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,xx(t,e),o=e.memoizedProps,c=Du(n,o),a.props=c,f=e.pendingProps,h=a.context,u=n.contextType,l=Zc,typeof u=="object"&&u!==null&&(l=jr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&GT(e,a,r,l),Ws=!1,h=e.memoizedState,a.state=h,Vh(e,r,a,i),zh();var A=e.memoizedState;o!==f||h!==A||Ws||t!==null&&t.dependencies!==null&&Lg(t.dependencies)?(typeof s=="function"&&(Ib(e,n,s,r),A=e.memoizedState),(c=Ws||VT(e,n,c,r,h,A,l)||t!==null&&t.dependencies!==null&&Lg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,A,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,A,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),a.props=r,a.state=A,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,vg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Ou(e,t.child,null,i),e.child=Ou(e,null,n,i)):Ir(t,e,n,i),e.memoizedState=a.state,t=e.child):t=ss(t,e,i),t}function eC(t,e,n,r){return Pu(),e.flags|=256,Ir(t,e,n,r),e.child}var Db={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lb(t){return{baseLanes:t,cachePool:Y6()}}function jb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Gi),t}function FM(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Jn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(i?Xs(e):Qs(),(t=En)?(t=MO(t,_a),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Sl!==null?{id:co,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},n=z6(t),n.return=e,e.child=n,Lr=e,En=null)):t=null,t===null)throw _l(e);return zx(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Qs(),i=e.mode,s=qg({mode:"hidden",children:s},i),r=yu(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Lb(n),r.childLanes=jb(t,o,n),e.memoizedState=Db,Dh(null,r)):(Xs(e),Mx(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(Xs(e),e.flags&=-257,e=Rb(t,e,n)):e.memoizedState!==null?(Qs(),e.child=t.child,e.flags|=128,e=null):(Qs(),s=r.fallback,i=e.mode,r=qg({mode:"visible",children:r.children},i),s=yu(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,Ou(e,t.child,null,n),r=e.child,r.memoizedState=Lb(n),r.childLanes=jb(t,o,n),e.memoizedState=Db,e=Dh(null,r));else if(Xs(e),zx(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(je(419)),r.stack="",r.digest=o,vp({value:r,source:null,stack:null}),e=Rb(t,e,n)}else if(sr||ud(t,e,n,!1),o=(n&t.childLanes)!==0,sr||o){if(o=mn,o!==null&&(r=m6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Vu(t,r),wi(o,t,r),F5;Hx(s)||Gg(),e=Rb(t,e,n)}else Hx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,En=Ea(s.nextSibling),Lr=e,qt=!0,fl=null,_a=!1,t!==null&&G6(e,t),e=Mx(e,r.children),e.flags|=4096);return e}return i?(Qs(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Zo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Zo(u,s):(s=yu(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,Dh(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Lb(n):(i=s.cachePool,i!==null?(l=or._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=Y6(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=jb(t,o,n),e.memoizedState=Db,Dh(t.child,r)):(Xs(e),n=t.child,t=n.sibling,n=Zo(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Mx(t,e){return e=qg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function qg(t,e){return t=Hi(22,t,null,e),t.lanes=0,t}function Rb(t,e,n){return Ou(e,t.child,null,n),t=Mx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vx(t.return,e,n)}function Bb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function UM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Jn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,wn(Jn,o),Ir(t,e,r,n),r=qt?gp:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tC(t,n,e);else if(t.tag===19)tC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bb(e,!0,n,null,a,r);break;case"together":Bb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cl|=e.lanes,!(n&e.childLanes))if(t!==null){if(ud(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=Zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Lg(t)))}function JB(t,e,n){switch(e.tag){case 3:Eg(e,e.stateNode.containerInfo),Js(e,or,t.memoizedState.cache),Pu();break;case 27:case 5:ax(e);break;case 4:Eg(e,e.stateNode.containerInfo);break;case 10:Js(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,_x(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Xs(e),e.flags|=128,null):n&e.child.childLanes?FM(t,e,n):(Xs(e),t=ss(t,e,n),t!==null?t.sibling:null);Xs(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(ud(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return UM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Jn,Jn.current),r)break;return null;case 22:return e.lanes=0,$M(t,e,n,e.pendingProps);case 24:Js(e,or,t.memoizedState.cache)}return ss(t,e,n)}function qM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)sr=!0;else{if(!U5(t,n)&&!(e.flags&128))return sr=!1,JB(t,e,n);sr=!!(t.flags&131072)}else sr=!1,qt&&e.flags&1048576&&V6(e,gp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ru(e.elementType),e.type=t,typeof t=="function")y5(t)?(r=Du(t,r),e.tag=1,e=ZT(null,e,t,r,n)):(e.tag=0,e=Px(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===a5){e.tag=11,e=YT(null,e,t,r,n);break e}else if(i===o5){e.tag=14,e=KT(null,e,t,r,n);break e}}throw e=rx(t)||t,Error(je(306,e,""))}}return e;case 0:return Px(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Du(r,e.pendingProps),ZT(t,e,r,i,n);case 3:e:{if(Eg(e,e.stateNode.containerInfo),t===null)throw Error(je(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,xx(t,e),Vh(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Js(e,or,r),r!==a.cache&&yx(e,[or],n,!0),zh(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=eC(t,e,r,n);break e}else if(r!==i){i=Sa(Error(je(424)),e),vp(i),e=eC(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(En=Ea(t.firstChild),Lr=e,qt=!0,fl=null,_a=!0,n=X6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Pu(),r===i){e=ss(t,e,n);break e}Ir(t,e,r,n)}e=e.child}return e;case 26:return vg(t,e),t===null?(n=xC(e.type,null,e.pendingProps,null))?e.memoizedState=n:qt||(n=e.type,t=e.pendingProps,r=Jg(cl.current).createElement(n),r[Dr]=e,r[Si]=t,Rr(r,n,t),Tr(r),e.stateNode=r):e.memoizedState=xC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ax(e),t===null&&qt&&(r=e.stateNode=OO(e.type,e.pendingProps,cl.current),Lr=e,_a=!0,i=En,Ml(e.type)?(Vx=i,En=Ea(r.firstChild)):En=i),Ir(t,e,e.pendingProps.children,n),vg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((i=r=En)&&(r=C$(r,e.type,e.pendingProps,_a),r!==null?(e.stateNode=r,Lr=e,En=Ea(r.firstChild),_a=!1,i=!0):i=!1),i||_l(e)),ax(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,Ux(i,a)?r=null:o!==null&&Ux(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=E5(t,e,UB,null,null,n),_p._currentValue=i),vg(t,e),Ir(t,e,r,n),e.child;case 6:return t===null&&qt&&((t=n=En)&&(n=N$(n,e.pendingProps,_a),n!==null?(e.stateNode=n,Lr=e,En=null,t=!0):t=!1),t||_l(e)),null;case 13:return FM(t,e,n);case 4:return Eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ou(e,null,r,n):Ir(t,e,r,n),e.child;case 11:return YT(t,e,e.type,e.pendingProps,n);case 7:return Ir(t,e,e.pendingProps,n),e.child;case 8:return Ir(t,e,e.pendingProps.children,n),e.child;case 12:return Ir(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Js(e,e.type,r.value),Ir(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Mu(e),i=jr(i),r=r(i),e.flags|=1,Ir(t,e,r,n),e.child;case 14:return KT(t,e,e.type,e.pendingProps,n);case 15:return BM(t,e,e.type,e.pendingProps,n);case 19:return UM(t,e,n);case 31:return KB(t,e,n);case 22:return $M(t,e,n,e.pendingProps);case 24:return Mu(e),r=jr(or),t===null?(i=S5(),i===null&&(i=mn,a=w5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},T5(e),Js(e,or,i)):(t.lanes&n&&(xx(t,e),Vh(e,null,null,n),zh()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Js(e,or,r)):(r=a.cache,Js(e,or,r),r!==i.cache&&yx(e,[or],n,!0))),Ir(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(je(156,e.tag))}function Ro(t){t.flags|=4}function $b(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(dO())t.flags|=8192;else throw xu=jg,_5}else t.flags&=-16777217}function nC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!LO(e))if(dO())t.flags|=8192;else throw xu=jg,_5}function Pm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?h6():536870912,t.lanes|=e,Pf|=e)}function hh(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XB(t,e,n){var r=e.pendingProps;switch(x5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return _n(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),es(or),_f(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?Ro(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pb())),_n(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Ro(e),a!==null?(_n(e),nC(e,a)):(_n(e),$b(e,i,null,r,n))):a?a!==t.memoizedState?(Ro(e),_n(e),nC(e,a)):(_n(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ro(e),_n(e),$b(e,i,t,r,n)),null;case 27:if(kg(e),n=cl.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ro(e);else{if(!r){if(e.stateNode===null)throw Error(je(166));return _n(e),null}t=mo.current,Tc(e)?MT(e):(t=OO(i,r,n),e.stateNode=t,Ro(e))}return _n(e),null;case 5:if(kg(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ro(e);else{if(!r){if(e.stateNode===null)throw Error(je(166));return _n(e),null}if(a=mo.current,Tc(e))MT(e);else{var o=Jg(cl.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Dr]=e,a[Si]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Rr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ro(e)}}return _n(e),$b(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ro(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(t=cl.current,Tc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Lr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Dr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||EO(t.nodeValue,n)),t||_l(e,!0)}else t=Jg(t).createTextNode(r),t[Dr]=e,e.stateNode=t}return _n(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Tc(e),n!==null){if(t===null){if(!r)throw Error(je(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(557));t[Dr]=e}else Pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),t=!1}else n=Pb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(qi(e),e):(qi(e),null);if(e.flags&128)throw Error(je(558))}return _n(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(je(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[Dr]=e}else Pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else i=Pb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(qi(e),e):(qi(e),null)}return qi(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Pm(e,e.updateQueue),_n(e),null);case 4:return _f(),t===null&&Y5(e.stateNode.containerInfo),_n(e),null;case 10:return es(e.type),_n(e),null;case 19:if(Nr(Jn),r=e.memoizedState,r===null)return _n(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)hh(r,!1);else{if(Hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bg(t),a!==null){for(e.flags|=128,hh(r,!1),t=a.updateQueue,e.updateQueue=t,Pm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)H6(n,t),n=n.sibling;return wn(Jn,Jn.current&1|2),qt&&Vo(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Yi()>zg&&(e.flags|=128,i=!0,hh(r,!1),e.lanes=4194304)}else{if(!i)if(t=Bg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Pm(e,t),hh(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!qt)return _n(e),null}else 2*Yi()-r.renderingStartTime>zg&&n!==536870912&&(e.flags|=128,i=!0,hh(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Yi(),t.sibling=null,n=Jn.current,wn(Jn,i?n&1|2:n&1),qt&&Vo(e,r.treeForkCount),t):(_n(e),null);case 22:case 23:return qi(e),C5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),n=e.updateQueue,n!==null&&Pm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Nr(bu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),es(or),_n(e),null;case 25:return null;case 30:return null}throw Error(je(156,e.tag))}function QB(t,e){switch(x5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(or),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return kg(e),null;case 31:if(e.memoizedState!==null){if(qi(e),e.alternate===null)throw Error(je(340));Pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(qi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nr(Jn),null;case 4:return _f(),null;case 10:return es(e.type),null;case 22:case 23:return qi(e),C5(),t!==null&&Nr(bu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return es(or),null;case 25:return null;default:return null}}function HM(t,e){switch(x5(e),e.tag){case 3:es(or),_f();break;case 26:case 27:case 5:kg(e);break;case 4:_f();break;case 31:e.memoizedState!==null&&qi(e);break;case 13:qi(e);break;case 19:Nr(Jn);break;case 10:es(e.type);break;case 22:case 23:qi(e),C5(),t!==null&&Nr(bu);break;case 24:es(or)}}function yA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){rn(e,e.return,s)}}function Tl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){rn(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){rn(e,e.return,c)}}function zM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Z6(e,n)}catch(r){rn(t,t.return,r)}}}function VM(t,e,n){n.props=Du(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){rn(t,e,r)}}function Wh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){rn(t,e,i)}}function ho(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){rn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){rn(t,e,i)}else n.current=null}function GM(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){rn(t,t.return,i)}}function Fb(t,e,n){try{var r=t.stateNode;b$(r,t.type,n,e),r[Si]=e}catch(i){rn(t,t.return,i)}}function WM(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ml(t.type)||t.tag===4}function Ub(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ml(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ox(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yo));else if(r!==4&&(r===27&&Ml(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ox(t,e,n),t=t.sibling;t!==null;)Ox(t,e,n),t=t.sibling}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ml(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}function YM(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Rr(e,r,n),e[Dr]=t,e[Si]=n}catch(a){rn(t,t.return,a)}}var Go=!1,ar=!1,qb=!1,rC=typeof WeakSet=="function"?WeakSet:Set,_r=null;function ZB(t,e){if(t=t.containerInfo,$x=e0,t=L6(t),m5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var A;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(A=f.firstChild)!==null;)h=f,f=A;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(A=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=A}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fx={focusedElem:t,selectionRange:n},e0=!1,_r=e;_r!==null;)if(e=_r,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_r=t;else for(;_r!==null;){switch(e=_r,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=Du(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){rn(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)qx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(je(163))}if(t=e.sibling,t!==null){t.return=e.return,_r=t;break}_r=e.return}}function KM(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$o(t,n),r&4&&yA(5,n);break;case 1:if($o(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){rn(n,n.return,o)}else{var i=Du(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){rn(n,n.return,o)}}r&64&&zM(n),r&512&&Wh(n,n.return);break;case 3:if($o(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Z6(t,e)}catch(o){rn(n,n.return,o)}}break;case 27:e===null&&r&4&&YM(n);case 26:case 5:$o(t,n),e===null&&r&4&&GM(n),r&512&&Wh(n,n.return);break;case 12:$o(t,n);break;case 31:$o(t,n),r&4&&QM(t,n);break;case 13:$o(t,n),r&4&&ZM(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=l$.bind(null,n),E$(t,n))));break;case 22:if(r=n.memoizedState!==null||Go,!r){e=e!==null&&e.memoizedState!==null||ar,i=Go;var a=ar;Go=r,(ar=e)&&!a?qo(t,n,(n.subtreeFlags&8772)!==0):$o(t,n),Go=i,ar=a}break;case 30:break;default:$o(t,n)}}function JM(t){var e=t.alternate;e!==null&&(t.alternate=null,JM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&c5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var On=null,vi=!1;function Bo(t,e,n){for(n=n.child;n!==null;)XM(t,e,n),n=n.sibling}function XM(t,e,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(dA,n)}catch{}switch(n.tag){case 26:ar||ho(n,e),Bo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ar||ho(n,e);var r=On,i=vi;Ml(n.type)&&(On=n.stateNode,vi=!1),Bo(t,e,n),Xh(n.stateNode),On=r,vi=i;break;case 5:ar||ho(n,e);case 6:if(r=On,i=vi,On=null,Bo(t,e,n),On=r,vi=i,On!==null)if(vi)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(n.stateNode)}catch(a){rn(n,e,a)}else try{On.removeChild(n.stateNode)}catch(a){rn(n,e,a)}break;case 18:On!==null&&(vi?(t=On,mC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Df(t)):mC(On,n.stateNode));break;case 4:r=On,i=vi,On=n.stateNode.containerInfo,vi=!0,Bo(t,e,n),On=r,vi=i;break;case 0:case 11:case 14:case 15:Tl(2,n,e),ar||Tl(4,n,e),Bo(t,e,n);break;case 1:ar||(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&VM(n,e,r)),Bo(t,e,n);break;case 21:Bo(t,e,n);break;case 22:ar=(r=ar)||n.memoizedState!==null,Bo(t,e,n),ar=r;break;default:Bo(t,e,n)}}function QM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Df(t)}catch(n){rn(e,e.return,n)}}}function ZM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Df(t)}catch(n){rn(e,e.return,n)}}function e$(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new rC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new rC),e;default:throw Error(je(435,t.tag))}}function Mm(t,e){var n=e$(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=u$.bind(null,t,r);r.then(i,i)}})}function Ai(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Ml(s.type)){On=s.stateNode,vi=!1;break e}break;case 5:On=s.stateNode,vi=!1;break e;case 3:case 4:On=s.stateNode.containerInfo,vi=!0;break e}s=s.return}if(On===null)throw Error(je(160));XM(a,o,i),On=null,vi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)eO(e,t),e=e.sibling}var Va=null;function eO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ai(e,t),mi(t),r&4&&(Tl(3,t,t.return),yA(3,t),Tl(5,t,t.return));break;case 1:Ai(e,t),mi(t),r&512&&(ar||n===null||ho(n,n.return)),r&64&&Go&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Va;if(Ai(e,t),mi(t),r&512&&(ar||n===null||ho(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[AA]||a[Dr]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Rr(a,r,n),a[Dr]=t,Tr(a),r=a;break e;case"link":var o=SC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Rr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=SC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Rr(a,r,n),i.head.appendChild(a);break;default:throw Error(je(468,r))}a[Dr]=t,Tr(a),r=a}t.stateNode=r}else _C(i,t.type,t.stateNode);else t.stateNode=wC(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?_C(i,t.type,t.stateNode):wC(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Fb(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ai(e,t),mi(t),r&512&&(ar||n===null||ho(n,n.return)),n!==null&&r&4&&Fb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ai(e,t),mi(t),r&512&&(ar||n===null||ho(n,n.return)),t.flags&32){i=t.stateNode;try{Cf(i,"")}catch(v){rn(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Fb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(qb=!0);break;case 6:if(Ai(e,t),mi(t),r&4){if(t.stateNode===null)throw Error(je(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){rn(t,t.return,v)}}break;case 3:if(xg=null,i=Va,Va=Xg(e.containerInfo),Ai(e,t),Va=i,mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Df(e.containerInfo)}catch(v){rn(t,t.return,v)}qb&&(qb=!1,tO(t));break;case 4:r=Va,Va=Xg(t.stateNode.containerInfo),Ai(e,t),mi(t),Va=r;break;case 12:Ai(e,t),mi(t);break;case 31:Ai(e,t),mi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Mm(t,r)));break;case 13:Ai(e,t),mi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xv=Yi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Mm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Go,c=ar;if(Go=u||i,ar=c||l,Ai(e,t),ar=c,Go=u,mi(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Go||ar||iu(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){rn(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){rn(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var A=l.stateNode;i?gC(A,!0):gC(l.stateNode,!1)}catch(v){rn(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Mm(t,n))));break;case 19:Ai(e,t),mi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Mm(t,r)));break;case 30:break;case 21:break;default:Ai(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(WM(r)){n=r;break}r=r.return}if(n==null)throw Error(je(160));switch(n.tag){case 27:var i=n.stateNode,a=Ub(t);Hg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(Cf(o,""),n.flags&=-33);var s=Ub(t);Hg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Ub(t);Ox(t,u,l);break;default:throw Error(je(161))}}catch(c){rn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;tO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $o(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)KM(t,e.alternate,e),e=e.sibling}function iu(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Tl(4,e,e.return),iu(e);break;case 1:ho(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&VM(e,e.return,n),iu(e);break;case 27:Xh(e.stateNode);case 26:case 5:ho(e,e.return),iu(e);break;case 22:e.memoizedState===null&&iu(e);break;case 30:iu(e);break;default:iu(e)}t=t.sibling}}function qo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:qo(i,a,n),yA(4,a);break;case 1:if(qo(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){rn(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Q6(l[i],s)}catch(u){rn(r,r.return,u)}}n&&o&64&&zM(a),Wh(a,a.return);break;case 27:YM(a);case 26:case 5:qo(i,a,n),n&&r===null&&o&4&&GM(a),Wh(a,a.return);break;case 12:qo(i,a,n);break;case 31:qo(i,a,n),n&&o&4&&QM(i,a);break;case 13:qo(i,a,n),n&&o&4&&ZM(i,a);break;case 22:a.memoizedState===null&&qo(i,a,n),Wh(a,a.return);break;case 30:break;default:qo(i,a,n)}e=e.sibling}}function q5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&gA(n))}function H5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gA(t))}function Fa(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nO(t,e,n,r),e=e.sibling}function nO(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Fa(t,e,n,r),i&2048&&yA(9,e);break;case 1:Fa(t,e,n,r);break;case 3:Fa(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&gA(t)));break;case 12:if(i&2048){Fa(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){rn(e,e.return,l)}}else Fa(t,e,n,r);break;case 31:Fa(t,e,n,r);break;case 13:Fa(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?Fa(t,e,n,r):Yh(t,e):a._visibility&2?Fa(t,e,n,r):(a._visibility|=2,Bc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&q5(o,e);break;case 24:Fa(t,e,n,r),i&2048&&H5(e.alternate,e);break;default:Fa(t,e,n,r)}}function Bc(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Bc(a,o,s,l,i),yA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Bc(a,o,s,l,i):Yh(a,o):(c._visibility|=2,Bc(a,o,s,l,i)),i&&u&2048&&q5(o.alternate,o);break;case 24:Bc(a,o,s,l,i),i&&u&2048&&H5(o.alternate,o);break;default:Bc(a,o,s,l,i)}e=e.sibling}}function Yh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Yh(n,r),i&2048&&q5(r.alternate,r);break;case 24:Yh(n,r),i&2048&&H5(r.alternate,r);break;default:Yh(n,r)}e=e.sibling}}var Lh=8192;function Cc(t,e,n){if(t.subtreeFlags&Lh)for(t=t.child;t!==null;)rO(t,e,n),t=t.sibling}function rO(t,e,n){switch(t.tag){case 26:Cc(t,e,n),t.flags&Lh&&t.memoizedState!==null&&F$(n,Va,t.memoizedState,t.memoizedProps);break;case 5:Cc(t,e,n);break;case 3:case 4:var r=Va;Va=Xg(t.stateNode.containerInfo),Cc(t,e,n),Va=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Lh,Lh=16777216,Cc(t,e,n),Lh=r):Cc(t,e,n));break;default:Cc(t,e,n)}}function iO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ph(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_r=r,oO(r,t)}iO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)aO(t),t=t.sibling}function aO(t){switch(t.tag){case 0:case 11:case 15:ph(t),t.flags&2048&&Tl(9,t,t.return);break;case 3:ph(t);break;case 12:ph(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,yg(t)):ph(t);break;default:ph(t)}}function yg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_r=r,oO(r,t)}iO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Tl(8,e,e.return),yg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,yg(e));break;default:yg(e)}t=t.sibling}}function oO(t,e){for(;_r!==null;){var n=_r;switch(n.tag){case 0:case 11:case 15:Tl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:gA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,_r=r;else e:for(n=t;_r!==null;){r=_r;var i=r.sibling,a=r.return;if(JM(r),r===n){_r=null;break e}if(i!==null){i.return=a,_r=i;break e}_r=a}}}var t$={getCacheForType:function(t){var e=jr(or),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return jr(or).controller.signal}},n$=typeof WeakMap=="function"?WeakMap:Map,Jt=0,mn=null,Bt=null,Ft=0,nn=0,Fi=null,al=!1,fd=!1,z5=!1,ls=0,Hn=0,Cl=0,wu=0,V5=0,Gi=0,Pf=0,Kh=null,yi=null,Ix=!1,xv=0,sO=0,zg=1/0,Vg=null,pl=null,Ar=0,Al=null,Mf=null,ts=0,Dx=0,Lx=null,lO=null,Jh=0,jx=null;function Xi(){return Jt&2&&Ft!==0?Ft&-Ft:xt.T!==null?W5():g6()}function uO(){if(Gi===0)if(!(Ft&536870912)||qt){var t=Sm;Sm<<=1,!(Sm&3932160)&&(Sm=262144),Gi=t}else Gi=536870912;return t=ta.current,t!==null&&(t.flags|=32),Gi}function wi(t,e,n){(t===mn&&(nn===2||nn===9)||t.cancelPendingCommit!==null)&&(Of(t,0),ol(t,Ft,Gi,!1)),pA(t,n),(!(Jt&2)||t!==mn)&&(t===mn&&(!(Jt&2)&&(wu|=n),Hn===4&&ol(t,Ft,Gi,!1)),wo(t))}function cO(t,e,n){if(Jt&6)throw Error(je(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||hA(t,e),i=r?a$(t,e):Hb(t,e,!0),a=r;do{if(i===0){fd&&!r&&ol(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!r$(n)){i=Hb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=Kh;var l=s.current.memoizedState.isDehydrated;if(l&&(Of(s,o).flags|=256),o=Hb(s,o,!1),o!==2){if(z5&&!l){s.errorRecoveryDisabledLanes|=a,wu|=a,i=4;break e}a=yi,yi=i,a!==null&&(yi===null?yi=a:yi.push.apply(yi,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){Of(t,0),ol(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(je(345));case 4:if((e&4194048)!==e)break;case 6:ol(r,e,Gi,!al);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(je(329))}if((e&62914560)===e&&(i=xv+300-Yi(),10<i)){if(ol(r,e,Gi,!al),cv(r,0,!0)!==0)break e;ts=e,r.timeoutHandle=PO(iC.bind(null,r,n,yi,Vg,Ix,e,Gi,wu,Pf,al,a,"Throttled",-0,0),i);break e}iC(r,n,yi,Vg,Ix,e,Gi,wu,Pf,al,a,null,-0,0)}}break}while(!0);wo(t)}function iC(t,e,n,r,i,a,o,s,l,u,c,f,h,A){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yo},rO(e,a,f);var v=(a&62914560)===a?xv-Yi():(a&4194048)===a?sO-Yi():0;if(v=U$(f,v),v!==null){ts=a,t.cancelPendingCommit=v(oC.bind(null,t,e,a,n,r,i,o,s,l,c,f,null,h,A)),ol(t,a,o,!u);return}}oC(t,e,a,n,r,i,o,s,l)}function r$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ea(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ol(t,e,n,r){e&=~V5,e&=~wu,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Ji(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&p6(t,n,e)}function wv(){return Jt&6?!0:(bA(0),!1)}function G5(){if(Bt!==null){if(nn===0)var t=Bt.return;else t=Bt,Ko=Gu=null,M5(t),pf=null,yp=0,t=Bt;for(;t!==null;)HM(t.alternate,t),t=t.return;Bt=null}}function Of(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,S$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ts=0,G5(),mn=t,Bt=n=Zo(t.current,null),Ft=e,nn=0,Fi=null,al=!1,fd=hA(t,e),z5=!1,Pf=Gi=V5=wu=Cl=Hn=0,yi=Kh=null,Ix=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Ji(r),a=1<<i;e|=t[i],r&=~a}return ls=e,pv(),n}function fO(t,e){Mt=null,xt.H=xp,e===cd||e===mv?(e=jT(),nn=3):e===_5?(e=jT(),nn=4):nn=e===F5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Fi=e,Bt===null&&(Hn=1,Ug(t,Sa(e,t.current)))}function dO(){var t=ta.current;return t===null?!0:(Ft&4194048)===Ft?Na===null:(Ft&62914560)===Ft||Ft&536870912?t===Na:!1}function hO(){var t=xt.H;return xt.H=xp,t===null?xp:t}function pO(){var t=xt.A;return xt.A=t$,t}function Gg(){Hn=4,al||(Ft&4194048)!==Ft&&ta.current!==null||(fd=!0),!(Cl&134217727)&&!(wu&134217727)||mn===null||ol(mn,Ft,Gi,!1)}function Hb(t,e,n){var r=Jt;Jt|=2;var i=hO(),a=pO();(mn!==t||Ft!==e)&&(Vg=null,Of(t,e)),e=!1;var o=Hn;e:do try{if(nn!==0&&Bt!==null){var s=Bt,l=Fi;switch(nn){case 8:G5(),o=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(e=!0);var u=nn;if(nn=0,Fi=null,nf(t,s,l,u),n&&fd){o=0;break e}break;default:u=nn,nn=0,Fi=null,nf(t,s,l,u)}}i$(),o=Hn;break}catch(c){fO(t,c)}while(!0);return e&&t.shellSuspendCounter++,Ko=Gu=null,Jt=r,xt.H=i,xt.A=a,Bt===null&&(mn=null,Ft=0,pv()),o}function i$(){for(;Bt!==null;)AO(Bt)}function a$(t,e){var n=Jt;Jt|=2;var r=hO(),i=pO();mn!==t||Ft!==e?(Vg=null,zg=Yi()+500,Of(t,e)):fd=hA(t,e);e:do try{if(nn!==0&&Bt!==null){e=Bt;var a=Fi;t:switch(nn){case 1:nn=0,Fi=null,nf(t,e,a,1);break;case 2:case 9:if(LT(a)){nn=0,Fi=null,aC(e);break}e=function(){nn!==2&&nn!==9||mn!==t||(nn=7),wo(t)},a.then(e,e);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:LT(a)?(nn=0,Fi=null,aC(e)):(nn=0,Fi=null,nf(t,e,a,7));break;case 5:var o=null;switch(Bt.tag){case 26:o=Bt.memoizedState;case 5:case 27:var s=Bt;if(o?LO(o):s.stateNode.complete){nn=0,Fi=null;var l=s.sibling;if(l!==null)Bt=l;else{var u=s.return;u!==null?(Bt=u,Sv(u)):Bt=null}break t}}nn=0,Fi=null,nf(t,e,a,5);break;case 6:nn=0,Fi=null,nf(t,e,a,6);break;case 8:G5(),Hn=6;break e;default:throw Error(je(462))}}o$();break}catch(c){fO(t,c)}while(!0);return Ko=Gu=null,xt.H=r,xt.A=i,Jt=n,Bt!==null?0:(mn=null,Ft=0,pv(),Hn)}function o$(){for(;Bt!==null&&!k7();)AO(Bt)}function AO(t){var e=qM(t.alternate,t,ls);t.memoizedProps=t.pendingProps,e===null?Sv(t):Bt=e}function aC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=QT(n,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=QT(n,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:M5(e);default:HM(n,e),e=Bt=H6(e,ls),e=qM(n,e,ls)}t.memoizedProps=t.pendingProps,e===null?Sv(t):Bt=e}function nf(t,e,n,r){Ko=Gu=null,M5(e),pf=null,yp=0;var i=e.return;try{if(YB(t,i,e,n,Ft)){Hn=1,Ug(t,Sa(n,t.current)),Bt=null;return}}catch(a){if(i!==null)throw Bt=i,a;Hn=1,Ug(t,Sa(n,t.current)),Bt=null;return}e.flags&32768?(qt||r===1?t=!0:fd||Ft&536870912?t=!1:(al=t=!0,(r===2||r===9||r===3||r===6)&&(r=ta.current,r!==null&&r.tag===13&&(r.flags|=16384))),mO(e,t)):Sv(e)}function Sv(t){var e=t;do{if(e.flags&32768){mO(e,al);return}t=e.return;var n=XB(e.alternate,e,ls);if(n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Hn===0&&(Hn=5)}function mO(t,e){do{var n=QB(t.alternate,t);if(n!==null){n.flags&=32767,Bt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Bt=t;return}Bt=t=n}while(t!==null);Hn=6,Bt=null}function oC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do _v();while(Ar!==0);if(Jt&6)throw Error(je(327));if(e!==null){if(e===t.current)throw Error(je(177));if(a=e.lanes|e.childLanes,a|=g5,$7(t,n,a,o,s,l),t===mn&&(Bt=mn=null,Ft=0),Mf=e,Al=t,ts=n,Dx=a,Lx=i,lO=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,c$(Pg,function(){return xO(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=xt.T,xt.T=null,i=Xt.p,Xt.p=2,o=Jt,Jt|=4;try{ZB(t,e,n)}finally{Jt=o,Xt.p=i,xt.T=r}}Ar=1,gO(),vO(),yO()}}function gO(){if(Ar===1){Ar=0;var t=Al,e=Mf,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=xt.T,xt.T=null;var r=Xt.p;Xt.p=2;var i=Jt;Jt|=4;try{eO(e,t);var a=Fx,o=L6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&D6(s.ownerDocument.documentElement,s)){if(l!==null&&m5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var A=h.getSelection(),v=s.textContent.length,b=Math.min(l.start,v),w=l.end===void 0?b:Math.min(l.end,v);!A.extend&&b>w&&(o=w,w=b,b=o);var y=ET(s,b),x=ET(s,w);if(y&&x&&(A.rangeCount!==1||A.anchorNode!==y.node||A.anchorOffset!==y.offset||A.focusNode!==x.node||A.focusOffset!==x.offset)){var S=f.createRange();S.setStart(y.node,y.offset),A.removeAllRanges(),b>w?(A.addRange(S),A.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),A.addRange(S))}}}}for(f=[],A=s;A=A.parentNode;)A.nodeType===1&&f.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}e0=!!$x,Fx=$x=null}finally{Jt=i,Xt.p=r,xt.T=n}}t.current=e,Ar=2}}function vO(){if(Ar===2){Ar=0;var t=Al,e=Mf,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=xt.T,xt.T=null;var r=Xt.p;Xt.p=2;var i=Jt;Jt|=4;try{KM(t,e.alternate,e)}finally{Jt=i,Xt.p=r,xt.T=n}}Ar=3}}function yO(){if(Ar===4||Ar===3){Ar=0,P7();var t=Al,e=Mf,n=ts,r=lO;e.subtreeFlags&10256||e.flags&10256?Ar=5:(Ar=0,Mf=Al=null,bO(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(pl=null),u5(n),e=e.stateNode,Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(dA,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=xt.T,i=Xt.p,Xt.p=2,xt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{xt.T=e,Xt.p=i}}ts&3&&_v(),wo(t),i=t.pendingLanes,n&261930&&i&42?t===jx?Jh++:(Jh=0,jx=t):Jh=0,bA(0)}}function bO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,gA(e)))}function _v(){return gO(),vO(),yO(),xO()}function xO(){if(Ar!==5)return!1;var t=Al,e=Dx;Dx=0;var n=u5(ts),r=xt.T,i=Xt.p;try{Xt.p=32>n?32:n,xt.T=null,n=Lx,Lx=null;var a=Al,o=ts;if(Ar=0,Mf=Al=null,ts=0,Jt&6)throw Error(je(331));var s=Jt;if(Jt|=4,aO(a.current),nO(a,a.current,o,n),Jt=s,bA(0,!1),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(dA,a)}catch{}return!0}finally{Xt.p=i,xt.T=r,bO(t,e)}}function sC(t,e,n){e=Sa(n,e),e=kx(t.stateNode,e,2),t=hl(t,e,2),t!==null&&(pA(t,2),wo(t))}function rn(t,e,n){if(t.tag===3)sC(t,t,n);else for(;e!==null;){if(e.tag===3){sC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pl===null||!pl.has(r))){t=Sa(n,t),n=jM(2),r=hl(e,n,2),r!==null&&(RM(n,r,e,t),pA(r,2),wo(r));break}}e=e.return}}function zb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new n$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(z5=!0,i.add(n),t=s$.bind(null,t,e,n),e.then(t,t))}function s$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,mn===t&&(Ft&n)===n&&(Hn===4||Hn===3&&(Ft&62914560)===Ft&&300>Yi()-xv?!(Jt&2)&&Of(t,0):V5|=n,Pf===Ft&&(Pf=0)),wo(t)}function wO(t,e){e===0&&(e=h6()),t=Vu(t,e),t!==null&&(pA(t,e),wo(t))}function l$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wO(t,n)}function u$(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(je(314))}r!==null&&r.delete(e),wO(t,n)}function c$(t,e){return s5(t,e)}var Wg=null,$c=null,Rx=!1,Yg=!1,Vb=!1,sl=0;function wo(t){t!==$c&&t.next===null&&($c===null?Wg=$c=t:$c=$c.next=t),Yg=!0,Rx||(Rx=!0,d$())}function bA(t,e){if(!Vb&&Yg){Vb=!0;do for(var n=!1,r=Wg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ji(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,lC(r,a))}else a=Ft,a=cv(r,r===mn?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||hA(r,a)||(n=!0,lC(r,a));r=r.next}while(n);Vb=!1}}function f$(){SO()}function SO(){Yg=Rx=!1;var t=0;sl!==0&&w$()&&(t=sl);for(var e=Yi(),n=null,r=Wg;r!==null;){var i=r.next,a=_O(r,e);a===0?(r.next=null,n===null?Wg=i:n.next=i,i===null&&($c=n)):(n=r,(t!==0||a&3)&&(Yg=!0)),r=i}Ar!==0&&Ar!==5||bA(t),sl!==0&&(sl=0)}function _O(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Ji(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=B7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=mn,n=Ft,n=cv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(nn===2||nn===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&yb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||hA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&yb(r),u5(n)){case 2:case 8:n=f6;break;case 32:n=Pg;break;case 268435456:n=d6;break;default:n=Pg}return r=TO.bind(null,t),n=s5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&yb(r),t.callbackPriority=2,t.callbackNode=null,2}function TO(t,e){if(Ar!==0&&Ar!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(_v()&&t.callbackNode!==n)return null;var r=Ft;return r=cv(t,t===mn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(cO(t,r,e),_O(t,Yi()),t.callbackNode!=null&&t.callbackNode===n?TO.bind(null,t):null)}function lC(t,e){if(_v())return null;cO(t,e,!0)}function d$(){_$(function(){Jt&6?s5(c6,f$):SO()})}function W5(){if(sl===0){var t=Nf;t===0&&(t=wm,wm<<=1,!(wm&261888)&&(wm=256)),sl=t}return sl}function uC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cg(""+t)}function cC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function h$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=uC((i[Si]||null).action),o=r.submitter;o&&(e=(e=o[Si]||null)?uC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new fv("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(sl!==0){var l=o?cC(i,o):new FormData(i);Nx(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?cC(i,o):new FormData(i),Nx(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Gb=0;Gb<Ax.length;Gb++){var Wb=Ax[Gb],p$=Wb.toLowerCase(),A$=Wb[0].toUpperCase()+Wb.slice(1);Xa(p$,"on"+A$)}Xa(R6,"onAnimationEnd");Xa(B6,"onAnimationIteration");Xa($6,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(MB,"onTransitionRun");Xa(OB,"onTransitionStart");Xa(IB,"onTransitionCancel");Xa(F6,"onTransitionEnd");Tf("onMouseEnter",["mouseout","mouseover"]);Tf("onMouseLeave",["mouseout","mouseover"]);Tf("onPointerEnter",["pointerout","pointerover"]);Tf("onPointerLeave",["pointerout","pointerover"]);qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wp));function CO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Og(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Og(c)}i.currentTarget=null,a=l}}}}function Rt(t,e){var n=e[sx];n===void 0&&(n=e[sx]=new Set);var r=t+"__bubble";n.has(r)||(NO(e,t,2,!1),n.add(r))}function Yb(t,e,n){var r=0;e&&(r|=4),NO(n,t,r,e)}var Om="_reactListening"+Math.random().toString(36).slice(2);function Y5(t){if(!t[Om]){t[Om]=!0,v6.forEach(function(n){n!=="selectionchange"&&(m$.has(n)||Yb(n,!1,t),Yb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Om]||(e[Om]=!0,Yb("selectionchange",!1,e))}}function NO(t,e,n,r){switch(FO(e)){case 2:var i=z$;break;case 8:i=V$;break;default:i=Q5}n=i.bind(null,e,n,t),i=void 0,!dx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=Wc(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}C6(function(){var u=a,c=d5(n),f=[];e:{var h=U6.get(t);if(h!==void 0){var A=fv,v=t;switch(t){case"keypress":if(dg(n)===0)break e;case"keydown":case"keyup":A=uB;break;case"focusin":v="focus",A=_b;break;case"focusout":v="blur",A=_b;break;case"beforeblur":case"afterblur":A=_b;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=vT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=X7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=dB;break;case R6:case B6:case $6:A=eB;break;case F6:A=pB;break;case"scroll":case"scrollend":A=K7;break;case"wheel":A=mB;break;case"copy":case"cut":case"paste":A=nB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=bT;break;case"toggle":case"beforetoggle":A=vB}var b=(e&4)!==0,w=!b&&(t==="scroll"||t==="scrollend"),y=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,S;x!==null;){var T=x;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||y===null||(T=pp(x,y),T!=null&&b.push(Sp(x,T,S))),w)break;x=x.return}0<b.length&&(h=new A(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",h&&n!==fx&&(v=n.relatedTarget||n.fromElement)&&(Wc(v)||v[sd]))break e;if((A||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,A?(v=n.relatedTarget||n.toElement,A=u,v=v?Wc(v):null,v!==null&&(w=fA(v),b=v.tag,v!==w||b!==5&&b!==27&&b!==6)&&(v=null)):(A=null,v=u),A!==v)){if(b=vT,T="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=bT,T="onPointerLeave",y="onPointerEnter",x="pointer"),w=A==null?h:Ih(A),S=v==null?h:Ih(v),h=new b(T,x+"leave",A,n,c),h.target=w,h.relatedTarget=S,T=null,Wc(c)===u&&(b=new b(y,x+"enter",v,n,c),b.target=S,b.relatedTarget=w,T=b),w=T,A&&v)t:{for(b=g$,y=A,x=v,S=0,T=y;T;T=b(T))S++;T=0;for(var C=x;C;C=b(C))T++;for(;0<S-T;)y=b(y),S--;for(;0<T-S;)x=b(x),T--;for(;S--;){if(y===x||x!==null&&y===x.alternate){b=y;break t}y=b(y),x=b(x)}b=null}else b=null;A!==null&&fC(f,h,A,b,!1),v!==null&&w!==null&&fC(f,w,v,b,!0)}}e:{if(h=u?Ih(u):window,A=h.nodeName&&h.nodeName.toLowerCase(),A==="select"||A==="input"&&h.type==="file")var k=_T;else if(ST(h))if(O6)k=EB;else{k=CB;var E=TB}else A=h.nodeName,!A||A.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&f5(u.elementType)&&(k=_T):k=NB;if(k&&(k=k(t,u))){M6(f,k,n,c);break e}E&&E(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&cx(h,"number",h.value)}switch(E=u?Ih(u):window,t){case"focusin":(ST(E)||E.contentEditable==="true")&&(Jc=E,hx=u,Uh=null);break;case"focusout":Uh=hx=Jc=null;break;case"mousedown":px=!0;break;case"contextmenu":case"mouseup":case"dragend":px=!1,kT(f,n,c);break;case"selectionchange":if(PB)break;case"keydown":case"keyup":kT(f,n,c)}var I;if(A5)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Kc?k6(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(E6&&n.locale!=="ko"&&(Kc||D!=="onCompositionStart"?D==="onCompositionEnd"&&Kc&&(I=N6()):(il=c,h5="value"in il?il.value:il.textContent,Kc=!0)),E=Kg(u,D),0<E.length&&(D=new yT(D,t,null,n,c),f.push({event:D,listeners:E}),I?D.data=I:(I=P6(n),I!==null&&(D.data=I)))),(I=bB?xB(t,n):wB(t,n))&&(D=Kg(u,"onBeforeInput"),0<D.length&&(E=new yT("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:D}),E.data=I)),h$(f,t,u,n,c)}CO(f,e)})}function Sp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=pp(t,n),i!=null&&r.unshift(Sp(t,i,a)),i=pp(t,e),i!=null&&r.push(Sp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function g$(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=pp(n,a),u!=null&&o.unshift(Sp(n,u,l))):i||(u=pp(n,a),u!=null&&o.push(Sp(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var v$=/\r\n?/g,y$=/\u0000|\uFFFD/g;function dC(t){return(typeof t=="string"?t:""+t).replace(v$,`
`).replace(y$,"")}function EO(t,e){return e=dC(e),dC(t)===e}function cn(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Cf(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Cf(t,""+r);break;case"className":Tm(t,"class",r);break;case"tabIndex":Tm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Tm(t,n,r);break;case"style":T6(t,r,a);break;case"data":if(e!=="object"){Tm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=cg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&cn(t,e,"name",i.name,i,null),cn(t,e,"formEncType",i.formEncType,i,null),cn(t,e,"formMethod",i.formMethod,i,null),cn(t,e,"formTarget",i.formTarget,i,null)):(cn(t,e,"encType",i.encType,i,null),cn(t,e,"method",i.method,i,null),cn(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=cg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Yo);break;case"onScroll":r!=null&&Rt("scroll",t);break;case"onScrollEnd":r!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(je(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(je(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=cg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),ug(t,"popover",r);break;case"xlinkActuate":jo(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":jo(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":jo(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":jo(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":jo(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":jo(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":jo(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":jo(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":jo(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ug(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=W7.get(n)||n,ug(t,n,r))}}function Bx(t,e,n,r,i,a){switch(n){case"style":T6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(je(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(je(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Cf(t,r):(typeof r=="number"||typeof r=="bigint")&&Cf(t,""+r);break;case"onScroll":r!=null&&Rt("scroll",t);break;case"onScrollEnd":r!=null&&Rt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Si]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):ug(t,n,r)}}}function Rr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(je(137,e));default:cn(t,e,a,o,n,null)}}i&&cn(t,e,"srcSet",n.srcSet,n,null),r&&cn(t,e,"src",n.src,n,null);return;case"input":Rt("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(je(137,e));break;default:cn(t,e,r,c,n,null)}}w6(t,a,s,l,u,o,i,!1);return;case"select":Rt("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:cn(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?ff(t,!!r,e,!1):n!=null&&ff(t,!!r,n,!0);return;case"textarea":Rt("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(je(91));break;default:cn(t,e,o,s,n,null)}_6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:cn(t,e,l,r,n,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(r=0;r<wp.length;r++)Rt(wp[r],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(je(137,e));default:cn(t,e,u,r,n,null)}return;default:if(f5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Bx(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&cn(t,e,s,r,n,null))}function b$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(A in n){var f=n[A];if(n.hasOwnProperty(A)&&f!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(A)||cn(t,e,A,null,r,f)}}for(var h in r){var A=r[h];if(f=n[h],r.hasOwnProperty(h)&&(A!=null||f!=null))switch(h){case"type":a=A;break;case"name":i=A;break;case"checked":u=A;break;case"defaultChecked":c=A;break;case"value":o=A;break;case"defaultValue":s=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(je(137,e));break;default:A!==f&&cn(t,e,h,A,r,f)}}ux(t,o,s,l,u,c,a,i);return;case"select":A=o=s=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":A=l;default:r.hasOwnProperty(a)||cn(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&cn(t,e,i,a,r,l)}e=s,n=o,r=A,h!=null?ff(t,!!n,h,!1):!!r!=!!n&&(e!=null?ff(t,!!n,e,!0):ff(t,!!n,n?[]:"",!1));return;case"textarea":A=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:cn(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":A=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(je(91));break;default:i!==a&&cn(t,e,o,i,r,a)}S6(t,h,A);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:cn(t,e,v,null,r,h)}for(l in r)if(h=r[l],A=n[l],r.hasOwnProperty(l)&&h!==A&&(h!=null||A!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:cn(t,e,l,h,r,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&cn(t,e,b,null,r,h);for(u in r)if(h=r[u],A=n[u],r.hasOwnProperty(u)&&h!==A&&(h!=null||A!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(je(137,e));break;default:cn(t,e,u,h,r,A)}return;default:if(f5(e)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&Bx(t,e,w,void 0,r,h);for(c in r)h=r[c],A=n[c],!r.hasOwnProperty(c)||h===A||h===void 0&&A===void 0||Bx(t,e,c,h,r,A);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&cn(t,e,y,null,r,h);for(f in r)h=r[f],A=n[f],!r.hasOwnProperty(f)||h===A||h==null&&A==null||cn(t,e,f,h,r,A)}function hC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x$(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&hC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&hC(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $x=null,Fx=null;function Jg(t){return t.nodeType===9?t:t.ownerDocument}function pC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ux(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jb=null;function w$(){var t=window.event;return t&&t.type==="popstate"?t===Jb?!1:(Jb=t,!0):(Jb=null,!1)}var PO=typeof setTimeout=="function"?setTimeout:void 0,S$=typeof clearTimeout=="function"?clearTimeout:void 0,AC=typeof Promise=="function"?Promise:void 0,_$=typeof queueMicrotask=="function"?queueMicrotask:typeof AC<"u"?function(t){return AC.resolve(null).then(t).catch(T$)}:PO;function T$(t){setTimeout(function(){throw t})}function Ml(t){return t==="head"}function mC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Df(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Xh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Xh(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[AA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&Xh(t.ownerDocument.body);n=i}while(n);Df(e)}function gC(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function qx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qx(n),c5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function C$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[AA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Ea(t.nextSibling),t===null)break}return null}function N$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ea(t.nextSibling),t===null))return null;return t}function MO(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ea(t.nextSibling),t===null))return null;return t}function Hx(t){return t.data==="$?"||t.data==="$~"}function zx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function E$(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Vx=null;function vC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ea(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function yC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function OO(t,e,n){switch(e=Jg(n),t){case"html":if(t=e.documentElement,!t)throw Error(je(452));return t;case"head":if(t=e.head,!t)throw Error(je(453));return t;case"body":if(t=e.body,!t)throw Error(je(454));return t;default:throw Error(je(451))}}function Xh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);c5(t)}var Ma=new Map,bC=new Set;function Xg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=Xt.d;Xt.d={f:k$,r:P$,D:M$,C:O$,L:I$,m:D$,X:j$,S:L$,M:R$};function k$(){var t=hs.f(),e=wv();return t||e}function P$(t){var e=ld(t);e!==null&&e.tag===5&&e.type==="form"?TM(e):hs.r(t)}var dd=typeof document>"u"?null:document;function IO(t,e,n){var r=dd;if(r&&typeof e=="string"&&e){var i=wa(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),bC.has(i)||(bC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Rr(e,"link",t),Tr(e),r.head.appendChild(e)))}}function M$(t){hs.D(t),IO("dns-prefetch",t,null)}function O$(t,e){hs.C(t,e),IO("preconnect",t,e)}function I$(t,e,n){hs.L(t,e,n);var r=dd;if(r&&t&&e){var i='link[rel="preload"][as="'+wa(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+wa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+wa(n.imageSizes)+'"]')):i+='[href="'+wa(t)+'"]';var a=i;switch(e){case"style":a=If(t);break;case"script":a=hd(t)}Ma.has(a)||(t=Mn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ma.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(xA(a))||e==="script"&&r.querySelector(wA(a))||(e=r.createElement("link"),Rr(e,"link",t),Tr(e),r.head.appendChild(e)))}}function D$(t,e){hs.m(t,e);var n=dd;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+wa(r)+'"][href="'+wa(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=hd(t)}if(!Ma.has(a)&&(t=Mn({rel:"modulepreload",href:t},e),Ma.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wA(a)))return}r=n.createElement("link"),Rr(r,"link",t),Tr(r),n.head.appendChild(r)}}}function L$(t,e,n){hs.S(t,e,n);var r=dd;if(r&&t){var i=cf(r).hoistableStyles,a=If(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(xA(a)))s.loading=5;else{t=Mn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ma.get(a))&&K5(t,n);var l=o=r.createElement("link");Tr(l),Rr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,bg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function j$(t,e){hs.X(t,e);var n=dd;if(n&&t){var r=cf(n).hoistableScripts,i=hd(t),a=r.get(i);a||(a=n.querySelector(wA(i)),a||(t=Mn({src:t,async:!0},e),(e=Ma.get(i))&&J5(t,e),a=n.createElement("script"),Tr(a),Rr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function R$(t,e){hs.M(t,e);var n=dd;if(n&&t){var r=cf(n).hoistableScripts,i=hd(t),a=r.get(i);a||(a=n.querySelector(wA(i)),a||(t=Mn({src:t,async:!0,type:"module"},e),(e=Ma.get(i))&&J5(t,e),a=n.createElement("script"),Tr(a),Rr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function xC(t,e,n,r){var i=(i=cl.current)?Xg(i):null;if(!i)throw Error(je(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=If(n.href),n=cf(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=If(n.href);var a=cf(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(xA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),Ma.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ma.set(t,n),a||B$(i,t,n,o.state))),e&&r===null)throw Error(je(528,""));return o}if(e&&r!==null)throw Error(je(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hd(n),n=cf(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(je(444,t))}}function If(t){return'href="'+wa(t)+'"'}function xA(t){return'link[rel="stylesheet"]['+t+"]"}function DO(t){return Mn({},t,{"data-precedence":t.precedence,precedence:null})}function B$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Rr(e,"link",n),Tr(e),t.head.appendChild(e))}function hd(t){return'[src="'+wa(t)+'"]'}function wA(t){return"script[async]"+t}function wC(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+wa(n.href)+'"]');if(r)return e.instance=r,Tr(r),r;var i=Mn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Tr(r),Rr(r,"style",i),bg(r,n.precedence,t),e.instance=r;case"stylesheet":i=If(n.href);var a=t.querySelector(xA(i));if(a)return e.state.loading|=4,e.instance=a,Tr(a),a;r=DO(n),(i=Ma.get(i))&&K5(r,i),a=(t.ownerDocument||t).createElement("link"),Tr(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Rr(a,"link",r),e.state.loading|=4,bg(a,n.precedence,t),e.instance=a;case"script":return a=hd(n.src),(i=t.querySelector(wA(a)))?(e.instance=i,Tr(i),i):(r=n,(i=Ma.get(a))&&(r=Mn({},n),J5(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Tr(i),Rr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(je(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,bg(r,n.precedence,t));return e.instance}function bg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function K5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function J5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xg=null;function SC(t,e,n){if(xg===null){var r=new Map,i=xg=new Map;i.set(n,r)}else i=xg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[AA]||a[Dr]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function _C(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function $$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function LO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function F$(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=If(r.href),a=e.querySelector(xA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Qg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Tr(a);return}a=e.ownerDocument||e,r=DO(r),(i=Ma.get(i))&&K5(r,i),a=a.createElement("link"),Tr(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Rr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Qg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Xb=0;function U$(t,e){return t.stylesheets&&t.count===0&&wg(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&wg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Xb===0&&(Xb=62500*x$());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Xb?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Qg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zg=null;function wg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zg=new Map,e.forEach(q$,t),Zg=null,Qg.call(t))}function q$(t,e){if(!(e.state.loading&4)){var n=Zg.get(t);if(n)var r=n.get(null);else{n=new Map,Zg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Qg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var _p={$$typeof:Wo,Provider:null,Consumer:null,_currentValue:vu,_currentValue2:vu,_threadCount:0};function H$(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bb(0),this.hiddenUpdates=bb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function jO(t,e,n,r,i,a,o,s,l,u,c,f){return t=new H$(t,e,n,o,l,u,c,f,s),e=1,a===!0&&(e|=24),a=Hi(3,null,null,e),t.current=a,a.stateNode=t,e=w5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},T5(a),t}function RO(t){return t?(t=Zc,t):Zc}function BO(t,e,n,r,i,a){i=RO(i),r.context===null?r.context=i:r.pendingContext=i,r=dl(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=hl(t,r,e),n!==null&&(wi(n,t,e),Hh(n,t,e))}function TC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X5(t,e){TC(t,e),(t=t.alternate)&&TC(t,e)}function $O(t){if(t.tag===13||t.tag===31){var e=Vu(t,67108864);e!==null&&wi(e,t,67108864),X5(t,67108864)}}function CC(t){if(t.tag===13||t.tag===31){var e=Xi();e=l5(e);var n=Vu(t,e);n!==null&&wi(n,t,e),X5(t,e)}}var e0=!0;function z$(t,e,n,r){var i=xt.T;xt.T=null;var a=Xt.p;try{Xt.p=2,Q5(t,e,n,r)}finally{Xt.p=a,xt.T=i}}function V$(t,e,n,r){var i=xt.T;xt.T=null;var a=Xt.p;try{Xt.p=8,Q5(t,e,n,r)}finally{Xt.p=a,xt.T=i}}function Q5(t,e,n,r){if(e0){var i=Gx(r);if(i===null)Kb(t,e,r,t0,n),NC(t,r);else if(W$(i,t,e,n,r))r.stopPropagation();else if(NC(t,r),e&4&&-1<G$.indexOf(t)){for(;i!==null;){var a=ld(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=nu(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Ji(o);s.entanglements[1]|=l,o&=~l}wo(a),!(Jt&6)&&(zg=Yi()+500,bA(0))}}break;case 31:case 13:s=Vu(a,2),s!==null&&wi(s,a,2),wv(),X5(a,2)}if(a=Gx(r),a===null&&Kb(t,e,r,t0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Kb(t,e,r,null,n)}}function Gx(t){return t=d5(t),Z5(t)}var t0=null;function Z5(t){if(t0=null,t=Wc(t),t!==null){var e=fA(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=a6(e),t!==null)return t;t=null}else if(n===31){if(t=o6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return t0=t,null}function FO(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(M7()){case c6:return 2;case f6:return 8;case Pg:case O7:return 32;case d6:return 268435456;default:return 32}default:return 32}}var Wx=!1,ml=null,gl=null,vl=null,Tp=new Map,Cp=new Map,Zs=[],G$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NC(t,e){switch(t){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(e.pointerId)}}function Ah(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ld(e),e!==null&&$O(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W$(t,e,n,r,i){switch(e){case"focusin":return ml=Ah(ml,t,e,n,r,i),!0;case"dragenter":return gl=Ah(gl,t,e,n,r,i),!0;case"mouseover":return vl=Ah(vl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tp.set(a,Ah(Tp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Cp.set(a,Ah(Cp.get(a)||null,t,e,n,r,i)),!0}return!1}function UO(t){var e=Wc(t.target);if(e!==null){var n=fA(e);if(n!==null){if(e=n.tag,e===13){if(e=a6(n),e!==null){t.blockedOn=e,fT(t.priority,function(){CC(n)});return}}else if(e===31){if(e=o6(n),e!==null){t.blockedOn=e,fT(t.priority,function(){CC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fx=r,n.target.dispatchEvent(r),fx=null}else return e=ld(n),e!==null&&$O(e),t.blockedOn=n,!1;e.shift()}return!0}function EC(t,e,n){Sg(t)&&n.delete(e)}function Y$(){Wx=!1,ml!==null&&Sg(ml)&&(ml=null),gl!==null&&Sg(gl)&&(gl=null),vl!==null&&Sg(vl)&&(vl=null),Tp.forEach(EC),Cp.forEach(EC)}function Im(t,e){t.blockedOn===e&&(t.blockedOn=null,Wx||(Wx=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,Y$)))}var Dm=null;function kC(t){Dm!==t&&(Dm=t,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,function(){Dm===t&&(Dm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Z5(r||n)===null)continue;break}var a=ld(n);a!==null&&(t.splice(e,3),e-=3,Nx(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Df(t){function e(l){return Im(l,t)}ml!==null&&Im(ml,t),gl!==null&&Im(gl,t),vl!==null&&Im(vl,t),Tp.forEach(e),Cp.forEach(e);for(var n=0;n<Zs.length;n++){var r=Zs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Zs.length&&(n=Zs[0],n.blockedOn===null);)UO(n),n.blockedOn===null&&Zs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Si]||null;if(typeof a=="function")o||kC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Si]||null)s=o.formAction;else if(Z5(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),kC(n)}}}function qO(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function eS(t){this._internalRoot=t}Tv.prototype.render=eS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));var n=e.current,r=Xi();BO(n,r,t,e,null,null)};Tv.prototype.unmount=eS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;BO(t.current,2,null,t,null,null),wv(),e[sd]=null}};function Tv(t){this._internalRoot=t}Tv.prototype.unstable_scheduleHydration=function(t){if(t){var e=g6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zs.length&&e!==0&&e<Zs[n].priority;n++);Zs.splice(n,0,t),n===0&&UO(t)}};var PC=r6.version;if(PC!=="19.2.0")throw Error(je(527,PC,"19.2.0"));Xt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=_7(e),t=t!==null?s6(t):null,t=t===null?null:t.stateNode,t};var K$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:xt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{dA=Lm.inject(K$),Ki=Lm}catch{}}lv.createRoot=function(t,e){if(!i6(t))throw Error(je(299));var n=!1,r="",i=IM,a=DM,o=LM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=jO(t,1,!1,null,null,n,r,null,i,a,o,qO),t[sd]=e.current,Y5(t),new eS(e)};lv.hydrateRoot=function(t,e,n){if(!i6(t))throw Error(je(299));var r=!1,i="",a=IM,o=DM,s=LM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=jO(t,1,!0,e,n??null,r,i,l,a,o,s,qO),e.context=RO(null),n=e.current,r=Xi(),r=l5(r),i=dl(r),i.callback=null,hl(n,i,r),n=r,e.current.lanes=n,pA(e,n),wo(e),t[sd]=e.current,Y5(t),new Tv(e)};lv.version="19.2.0";function HO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HO)}catch(t){console.error(t)}}HO(),XP.exports=lv;var J$=XP.exports;const X$=Qt(J$);var tr=(t=>(t.POS="POS",t.Products="Products",t.Services="Services",t.Finance="Finance",t.Customers="Customers",t.Suppliers="Suppliers",t.Categories="Categories",t.Settings="Settings",t))(tr||{});function Q$(t,e){const n=localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from localStorage",r),localStorage.removeItem(t)}return e instanceof Function?e():e}function MC(t,e){const[n,r]=ae.useState(()=>Q$(t,e));return ae.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to localStorage",i)}},[t,n]),[n,r]}function Z$(t,e){const n=sessionStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from sessionStorage",r),sessionStorage.removeItem(t)}return e instanceof Function?e():e}function jm(t,e){const[n,r]=ae.useState(()=>Z$(t,e));return ae.useEffect(()=>{try{sessionStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to sessionStorage",i)}},[t,n]),[n,r]}const eF="pos-app-db",tF=2;let Rm=null;const nF=()=>(Rm||(Rm=new Promise((t,e)=>{const n=indexedDB.open(eF,tF);n.onerror=()=>{console.error("IndexedDB opening error:",n.error),Rm=null,e(n.error)},n.onsuccess=()=>{t(n.result)},n.onupgradeneeded=()=>{const r=n.result;Object.keys({products:[],productVariants:[],sales:[],expenses:[],users:[],returns:[],stores:[],customers:[],suppliers:[],categories:[],purchases:[],stockBatches:[]}).forEach(i=>{r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id"})})}})),Rm);function da(t){const[e,n]=ae.useState([]),r=ae.useCallback(async c=>(await nF()).transaction(t,c).objectStore(t),[t]),i=ae.useCallback(async()=>{const f=(await r("readonly")).getAll();return new Promise((h,A)=>{f.onsuccess=()=>h(f.result),f.onerror=()=>A(f.error)})},[r]);ae.useEffect(()=>{i().then(n).catch(console.error)},[i]);const a=ae.useCallback(async c=>{const h=(await r("readwrite")).add(c);return new Promise((A,v)=>{h.onsuccess=()=>{n(b=>[...b,c]),A()},h.onerror=()=>v(h.error)})},[r]),o=ae.useCallback(async c=>{if(c.length===0)return;const f=await r("readwrite"),h=f.transaction;return c.forEach(A=>f.add(A)),new Promise((A,v)=>{h.oncomplete=()=>{n(b=>[...b,...c]),A()},h.onerror=()=>v(h.error)})},[r]),s=ae.useCallback(async c=>{const h=(await r("readwrite")).put(c);return new Promise((A,v)=>{h.onsuccess=()=>{n(b=>b.map(w=>w.id===c.id?c:w)),A()},h.onerror=()=>v(h.error)})},[r]),l=ae.useCallback(async c=>{const h=(await r("readwrite")).delete(c);return new Promise((A,v)=>{h.onsuccess=()=>{n(b=>b.filter(w=>w.id!==c)),A()},h.onerror=()=>v(h.error)})},[r]),u=ae.useCallback(async()=>{const f=(await r("readwrite")).clear();return new Promise((h,A)=>{f.onsuccess=()=>{n([]),h()},f.onerror=()=>A(f.error)})},[r]);return{data:e,setData:n,add:a,update:s,remove:l,clear:u,bulkAdd:o}}const zO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),m.jsx("path",{d:"M12 8v4l2 2"})]}),rF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),m.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),m.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),iF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),aF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"8",cy:"8",r:"6"}),m.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),m.jsx("path",{d:"M7 6h1v4"}),m.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),gf=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Qi=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),VO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),m.jsx("path",{d:"M17 9v6"}),m.jsx("path",{d:"M13 9v6"}),m.jsx("path",{d:"M9 9v6"}),m.jsx("path",{d:"M5 9v6"})]}),tS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),nS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),va=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12 17v-10"}),m.jsx("path",{d:"M9 14l3 3 3-3"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),Cv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),rS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("path",{d:"M20 8v6M23 11h-6"})]}),GO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),m.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),m.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),m.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),WO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),YO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),m.jsx("path",{d:"M2 7h20"}),m.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),KO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),m.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),yl=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),iS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),aS=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),oF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),SA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),m.jsx("polyline",{points:"12 5 19 12 12 19"})]}),_A=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),oS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),m.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),m.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),OC=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),sF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),JO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),XO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),m.jsx("path",{d:"m21 2-9.6 9.6"}),m.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lF,uF;function cF(){return{geminiUrl:lF,vertexUrl:uF}}function fF(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=cF();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wu{}function ot(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(a+1),n[u])}else for(const u of l)p(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>d(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dF(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function hF(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&p(e,["response"],AF(o)),e}function pF(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response"]);return o!=null&&p(e,["response"],mF(o)),e}function AF(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>gF(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function mF(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>vF(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function gF(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],xF(n)),e}function vF(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],wF(n)),e}function yF(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function bF(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function xF(t){const e={},n=d(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],sS(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function wF(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],sS(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var IC;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(IC||(IC={}));var DC;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(DC||(DC={}));var zi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(zi||(zi={}));var LC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(LC||(LC={}));var jC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jC||(jC={}));var RC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(RC||(RC={}));var BC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(BC||(BC={}));var $C;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($C||($C={}));var FC;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(FC||(FC={}));var UC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UC||(UC={}));var qC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(qC||(qC={}));var HC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(HC||(HC={}));var zC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zC||(zC={}));var VC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(VC||(VC={}));var GC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(GC||(GC={}));var n0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(n0||(n0={}));var WC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WC||(WC={}));var Yx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yx||(Yx={}));var YC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(YC||(YC={}));var KC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(KC||(KC={}));var JC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(JC||(JC={}));var XC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(XC||(XC={}));var QC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(QC||(QC={}));var ZC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ZC||(ZC={}));var eN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(eN||(eN={}));var tN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(tN||(tN={}));var nN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nN||(nN={}));var rN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rN||(rN={}));var iN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(iN||(iN={}));var aN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(aN||(aN={}));var oN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oN||(oN={}));var sN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sN||(sN={}));var lN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lN||(lN={}));var uN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(uN||(uN={}));var cN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cN||(cN={}));var fN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(fN||(fN={}));var dN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(dN||(dN={}));var hN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hN||(hN={}));var pN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pN||(pN={}));var AN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AN||(AN={}));var mN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mN||(mN={}));var gN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gN||(gN={}));var vN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vN||(vN={}));var yN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yN||(yN={}));var bN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(bN||(bN={}));var xN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xN||(xN={}));var wN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wN||(wN={}));var SN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(SN||(SN={}));var rf;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(rf||(rf={}));class Kx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class mh{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[A,v]of Object.entries(h))A!=="text"&&A!=="thought"&&(v!==null||v!==void 0)&&f.push(A);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,A]of Object.entries(f))h!=="inlineData"&&(A!==null||A!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class _N{}class TN{}class SF{}class _F{}class TF{}class CF{}class CN{}class NN{}class EN{}class NF{}class r0{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new r0;let i;const a=e;return n?i=pF(a):i=hF(a),Object.assign(r,i),r}}class kN{}class PN{}class MN{}class EF{}class kF{}class PF{}class ON{}class MF{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class OF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function QO(t,e){const n=Wt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ZO(t){return Array.isArray(t)?t.map(e=>i0(e)):[i0(t)]}function i0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function eI(t){const e=i0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tI(t){const e=i0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IN(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function nI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>IN(e)):[IN(t)]}function Jx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function DN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function LN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qr(t){if(t==null)throw new Error("ContentUnion is required");return Jx(t)?t:{role:"user",parts:nI(t)}}function lS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Qr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Qr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Qr(n)):[Qr(e)]}function ka(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(DN(t)||LN(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qr(t)]}const e=[],n=[],r=Jx(t[0]);for(const i of t){const a=Jx(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(DN(i)||LN(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:nI(n)}),e}function IF(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(zi).includes(n[0].toUpperCase())?n[0].toUpperCase():zi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(zi).includes(r.toUpperCase())?r.toUpperCase():zi.TYPE_UNSPECIFIED})}}function vf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&IF(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(zi).includes(s.toUpperCase())?s.toUpperCase():zi.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=vf(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(vf(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=vf(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function uS(t){return vf(t)}function cS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function fS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function pd(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=vf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=vf(e.response));return t}function Ad(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function DF(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ps(t,e){if(typeof e!="string")throw new Error("name must be a string");return DF(t,e,"cachedContents")}function rI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yu(t){return sS(t)}function LF(t){return t!=null&&typeof t=="object"&&"name"in t}function jF(t){return t!=null&&typeof t=="object"&&"video"in t}function RF(t){return t!=null&&typeof t=="object"&&"uri"in t}function iI(t){var e;let n;if(LF(t)&&(n=t.name),!(RF(t)&&(n=t.uri,n===void 0))&&!(jF(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function aI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function oI(t){for(const e of["models","tunedModels","publisherModels"])if(BF(t,e))return t[e];return[]}function BF(t,e){return t!==null&&typeof t=="object"&&e in t}function $F(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function FF(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=$F(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function sI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function UF(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function lI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function md(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function uI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qF(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>PU(o))),p(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>EU(o))),p(e,["inlinedEmbedContentResponses"],a)}return e}function HF(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function zF(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fc(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],uI(i));const a=d(t,["metadata","createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["metadata","endTime"]);o!=null&&p(e,["endTime"],o);const s=d(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],qF(lI(u))),e}function Xx(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],uI(i));const a=d(t,["error"]);a!=null&&p(e,["error"],fI(a));const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],VF(f));const h=d(t,["outputConfig"]);return h!=null&&p(e,["dest"],HF(lI(h))),e}function VF(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function GF(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>kU(t,o))),p(n,["requests","requests"],a)}return n}function WF(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function YF(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KF(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function JF(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],md(t,r)),n}function XF(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],md(t,r)),n}function QF(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],nU(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],ZF(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&p(e,["urlContextMetadata"],QU(o));const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&p(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(e,["safetyRatings"],f),e}function ZF(t){const e={},n=d(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function eU(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function tU(t){const e={},n=d(t,["values"]);return n!=null&&p(e,["values"],n),e}function nU(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>FU(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function cI(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>UU(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function rU(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function iU(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],zF(UF(i))),n}function Qb(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],GF(t,sI(t,i)));const a=d(e,["config"]);return a!=null&&rU(a,n),n}function aU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Wt(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],WF(sI(t,i)));const a=d(e,["config"]);return a!=null&&iU(a,n),n}function oU(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Zb(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],pU(t,i));const a=d(e,["config"]);return a!=null&&oU(a,n),n}function sU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],md(t,r)),n}function lU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],md(t,r)),n}function uU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);return a!=null&&p(e,["error"],dS(a)),e}function cU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);return a!=null&&p(e,["error"],fI(a)),e}function fU(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function dU(t,e){const n={},r=d(e,["contents"]);r!=null&&p(n,["requests[]","request","content"],lS(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],hU(i,n)),n}function hU(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&p(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function pU(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],dU(t,i)),n}function AU(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function mU(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function gU(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function vU(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function yU(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function bU(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function xU(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],cI(Qr(i)));const a=d(e,["temperature"]);a!=null&&p(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&p(r,["topP"],o);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const A=d(e,["presencePenalty"]);A!=null&&p(r,["presencePenalty"],A);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&p(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&p(r,["responseSchema"],VU(uS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(B=>zU(B))),p(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=Ad(T);Array.isArray(M)&&(M=M.map(B=>XU(pd(B)))),p(n,["tools"],M)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],JU(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],ps(t,k));const E=d(e,["responseModalities"]);E!=null&&p(r,["responseModalities"],E);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const D=d(e,["speechConfig"]);if(D!=null&&p(r,["speechConfig"],YU(cS(D))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=d(e,["thinkingConfig"]);$!=null&&p(r,["thinkingConfig"],KU($));const O=d(e,["imageConfig"]);return O!=null&&p(r,["imageConfig"],NU(O)),r}function wU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>QF(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&p(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function SU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],md(t,r)),n}function _U(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],md(t,r)),n}function TU(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],fU(n)),e}function CU(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],MU(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function NU(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&p(e,["aspectRatio"],n),e}function EU(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],GU(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],dS(r)),e}function kU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],Wt(t,r));const i=d(e,["contents"]);if(i!=null){let o=ka(i);Array.isArray(o)&&(o=o.map(s=>cI(s))),p(n,["request","contents"],o)}const a=d(e,["config"]);return a!=null&&p(n,["request","generationConfig"],xU(t,a,n)),n}function PU(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],wU(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],dS(r)),e}function MU(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function dS(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["code"]);r!=null&&p(e,["code"],r);const i=d(t,["message"]);return i!=null&&p(e,["message"],i),e}function fI(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["code"]);r!=null&&p(e,["code"],r);const i=d(t,["message"]);return i!=null&&p(e,["message"],i),e}function OU(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function IU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function DU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function LU(t){const e={},n=d(t,["config"]);return n!=null&&IU(n,e),e}function jU(t){const e={},n=d(t,["config"]);return n!=null&&DU(n,e),e}function RU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Fc(o))),p(e,["batchJobs"],a)}return e}function BU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Xx(o))),p(e,["batchJobs"],a)}return e}function $U(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WU(i))),p(e,["speakerVoiceConfigs"],r)}return e}function FU(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],t9(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],YF(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],AU(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],gU(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function UU(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],n9(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],KF(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],mU(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],vU(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function qU(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function HU(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],OU(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function zU(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&p(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function VU(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["enum"]);a!=null&&p(e,["enum"],a);const o=d(t,["example"]);o!=null&&p(e,["example"],o);const s=d(t,["format"]);s!=null&&p(e,["format"],s);const l=d(t,["items"]);l!=null&&p(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&p(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&p(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&p(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&p(e,["maximum"],h);const A=d(t,["minItems"]);A!=null&&p(e,["minItems"],A);const v=d(t,["minLength"]);v!=null&&p(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&p(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&p(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&p(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&p(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&p(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&p(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&p(e,["required"],C);const k=d(t,["title"]);k!=null&&p(e,["title"],k);const E=d(t,["type"]);return E!=null&&p(e,["type"],E),e}function GU(t){const e={},n=d(t,["embedding"]);n!=null&&p(e,["embedding"],tU(n));const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function WU(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],dI(r)),e}function YU(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],dI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],$U(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function KU(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function JU(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],yU(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],HU(r)),e}function XU(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>bU(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],CU(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],TU(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],ZU());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],eU(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function QU(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>e9(i))),p(e,["urlMetadata"],r)}return e}function ZU(){return{}}function e9(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function t9(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function n9(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function dI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],qU(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Lu||(Lu={}));class TA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r9 extends Wu{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=Qb(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Fc(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=Zb(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Fc(h))},this.list=async(n={})=>new TA(Lu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Qb(this.apiClient,e),r=n._url,i=ot("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const A=f.request;A.systemInstruction=h,f.request=A}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=Zb(this.apiClient,e),r=n._url,i=ot("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const f=Object.assign({},c),h=f.request;for(const A in f)A!=="request"&&(h[A]=f[A],delete f[A]);u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aU(this.apiClient,e);return s=ot("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Xx(c))}else{const u=Qb(this.apiClient,e);return s=ot("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Fc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zb(this.apiClient,e);return a=ot("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Fc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=_U(this.apiClient,e);return s=ot("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Xx(c))}else{const u=SU(this.apiClient,e);return s=ot("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Fc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=XF(this.apiClient,e);o=ot("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=JF(this.apiClient,e);o=ot("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=jU(e);return s=ot("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=BU(c),h=new ON;return Object.assign(h,f),h})}else{const u=LU(e);return s=ot("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=RU(c),h=new ON;return Object.assign(h,f),h})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=lU(this.apiClient,e);return s=ot("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>cU(c))}else{const u=sU(this.apiClient,e);return s=ot("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>uU(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i9(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function a9(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],i9(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&p(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&p(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&p(e,["oidcConfig"],s),e}function o9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function s9(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function _g(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["model"]);i!=null&&p(e,["model"],i);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&p(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&p(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function Tg(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["model"]);i!=null&&p(e,["model"],i);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&p(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&p(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function l9(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function u9(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function jN(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>G9(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function RN(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>W9(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function c9(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&p(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let c=ka(o);Array.isArray(c)&&(c=c.map(f=>jN(f))),p(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],jN(Qr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Q9(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],J9(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function f9(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&p(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let f=ka(o);Array.isArray(f)&&(f=f.map(h=>RN(h))),p(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],RN(Qr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Z9(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],X9(u));const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function d9(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],QO(t,r));const i=d(e,["config"]);return i!=null&&c9(i,n),n}function h9(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],QO(t,r));const i=d(e,["config"]);return i!=null&&f9(i,n),n}function p9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ps(t,r)),n}function A9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ps(t,r)),n}function m9(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function g9(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function v9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function y9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function b9(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function x9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function w9(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function S9(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function _9(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function T9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function C9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function N9(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function E9(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&p(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function k9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ps(t,r)),n}function P9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],ps(t,r)),n}function M9(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],a9(n)),e}function O9(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],v9(n)),e}function I9(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],y9(n)),e}function D9(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],j9(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function L9(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],R9(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function j9(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function R9(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function B9(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function $9(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function F9(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function U9(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function q9(t){const e={},n=d(t,["config"]);return n!=null&&F9(n,e),e}function H9(t){const e={},n=d(t,["config"]);return n!=null&&U9(n,e),e}function z9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>_g(o))),p(e,["cachedContents"],a)}return e}function V9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Tg(o))),p(e,["cachedContents"],a)}return e}function G9(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],oq(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],o9(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],x9(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],S9(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function W9(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],sq(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],s9(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],w9(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],_9(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function Y9(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],B9(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function K9(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],$9(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function J9(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],T9(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],Y9(r)),e}function X9(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],C9(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],K9(r)),e}function Q9(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>N9(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],D9(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],O9(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],iq());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],l9(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function Z9(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>E9(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],L9(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&p(e,["googleSearchRetrieval"],I9(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],b9(o));const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],M9(s)),d(t,["urlContext"])!=null&&p(e,["urlContext"],aq());const u=d(t,["computerUse"]);u!=null&&p(e,["computerUse"],u9(u));const c=d(t,["codeExecution"]);return c!=null&&p(e,["codeExecution"],c),e}function eq(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function tq(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function nq(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],ps(t,r));const i=d(e,["config"]);return i!=null&&eq(i,n),n}function rq(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],ps(t,r));const i=d(e,["config"]);return i!=null&&tq(i,n),n}function iq(){return{}}function aq(){return{}}function oq(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function sq(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lq extends Wu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new TA(Lu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=h9(this.apiClient,e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Tg(c))}else{const u=d9(this.apiClient,e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>_g(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=P9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Tg(c))}else{const u=k9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>_g(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=A9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=g9(c),h=new PN;return Object.assign(h,f),h})}else{const u=p9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=m9(c),h=new PN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=rq(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Tg(c))}else{const u=nq(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>_g(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=H9(e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=V9(c),h=new MN;return Object.assign(h,f),h})}else{const u=q9(e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=z9(c),h=new MN;return Object.assign(h,f),h})}}}function BN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function yf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(A){return function(v){return Promise.resolve(v).then(A,f)}}function s(A,v){r[A]&&(i[A]=function(b){return new Promise(function(w,y){a.push([A,b,w,y])>1||l(A,b)})},v&&(i[A]=v(i[A])))}function l(A,v){try{u(r[A](v))}catch(b){h(a[0][3],b)}}function u(A){A.value instanceof Tn?Promise.resolve(A.value.v).then(c,f):h(a[0][2],A)}function c(A){l("next",A)}function f(A){l("throw",A)}function h(A,v){A(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Qh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof BN=="function"?BN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uq(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hI(n)}function hI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function cq(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $N(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!hI(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class fq{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dq(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dq{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),cq(a)}async sendMessage(e){var n;await this.sendPromise;const r=Qr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const A=u?[u]:[];this.recordHistory(r,A,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Qr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?$N(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return yf(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var f=!0,h=Qh(e),A;A=yield Tn(h.next()),o=A.done,!o;f=!0){u=A.value,f=!1;const v=u;if(uq(v)){const b=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&c.push(b)}yield yield Tn(v)}}catch(v){s={error:v}}finally{try{!f&&!o&&(l=h.return)&&(yield Tn(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...$N(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hq(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],yq(n)),e}function pq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Aq(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],iI(n)),e}function mq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Qx(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&p(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&p(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&p(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&p(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&p(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&p(e,["state"],h);const A=d(t,["source"]);A!=null&&p(e,["source"],A);const v=d(t,["videoMetadata"]);v!=null&&p(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&p(e,["error"],gq(b)),e}function gq(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["message"]);r!=null&&p(e,["message"],r);const i=d(t,["code"]);return i!=null&&p(e,["code"],i),e}function vq(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["message"]);r!=null&&p(e,["message"],r);const i=d(t,["code"]);return i!=null&&p(e,["code"],i),e}function yq(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&p(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&p(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&p(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&p(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&p(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&p(e,["state"],h);const A=d(t,["source"]);A!=null&&p(e,["source"],A);const v=d(t,["videoMetadata"]);v!=null&&p(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&p(e,["error"],vq(b)),e}function bq(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],iI(n)),e}function xq(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function wq(t){const e={},n=d(t,["config"]);return n!=null&&xq(n,e),e}function Sq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Qx(o))),p(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _q extends Wu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new TA(Lu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Qx(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wq(e);return a=ot("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Sq(l),c=new EF;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hq(e);return a=ot("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=pq(l),c=new kF;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bq(e);return a=ot("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Qx(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aq(e);return a=ot("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=mq(l),c=new PF;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tq(){return{}}function Cq(){return{}}function Nq(){return{}}function Eq(){return{}}function kq(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function Pq(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&p(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&p(e,["sourceMetadata"],wH(i)),e}function FN(){return{}}function UN(){return{}}function Mq(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],kq(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&p(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&p(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&p(e,["oidcConfig"],s),e}function Oq(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&p(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&p(e,["silenceDurationMs"],o),e}function Iq(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&p(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&p(e,["silenceDurationMs"],o),e}function Dq(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Lq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function jq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Rq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Bq(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function $q(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function Fq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>FH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Uq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>UH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function qq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>qH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Hq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>HH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function zq(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],QH(r)),e}function Vq(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],ZH(r)),e}function Gq(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Wq(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Yq(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function Kq(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Jq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Xq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Qq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function pI(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function AI(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function Zq(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function eH(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function tH(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function nH(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&p(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function rH(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],Mq(n)),e}function iH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Gq(n)),e}function aH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Wq(n)),e}function oH(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],lH(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function sH(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],uH(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function lH(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function uH(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function cH(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],tz(fS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],rz(h));const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],A);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],qq(Qr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Ad(b);Array.isArray(k)&&(k=k.map(E=>az(pd(E)))),p(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],JH(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&p(e,["setup","inputAudioTranscription"],FN());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],FN());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],YH(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],zq(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&p(e,["setup","proactivity"],GH(C)),n}function fH(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],nz(fS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],iz(h));const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],A);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],Hq(Qr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Ad(b);Array.isArray(k)&&(k=k.map(E=>oz(pd(E)))),p(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],XH(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&p(e,["setup","inputAudioTranscription"],UN());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],UN());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],KH(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],Vq(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&p(e,["setup","proactivity"],WH(C)),n}function dH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Wt(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],cH(i,n)),n}function hH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Wt(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],fH(i,n)),n}function pH(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vz(i))),p(e,["weightedPrompts"],r)}return e}function mI(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bI(i))),p(e,["weightedPrompts"],r)}return e}function Zx(t){const e={},n=d(t,["setup"]);n!=null&&p(e,["setup"],gI(n));const r=d(t,["clientContent"]);r!=null&&p(e,["clientContent"],mI(r));const i=d(t,["musicGenerationConfig"]);i!=null&&p(e,["musicGenerationConfig"],vI(i));const a=d(t,["playbackControl"]);return a!=null&&p(e,["playbackControl"],a),e}function gI(t){const e={},n=d(t,["model"]);return n!=null&&p(e,["model"],n),e}function AH(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&p(e,["filteredReason"],r),e}function mH(t){const e={},n=d(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&p(e,["topK"],r);const i=d(t,["seed"]);i!=null&&p(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&p(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&p(e,["bpm"],o);const s=d(t,["density"]);s!=null&&p(e,["density"],s);const l=d(t,["brightness"]);l!=null&&p(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&p(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&p(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&p(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&p(e,["onlyBassAndDrums"],h);const A=d(t,["musicGenerationMode"]);return A!=null&&p(e,["musicGenerationMode"],A),e}function vI(t){const e={},n=d(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&p(e,["topK"],r);const i=d(t,["seed"]);i!=null&&p(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&p(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&p(e,["bpm"],o);const s=d(t,["density"]);s!=null&&p(e,["density"],s);const l=d(t,["brightness"]);l!=null&&p(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&p(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&p(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&p(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&p(e,["onlyBassAndDrums"],h);const A=d(t,["musicGenerationMode"]);return A!=null&&p(e,["musicGenerationMode"],A),e}function gH(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Pq(i))),p(e,["audioChunks"],r)}return e}function vH(t){const e={};d(t,["setupComplete"])!=null&&p(e,["setupComplete"],yH());const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],gH(r));const i=d(t,["filteredPrompt"]);return i!=null&&p(e,["filteredPrompt"],AH(i)),e}function yH(){return{}}function bH(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],vI(n)),e}function xH(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bI(i))),p(e,["weightedPrompts"],r)}return e}function wH(t){const e={},n=d(t,["clientContent"]);n!=null&&p(e,["clientContent"],pH(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&p(e,["musicGenerationConfig"],mH(r)),e}function SH(t){const e={},n=d(t,["media"]);if(n!=null){let u=ZO(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],tI(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&p(e,["video"],eI(a));const o=d(t,["text"]);return o!=null&&p(e,["text"],o),d(t,["activityStart"])!=null&&p(e,["activityStart"],Nq()),d(t,["activityEnd"])!=null&&p(e,["activityEnd"],Tq()),e}function _H(t){const e={},n=d(t,["media"]);if(n!=null){let u=ZO(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],tI(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&p(e,["video"],eI(a));const o=d(t,["text"]);return o!=null&&p(e,["text"],o),d(t,["activityStart"])!=null&&p(e,["activityStart"],Eq()),d(t,["activityEnd"])!=null&&p(e,["activityEnd"],Cq()),e}function TH(t){const e={},n=d(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],Fq(n));const r=d(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&p(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&p(e,["inputTranscription"],qN(s));const l=d(t,["outputTranscription"]);l!=null&&p(e,["outputTranscription"],qN(l));const u=d(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],sz(u));const c=d(t,["turnCompleteReason"]);c!=null&&p(e,["turnCompleteReason"],c);const f=d(t,["waitingForInput"]);return f!=null&&p(e,["waitingForInput"],f),e}function CH(t){const e={},n=d(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],Uq(n));const r=d(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&p(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&p(e,["inputTranscription"],HN(s));const l=d(t,["outputTranscription"]);l!=null&&p(e,["outputTranscription"],HN(l));const u=d(t,["turnCompleteReason"]);u!=null&&p(e,["turnCompleteReason"],u);const c=d(t,["waitingForInput"]);return c!=null&&p(e,["waitingForInput"],c),e}function NH(t){const e={},n=d(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function EH(t){const e={},n=d(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function kH(t){const e={};d(t,["setupComplete"])!=null&&p(e,["setupComplete"],IH());const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],TH(r));const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],RH(i));const a=d(t,["toolCallCancellation"]);a!=null&&p(e,["toolCallCancellation"],LH(a));const o=d(t,["usageMetadata"]);o!=null&&p(e,["usageMetadata"],fz(o));const s=d(t,["goAway"]);s!=null&&p(e,["goAway"],NH(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],MH(l)),e}function PH(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],DH(n));const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],CH(r));const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],BH(i));const a=d(t,["toolCallCancellation"]);a!=null&&p(e,["toolCallCancellation"],jH(a));const o=d(t,["usageMetadata"]);o!=null&&p(e,["usageMetadata"],dz(o));const s=d(t,["goAway"]);s!=null&&p(e,["goAway"],EH(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],OH(l)),e}function MH(t){const e={},n=d(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function OH(t){const e={},n=d(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function IH(){return{}}function DH(t){const e={},n=d(t,["sessionId"]);return n!=null&&p(e,["sessionId"],n),e}function LH(t){const e={},n=d(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function jH(t){const e={},n=d(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function RH(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pI(i))),p(e,["functionCalls"],r)}return e}function BH(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>AI(i))),p(e,["functionCalls"],r)}return e}function Bm(t){const e={},n=d(t,["modality"]);n!=null&&p(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function $m(t){const e={},n=d(t,["modality"]);n!=null&&p(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function $H(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ez(i))),p(e,["speakerVoiceConfigs"],r)}return e}function FH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],hz(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Dq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Kq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],pI(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function UH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],pz(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Lq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Jq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],AI(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function qH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],Az(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],jq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Xq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Zq(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function HH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],mz(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Rq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Qq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],eH(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function zH(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function VH(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function GH(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function WH(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function YH(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],Oq(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function KH(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],Iq(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function JH(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XH(t){const e={},n=d(t,["handle"]);n!=null&&p(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&p(e,["transparent"],r),e}function QH(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function ZH(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function ez(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],yI(r)),e}function tz(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],yI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],$H(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function nz(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],gz(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function rz(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function iz(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function az(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>tH(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],oH(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],iH(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],lz());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],Bq(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function oz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>nH(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],sH(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&p(e,["googleSearchRetrieval"],aH(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],Yq(o));const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],rH(s)),d(t,["urlContext"])!=null&&p(e,["urlContext"],uz());const u=d(t,["computerUse"]);u!=null&&p(e,["computerUse"],$q(u));const c=d(t,["codeExecution"]);return c!=null&&p(e,["codeExecution"],c),e}function qN(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function HN(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function sz(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cz(i))),p(e,["urlMetadata"],r)}return e}function lz(){return{}}function uz(){return{}}function cz(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function fz(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&p(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&p(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(A=>Bm(A))),p(e,["promptTokensDetails"],h)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(A=>Bm(A))),p(e,["cacheTokensDetails"],h)}const c=d(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(A=>Bm(A))),p(e,["responseTokensDetails"],h)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(A=>Bm(A))),p(e,["toolUsePromptTokensDetails"],h)}return e}function dz(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&p(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&p(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(v=>$m(v))),p(e,["promptTokensDetails"],A)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let A=u;Array.isArray(A)&&(A=A.map(v=>$m(v))),p(e,["cacheTokensDetails"],A)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let A=c;Array.isArray(A)&&(A=A.map(v=>$m(v))),p(e,["responseTokensDetails"],A)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let A=f;Array.isArray(A)&&(A=A.map(v=>$m(v))),p(e,["toolUsePromptTokensDetails"],A)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}function hz(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function pz(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function Az(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function mz(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function yI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],zH(n)),e}function gz(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],VH(n)),e}function vz(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function bI(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["weight"]);return r!=null&&p(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yz(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function bz(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],yz(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&p(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&p(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&p(e,["oidcConfig"],s),e}function xz(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function wz(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Sz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function _z(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Tz(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],Rz(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Ez(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&p(e,["urlContextMetadata"],rW(o));const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&p(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(e,["safetyRatings"],f),e}function Cz(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],Bz(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],kz(r));const i=d(t,["finishMessage"]);i!=null&&p(e,["finishMessage"],i);const a=d(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&p(e,["urlContextMetadata"],iW(o));const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&p(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(e,["safetyRatings"],f),e}function Nz(t){const e={},n=d(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&p(e,["step"],i),e}function Ez(t){const e={},n=d(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function kz(t){const e={},n=d(t,["citations"]);return n!=null&&p(e,["citations"],n),e}function Pz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);if(i!=null){let a=ka(i);Array.isArray(a)&&(a=a.map(o=>gd(o))),p(n,["contents"],a)}return n}function Mz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&p(e,["tokensInfo"],r),e}function Oz(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function Iz(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function Dz(t){const e={},n=d(t,["values"]);return n!=null&&p(e,["values"],n),e}function Lz(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],jz(r)),e}function jz(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Rz(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>AG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Bz(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Ev(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function gd(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>vG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function $z(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function Fz(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Uz(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],gd(Qr(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>TI(s))),p(e,["tools"],o)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&p(e,["generationConfig"],a),n}function qz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);if(i!=null){let o=ka(i);Array.isArray(o)&&(o=o.map(s=>Ev(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&Fz(a),n}function Hz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);if(i!=null){let o=ka(i);Array.isArray(o)&&(o=o.map(s=>gd(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&Uz(a,n),n}function zz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function Vz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function Gz(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Wt(t,r)),n}function Wz(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Wt(t,r)),n}function Yz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Kz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Jz(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Xz(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Qz(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&p(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const A=d(t,["language"]);e!==void 0&&A!=null&&p(e,["parameters","language"],A);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const y=d(t,["editMode"]);e!==void 0&&y!=null&&p(e,["parameters","editMode"],y);const x=d(t,["baseSteps"]);return e!==void 0&&x!=null&&p(e,["parameters","editConfig","baseSteps"],x),n}function Zz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>CG(l))),p(n,["instances[0]","referenceImages"],s)}const o=d(e,["config"]);return o!=null&&Qz(o,n),n}function eV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kv(a))),p(e,["generatedImages"],i)}return e}function tV(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&p(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nV(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&p(e,["parameters","outputDimensionality"],a);const o=d(t,["mimeType"]);e!==void 0&&o!=null&&p(e,["instances[]","mimeType"],o);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function rV(){return{}}function iV(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&p(e,["billableCharacterCount"],n),e}function aV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);i!=null&&p(n,["requests[]","content"],lS(t,i));const a=d(e,["config"]);a!=null&&tV(a,n);const o=d(e,["model"]);return o!==void 0&&p(n,["requests[]","model"],Wt(t,o)),n}function oV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);i!=null&&p(n,["instances[]","content"],lS(t,i));const a=d(e,["config"]);return a!=null&&nV(a,n),n}function sV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Dz(o))),p(e,["embeddings"],a)}return d(t,["metadata"])!=null&&p(e,["metadata"],rV()),e}function lV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Lz(o))),p(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],iV(i)),e}function uV(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function cV(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function fV(t){const e={},n=d(t,["label"]);n!=null&&p(e,["label"],n);const r=d(t,["score"]);return r!=null&&p(e,["score"],r),e}function dV(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function hV(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function pV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function AV(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function mV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function gV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function vV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function yV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function bV(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function xV(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function wV(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function SV(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&p(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function _V(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],Ev(Qr(i)));const a=d(e,["temperature"]);a!=null&&p(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&p(r,["topP"],o);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const A=d(e,["presencePenalty"]);A!=null&&p(r,["presencePenalty"],A);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&p(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&p(r,["responseSchema"],MG(uS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(B=>kG(B))),p(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=Ad(T);Array.isArray(M)&&(M=M.map(B=>WG(pd(B)))),p(n,["tools"],M)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],VG(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],ps(t,k));const E=d(e,["responseModalities"]);E!=null&&p(r,["responseModalities"],E);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const D=d(e,["speechConfig"]);if(D!=null&&p(r,["speechConfig"],$G(cS(D))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=d(e,["thinkingConfig"]);$!=null&&p(r,["thinkingConfig"],HG($));const O=d(e,["imageConfig"]);return O!=null&&p(r,["imageConfig"],ZV(O)),r}function TV(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],gd(Qr(i)));const a=d(e,["temperature"]);a!=null&&p(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&p(r,["topP"],o);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const A=d(e,["presencePenalty"]);A!=null&&p(r,["presencePenalty"],A);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&p(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&p(r,["responseSchema"],OG(uS(y)));const x=d(e,["responseJsonSchema"]);x!=null&&p(r,["responseJsonSchema"],x);const S=d(e,["routingConfig"]);S!=null&&p(r,["routingConfig"],S);const T=d(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],hG(T));const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(U=>PG(U))),p(n,["safetySettings"],R)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let R=Ad(k);Array.isArray(R)&&(R=R.map(U=>TI(pd(U)))),p(n,["tools"],R)}const E=d(e,["toolConfig"]);n!==void 0&&E!=null&&p(n,["toolConfig"],GG(E));const I=d(e,["labels"]);n!==void 0&&I!=null&&p(n,["labels"],I);const D=d(e,["cachedContent"]);n!==void 0&&D!=null&&p(n,["cachedContent"],ps(t,D));const $=d(e,["responseModalities"]);$!=null&&p(r,["responseModalities"],$);const O=d(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const M=d(e,["speechConfig"]);M!=null&&p(r,["speechConfig"],FG(cS(M)));const B=d(e,["audioTimestamp"]);B!=null&&p(r,["audioTimestamp"],B);const F=d(e,["thinkingConfig"]);F!=null&&p(r,["thinkingConfig"],zG(F));const G=d(e,["imageConfig"]);return G!=null&&p(r,["imageConfig"],eG(G)),r}function zN(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);if(i!=null){let o=ka(i);Array.isArray(o)&&(o=o.map(s=>Ev(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&p(n,["generationConfig"],_V(t,a,n)),n}function VN(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["contents"]);if(i!=null){let o=ka(i);Array.isArray(o)&&(o=o.map(s=>gd(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&p(n,["generationConfig"],TV(t,a,n)),n}function GN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Tz(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&p(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function WN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Cz(c))),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&p(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function CV(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const A=d(t,["imageSize"]);if(e!==void 0&&A!=null&&p(e,["parameters","sampleImageSize"],A),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function NV(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&p(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const A=d(t,["language"]);e!==void 0&&A!=null&&p(e,["parameters","language"],A);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const y=d(t,["imageSize"]);e!==void 0&&y!=null&&p(e,["parameters","sampleImageSize"],y);const x=d(t,["enhancePrompt"]);return e!==void 0&&x!=null&&p(e,["parameters","enhancePrompt"],x),n}function EV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&CV(a,n),n}function kV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&NV(a,n),n}function PV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>qV(o))),p(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],SI(i)),e}function MV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>kv(o))),p(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],_I(i)),e}function OV(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const o=d(t,["resolution"]);e!==void 0&&o!=null&&p(e,["parameters","resolution"],o);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function IV(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&p(e,["parameters","fps"],a);const o=d(t,["durationSeconds"]);e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const A=d(t,["enhancePrompt"]);e!==void 0&&A!=null&&p(e,["parameters","enhancePrompt"],A);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&p(e,["parameters","generateAudio"],v);const b=d(t,["lastFrame"]);e!==void 0&&b!=null&&p(e,["instances[0]","lastFrame"],Qa(b));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(T=>dW(T))),p(e,["instances[0]","referenceImages"],S)}const y=d(t,["mask"]);e!==void 0&&y!=null&&p(e,["instances[0]","mask"],fW(y));const x=d(t,["compressionQuality"]);return e!==void 0&&x!=null&&p(e,["parameters","compressionQuality"],x),n}function DV(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&p(e,["response"],BV(o)),e}function LV(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response"]);return o!=null&&p(e,["response"],$V(o)),e}function jV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["image"]);if(a!=null&&p(n,["instances[0]","image"],wI(a)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&FV(o,n);const s=d(e,["config"]);return s!=null&&OV(s,n),n}function RV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&p(n,["instances[0]","image"],Qa(a));const o=d(e,["video"]);o!=null&&p(n,["instances[0]","video"],CI(o));const s=d(e,["source"]);s!=null&&UV(s,n);const l=d(e,["config"]);return l!=null&&IV(l,n),n}function BV(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>zV(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function $V(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>VV(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function FV(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&p(e,["instances[0]","image"],wI(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function UV(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Qa(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&p(e,["instances[0]","video"],CI(a)),n}function qV(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],tG(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],SI(i)),e}function kv(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],xI(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],_I(i));const a=d(t,["prompt"]);return a!=null&&p(e,["enhancedPrompt"],a),e}function HV(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],xI(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>fV(a))),p(e,["labels"],i)}return e}function zV(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],uW(n)),e}function VV(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],cW(n)),e}function GV(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Wt(t,r)),n}function WV(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Wt(t,r)),n}function YV(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],bz(n)),e}function KV(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Jz(n)),e}function JV(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Xz(n)),e}function XV(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],nG(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function QV(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],rG(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function ZV(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&p(e,["aspectRatio"],n),e}function eG(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&p(e,["aspectRatio"],n),e}function tG(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Yu(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xI(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Yu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function wI(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Yu(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Qa(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Yu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function nG(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function rG(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function iG(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function aG(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function oG(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&p(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],aI(t,s)),r}function sG(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&p(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],aI(t,s)),r}function lG(t,e){const n={},r=d(e,["config"]);return r!=null&&oG(t,r,n),n}function uG(t,e){const n={},r=d(e,["config"]);return r!=null&&sG(t,r,n),n}function cG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=oI(i);Array.isArray(a)&&(a=a.map(o=>e2(o))),p(e,["models"],a)}return e}function fG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=oI(i);Array.isArray(a)&&(a=a.map(o=>t2(o))),p(e,["models"],a)}return e}function dG(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function e2(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["version"]);a!=null&&p(e,["version"],a);const o=d(t,["_self"]);o!=null&&p(e,["tunedModelInfo"],YG(o));const s=d(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);return u!=null&&p(e,["supportedActions"],u),e}function t2(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["versionId"]);a!=null&&p(e,["version"],a);const o=d(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>uV(h))),p(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&p(e,["labels"],s);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],KG(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Nz(h))),p(e,["checkpoints"],f)}return e}function hG(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&p(e,["featureSelectionPreference"],n),e}function pG(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BG(i))),p(e,["speakerVoiceConfigs"],r)}return e}function AG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],hW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],xz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],dV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],mV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function mG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],pW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],wz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],hV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],gV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function gG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],AW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Sz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],pV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],vV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function vG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],mW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],_z(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],AV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],yV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function yG(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function bG(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function xG(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],Qa(n)),e}function wG(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","editConfig","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&p(e,["parameters","storageUri"],a);const o=d(t,["seed"]);e!==void 0&&o!=null&&p(e,["parameters","seed"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);return e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h),n}function SG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["source"]);i!=null&&TG(i,n);const a=d(e,["config"]);return a!=null&&wG(a,n),n}function _G(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kv(i))),p(e,["generatedImages"],r)}return e}function TG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Qa(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>xG(s))),p(e,["instances[0]","productImages"],o)}return n}function CG(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Qa(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&p(e,["maskImageConfig"],dG(a));const o=d(t,["controlImageConfig"]);o!=null&&p(e,["controlImageConfig"],$z(o));const s=d(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],UG(s));const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],qG(l)),e}function NG(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],iG(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function EG(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],aG(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function SI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function _I(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function kG(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&p(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function PG(t){const e={},n=d(t,["method"]);n!=null&&p(e,["method"],n);const r=d(t,["category"]);r!=null&&p(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function MG(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["enum"]);a!=null&&p(e,["enum"],a);const o=d(t,["example"]);o!=null&&p(e,["example"],o);const s=d(t,["format"]);s!=null&&p(e,["format"],s);const l=d(t,["items"]);l!=null&&p(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&p(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&p(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&p(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&p(e,["maximum"],h);const A=d(t,["minItems"]);A!=null&&p(e,["minItems"],A);const v=d(t,["minLength"]);v!=null&&p(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&p(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&p(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&p(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&p(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&p(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&p(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&p(e,["required"],C);const k=d(t,["title"]);k!=null&&p(e,["title"],k);const E=d(t,["type"]);return E!=null&&p(e,["type"],E),e}function OG(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["enum"]);a!=null&&p(e,["enum"],a);const o=d(t,["example"]);o!=null&&p(e,["example"],o);const s=d(t,["format"]);s!=null&&p(e,["format"],s);const l=d(t,["items"]);l!=null&&p(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&p(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&p(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&p(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&p(e,["maximum"],h);const A=d(t,["minItems"]);A!=null&&p(e,["minItems"],A);const v=d(t,["minLength"]);v!=null&&p(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&p(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&p(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&p(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&p(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&p(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&p(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&p(e,["required"],C);const k=d(t,["title"]);k!=null&&p(e,["title"],k);const E=d(t,["type"]);return E!=null&&p(e,["type"],E),e}function IG(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],Qa(n)),e}function DG(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&p(e,["parameters","confidenceThreshold"],a);const o=d(t,["maskDilation"]);e!==void 0&&o!=null&&p(e,["parameters","maskDilation"],o);const s=d(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s),n}function LG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["source"]);i!=null&&RG(i,n);const a=d(e,["config"]);return a!=null&&DG(a,n),n}function jG(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HV(i))),p(e,["generatedMasks"],r)}return e}function RG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Qa(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&p(e,["instances[0]","scribble"],IG(a)),n}function BG(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],NI(r)),e}function $G(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],NI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],pG(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function FG(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],gW(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function UG(t){const e={},n=d(t,["styleDescription"]);return n!=null&&p(e,["styleDescription"],n),e}function qG(t){const e={},n=d(t,["subjectType"]);n!=null&&p(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&p(e,["subjectDescription"],r),e}function HG(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function zG(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function VG(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],bV(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],NG(r)),e}function GG(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],xV(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],EG(r)),e}function WG(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>wV(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],XV(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],KV(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],aW());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],Oz(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function TI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>SV(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],QV(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&p(e,["googleSearchRetrieval"],JV(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],cV(o));const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],YV(s)),d(t,["urlContext"])!=null&&p(e,["urlContext"],oW());const u=d(t,["computerUse"]);u!=null&&p(e,["computerUse"],Iz(u));const c=d(t,["codeExecution"]);return c!=null&&p(e,["codeExecution"],c),e}function YG(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function KG(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function JG(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&p(e,["defaultCheckpointId"],a),n}function XG(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&p(e,["defaultCheckpointId"],a),n}function QG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Wt(t,r));const i=d(e,["config"]);return i!=null&&JG(i,n),n}function ZG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["config"]);return i!=null&&XG(i,n),n}function eW(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&p(e,["parameters","includeRaiReason"],i);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&p(e,["parameters","outputOptions","compressionQuality"],o);const s=d(t,["enhanceInputImage"]);e!==void 0&&s!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=d(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=d(t,["numberOfImages"]);e!==void 0&&u!=null&&p(e,["parameters","sampleCount"],u);const c=d(t,["mode"]);return e!==void 0&&c!=null&&p(e,["parameters","mode"],c),n}function tW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Wt(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],Qa(i));const a=d(e,["upscaleFactor"]);a!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=d(e,["config"]);return o!=null&&eW(o,n),n}function nW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kv(a))),p(e,["generatedImages"],i)}return e}function rW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sW(i))),p(e,["urlMetadata"],r)}return e}function iW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lW(i))),p(e,["urlMetadata"],r)}return e}function aW(){return{}}function oW(){return{}}function sW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function lW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function uW(t){const e={},n=d(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],Yu(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function cW(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Yu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function fW(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],Qa(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function dW(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Qa(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function hW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function pW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function AW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function mW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function CI(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Yu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function NI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],yG(n)),e}function gW(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],bG(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vW="Content-Type",yW="X-Server-Timeout",bW="User-Agent",n2="x-goog-api-client",xW="1.22.0",wW=`google-genai-sdk/${xW}`,SW="v1beta1",_W="v1beta",YN=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class TW{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:SW,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:_W,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&CW(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KN(i),new Kx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return yf(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield Tn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),A=h.status,v=h.code,b=`got status: ${A}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Nv({message:b,status:v})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(YN);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Tn(new Kx(h)),o=o.slice(c[0].length),c=o.match(YN)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=wW+" "+this.clientOptions.userAgentExtra;return e[bW]=n,e[n2]=n,e[vW]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(yW,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:ot("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function KN(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nv({message:i,status:n}):new Error(i)}}function CW(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NW="mcp_used/unknown";let EW=!1;function EI(t){for(const e of t)if(kW(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EW}function kI(t){var e;const n=(e=t[n2])!==null&&e!==void 0?e:"";t[n2]=(n+` ${NW}`).trimStart()}function kW(t){return t!==null&&typeof t=="object"&&t instanceof hS}function PW(t,e=100){return yf(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Tn(t.listTools({cursor:r}));for(const o of a.tools)yield yield Tn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class hS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new hS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Qh(PW(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const h=f.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),FF(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MW(t,e,n){const r=new OF;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=vH(i);Object.assign(r,a),e(r)}class OW{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=LW(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},A=this.apiClient,v={onopen:h,onmessage:S=>{MW(A,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(l,DW(o),v);b.connect(),await c;const w=Wt(this.apiClient,e.model),y=gI({model:w}),x=Zx({setup:y});return b.send(JSON.stringify(x)),new IW(b,this.apiClient)}}class IW{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=xH(e),r=mI(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=bH(e),r=Zx(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=Zx({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(rf.PLAY)}pause(){this.sendPlaybackControl(rf.PAUSE)}stop(){this.sendPlaybackControl(rf.STOP)}resetContext(){this.sendPlaybackControl(rf.RESET_CONTEXT)}close(){this.conn.close()}}function DW(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function LW(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jW="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RW(t,e,n){const r=new MF;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=PH(a);Object.assign(r,o)}else{const o=kH(a);Object.assign(r,o)}e(r)}class BW{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new OW(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&EI(e.config.tools)&&kI(f);const h=qW(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const D=this.apiClient.getApiKey();let $="BidiGenerateContent",O="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${$}?${O}=${D}`}let A=()=>{};const v=new Promise(D=>{A=D}),b=e.callbacks,w=function(){var D;(D=b==null?void 0:b.onopen)===null||D===void 0||D.call(b),A({})},y=this.apiClient,x={onopen:w,onmessage:D=>{RW(y,b.onmessage,D)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(D){}},S=this.webSocketFactory.create(c,UW(h),x);S.connect(),await v;let T=Wt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const D=this.apiClient.getProject(),$=this.apiClient.getLocation();T=`projects/${D}/locations/${$}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[n0.AUDIO]}:e.config.responseModalities=[n0.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const D of k)if(this.isCallableTool(D)){const $=D;E.push(await $.tool())}else E.push(D);E.length>0&&(e.config.tools=E);const I={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=hH(this.apiClient,I):C=dH(this.apiClient,I),delete C.config,S.send(JSON.stringify(C)),new FW(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const $W={turnComplete:!0};class FW{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ka(n.turns),e.isVertexAI()?r=r.map(i=>gd(i)):r=r.map(i=>Ev(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(jW)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},$W),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:_H(e)}:n={realtimeInput:SH(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function UW(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qW(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JN=10;function XN(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function bf(t){return"callTool"in t&&typeof t.callTool=="function"}function HW(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>bf(i)))!==null&&r!==void 0?r:!1}function zW(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!bf(i)))!==null&&r!==void 0?r:!1}function QN(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VW extends Wu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!HW(n)||XN(n.config))return await this.generateContentInternal(l);if(zW(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const f=ka(l.contents),h=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:JN;let A=0;for(;A<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,b=[];for(const w of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(bf(w)){const x=await w.callTool(u.functionCalls);b.push(...x)}A++,c={role:"user",parts:b},l.contents=ka(l.contents),l.contents.push(v),l.contents.push(c),QN(l.config)&&(f.push(v),f.push(c))}return QN(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),XN(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new TA(Lu.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>bf(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&EI(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),kI(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bf(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:JN;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,A;return yf(this,arguments,function*(){for(var v,b,w,y;s<a;){o&&(s++,o=!1);const C=yield Tn(u.processParamsMaybeAddMcpUsage(f)),k=yield Tn(u.generateContentStreamInternal(C)),E=[],I=[];try{for(var x=!0,S=(b=void 0,Qh(k)),T;T=yield Tn(S.next()),v=T.done,!v;x=!0){y=T.value,x=!1;const D=y;if(yield yield Tn(D),D.candidates&&(!((h=D.candidates[0])===null||h===void 0)&&h.content)){I.push(D.candidates[0].content);for(const $ of(A=D.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(s<a&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has($.functionCall.name)){const O=yield Tn(c.get($.functionCall.name).callTool([$.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(D){b={error:D}}finally{try{!x&&!v&&(w=S.return)&&(yield Tn(w.call(S)))}finally{if(b)throw b.error}}if(E.length>0){o=!0;const D=new mh;D.candidates=[{content:{role:"user",parts:E}}],yield yield Tn(D);const $=[];$.push(...I),$.push({role:"user",parts:E});const O=ka(f.contents).concat($);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VN(this.apiClient,e);return s=ot("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=WN(c),h=new mh;return Object.assign(h,f),h})}else{const u=zN(this.apiClient,e);return s=ot("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=GN(c),h=new mh;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VN(this.apiClient,e);return s=ot("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return yf(this,arguments,function*(){var h,A,v,b;try{for(var w=!0,y=Qh(f),x;x=yield Tn(y.next()),h=x.done,!h;w=!0){b=x.value,w=!1;const S=b,T=WN(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new mh;Object.assign(C,T),yield yield Tn(C)}}catch(S){A={error:S}}finally{try{!w&&!h&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(A)throw A.error}}})})}else{const u=zN(this.apiClient,e);return s=ot("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return yf(this,arguments,function*(){var h,A,v,b;try{for(var w=!0,y=Qh(f),x;x=yield Tn(y.next()),h=x.done,!h;w=!0){b=x.value,w=!1;const S=b,T=GN(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new mh;Object.assign(C,T),yield yield Tn(C)}}catch(S){A={error:S}}finally{try{!w&&!h&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=oV(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=lV(c),h=new _N;return Object.assign(h,f),h})}else{const u=aV(this.apiClient,e);return s=ot("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=sV(c),h=new _N;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=kV(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=MV(c),h=new TN;return Object.assign(h,f),h})}else{const u=EV(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=PV(c),h=new TN;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Zz(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=eV(l),c=new SF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=tW(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nW(l),c=new _F;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=SG(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=_G(l),c=new TF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=LG(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jG(l),c=new CF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=WV(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>t2(c))}else{const u=GV(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>e2(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=uG(this.apiClient,e);return s=ot("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=fG(c),h=new CN;return Object.assign(h,f),h})}else{const u=lG(this.apiClient,e);return s=ot("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=cG(c),h=new CN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ZG(this.apiClient,e);return s=ot("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>t2(c))}else{const u=QG(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>e2(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Wz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Kz(c),h=new NN;return Object.assign(h,f),h})}else{const u=Gz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Yz(c),h=new NN;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Hz(this.apiClient,e);return s=ot("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Vz(c),h=new EN;return Object.assign(h,f),h})}else{const u=qz(this.apiClient,e);return s=ot("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=zz(c),h=new EN;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Pz(this.apiClient,e);return a=ot("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Mz(l),c=new NF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=RV(this.apiClient,e);return s=ot("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=LV(c),h=new r0;return Object.assign(h,f),h})}else{const u=jV(this.apiClient,e);return s=ot("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const f=DV(c),h=new r0;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GW extends Wu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=bF(e);return s=ot("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=yF(e);return s=ot("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=dF(e);return a=ot("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZN(){return{}}function WW(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["name"],n),e}function YW(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&p(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&p(e,["silenceDurationMs"],o),e}function KW(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function JW(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function XW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fY(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function QW(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],mY(r)),e}function ZW(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&p(n,["newSessionExpireTime"],a);const o=d(e,["uses"]);n!==void 0&&o!=null&&p(n,["uses"],o);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],uY(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function eY(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],ZW(t,r,n)),n}function tY(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function nY(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function rY(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function iY(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function aY(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],tY(n)),e}function oY(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],sY(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function sY(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function lY(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],vY(fS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],yY(h));const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],A);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],XW(Qr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Ad(b);Array.isArray(k)&&(k=k.map(E=>bY(pd(E)))),p(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],AY(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&p(e,["setup","inputAudioTranscription"],ZN());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],ZN());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],pY(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],QW(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&p(e,["setup","proactivity"],hY(C)),n}function uY(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Wt(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],lY(i,n)),n}function cY(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gY(i))),p(e,["speakerVoiceConfigs"],r)}return e}function fY(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],wY(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],KW(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],nY(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],rY(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function dY(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function hY(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function pY(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],YW(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function AY(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mY(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function gY(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],PI(r)),e}function vY(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],PI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],cY(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function yY(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function bY(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>iY(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],oY(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],aY(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],xY());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],JW(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function xY(){return{}}function wY(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function PI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],dY(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SY(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function _Y(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=SY(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class TY extends Wu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=eY(this.apiClient,e);a=ot("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=_Y(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>WW(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function NY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function EY(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&p(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&p(e,["tuningTask","hyperparameters","epochCount"],i);const a=d(t,["learningRateMultiplier"]);if(a!=null&&p(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","batchSize"],o);const s=d(t,["learningRate"]);if(e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","learningRate"],s),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function kY(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec"],WY(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&p(e,["tunedModelDisplayName"],i);const a=d(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=d(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=d(t,["adapterSize"]);if(e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=d(t,["labels"]);return e!==void 0&&c!=null&&p(e,["labels"],c),n}function PY(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&p(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&p(e,["tuningTask","trainingData"],HY(i));const a=d(t,["config"]);return a!=null&&EY(a,e),e}function MY(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&p(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],zY(i,e));const a=d(t,["config"]);return a!=null&&kY(a,e),e}function OY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function IY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function DY(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function LY(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function jY(t){const e={},n=d(t,["config"]);return n!=null&&DY(n,e),e}function RY(t){const e={},n=d(t,["config"]);return n!=null&&LY(n,e),e}function BY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>MI(o))),p(e,["tuningJobs"],a)}return e}function $Y(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>r2(o))),p(e,["tuningJobs"],a)}return e}function FY(t){const e={},n=d(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=d(t,["step"]);i!=null&&p(e,["step"],i);const a=d(t,["endpoint"]);return a!=null&&p(e,["endpoint"],a),e}function UY(t){const e={},n=d(t,["name"]);n!=null&&p(e,["model"],n);const r=d(t,["name"]);return r!=null&&p(e,["endpoint"],r),e}function qY(t){const e={},n=d(t,["model"]);n!=null&&p(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&p(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>FY(o))),p(e,["checkpoints"],a)}return e}function HY(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>VY(i))),p(e,["examples","examples"],r)}return e}function zY(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function VY(t){const e={},n=d(t,["textInput"]);n!=null&&p(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&p(e,["output"],r),e}function MI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],rI(i));const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["tuningTask","startTime"]);o!=null&&p(e,["startTime"],o);const s=d(t,["tuningTask","completeTime"]);s!=null&&p(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["description"]);u!=null&&p(e,["description"],u);const c=d(t,["baseModel"]);c!=null&&p(e,["baseModel"],c);const f=d(t,["_self"]);f!=null&&p(e,["tunedModel"],UY(f));const h=d(t,["customBaseModel"]);h!=null&&p(e,["customBaseModel"],h);const A=d(t,["experiment"]);A!=null&&p(e,["experiment"],A);const v=d(t,["labels"]);v!=null&&p(e,["labels"],v);const b=d(t,["outputUri"]);b!=null&&p(e,["outputUri"],b);const w=d(t,["pipelineJob"]);w!=null&&p(e,["pipelineJob"],w);const y=d(t,["serviceAccount"]);y!=null&&p(e,["serviceAccount"],y);const x=d(t,["tunedModelDisplayName"]);x!=null&&p(e,["tunedModelDisplayName"],x);const S=d(t,["veoTuningSpec"]);return S!=null&&p(e,["veoTuningSpec"],S),e}function r2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],rI(i));const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["startTime"]);o!=null&&p(e,["startTime"],o);const s=d(t,["endTime"]);s!=null&&p(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["error"]);u!=null&&p(e,["error"],u);const c=d(t,["description"]);c!=null&&p(e,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(e,["baseModel"],f);const h=d(t,["tunedModel"]);h!=null&&p(e,["tunedModel"],qY(h));const A=d(t,["preTunedModel"]);A!=null&&p(e,["preTunedModel"],A);const v=d(t,["supervisedTuningSpec"]);v!=null&&p(e,["supervisedTuningSpec"],v);const b=d(t,["tuningDataStats"]);b!=null&&p(e,["tuningDataStats"],b);const w=d(t,["encryptionSpec"]);w!=null&&p(e,["encryptionSpec"],w);const y=d(t,["partnerModelTuningSpec"]);y!=null&&p(e,["partnerModelTuningSpec"],y);const x=d(t,["customBaseModel"]);x!=null&&p(e,["customBaseModel"],x);const S=d(t,["experiment"]);S!=null&&p(e,["experiment"],S);const T=d(t,["labels"]);T!=null&&p(e,["labels"],T);const C=d(t,["outputUri"]);C!=null&&p(e,["outputUri"],C);const k=d(t,["pipelineJob"]);k!=null&&p(e,["pipelineJob"],k);const E=d(t,["serviceAccount"]);E!=null&&p(e,["serviceAccount"],E);const I=d(t,["tunedModelDisplayName"]);I!=null&&p(e,["tunedModelDisplayName"],I);const D=d(t,["veoTuningSpec"]);return D!=null&&p(e,["veoTuningSpec"],D),e}function GY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const a=d(t,["done"]);a!=null&&p(e,["done"],a);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function WY(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YY extends Wu{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new TA(Lu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Yx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=IY(e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>r2(c))}else{const u=OY(e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>MI(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=RY(e);return s=ot("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=$Y(c),h=new kN;return Object.assign(h,f),h})}else{const u=jY(e);return s=ot("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=BY(c),h=new kN;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=NY(e);o=ot("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=CY(e);o=ot("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=MY(e);return a=ot("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>r2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PY(e);return a=ot("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>GY(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KY{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JY=1024*1024*8,XY=3,QY=1e3,ZY=2,e1="x-goog-upload-status";async function eK(t,e,n){var r,i,a;let o=0,s=0,l=new Kx(new Response),u="upload";for(o=t.size;s<o;){const f=Math.min(JY,o-s),h=t.slice(s,s+f);s+f>=o&&(u+=", finalize");let A=0,v=QY;for(;A<XY&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[e1]));)A++,await nK(v),v=v*ZY;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[e1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[e1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function tK(t){return{size:t.size,type:t.type}}function nK(t){return new Promise(e=>setTimeout(e,t))}class rK{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eK(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tK(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iK{create(e,n,r){return new aK(e,n,r)}}class aK{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eE="x-goog-api-key";class oK{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(eE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(eE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sK="gl-node/";class lK{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=fF(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new oK(this.apiKey);this.apiClient=new TW({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:sK+"web",uploader:new rK,downloader:new KY}),this.models=new VW(this.apiClient),this.live=new BW(this.apiClient,i,new iK),this.batches=new r9(this.apiClient),this.chats=new fq(this.models,this.apiClient),this.caches=new lq(this.apiClient),this.files=new _q(this.apiClient),this.operations=new GW(this.apiClient),this.authTokens=new TY(this.apiClient),this.tunings=new YY(this.apiClient)}}var uK={};const tE=uK.API_KEY,cK=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return m.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[m.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&m.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),fK=({onSave:t,onClose:e,t:n})=>{const[r,i]=ae.useState(""),[a,o]=ae.useState(1),[s,l]=ae.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),m.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),m.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),m.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},dK=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:f,setCart:h,completeSale:A,processReturn:v,payCustomerDebt:b,t:w,language:y})=>{const[x,S]=ae.useState(0),[T,C]=ae.useState(void 0),[k,E]=ae.useState(null),[I,D]=ae.useState(""),[$,O]=ae.useState(!1),[M,B]=ae.useState(null),[F,G]=ae.useState(!1),[R,U]=ae.useState(0),[V,K]=ae.useState(""),[ee,le]=ae.useState(""),[j,z]=ae.useState(null),[Q,te]=ae.useState(!1),[J,se]=ae.useState(!1),[ue,ie]=ae.useState("unit"),be=ae.useRef(""),Se=ae.useRef(null),fe=ae.useRef(null),Ie=ae.useMemo(()=>f.reduce((Ee,Ge)=>Ee+Ge.price*Ge.quantity,0),[f]),Fe=ee?parseFloat(ee):Ie,_e=Fe/1.2,re=Fe-_e,Te=Fe-x,Ce=ae.useCallback((Ee,Ge)=>Ge==="wholesale"&&Ee.priceWholesale&&Ee.priceWholesale>0?Ee.priceWholesale:Ge==="semiWholesale"&&Ee.priceSemiWholesale&&Ee.priceSemiWholesale>0?Ee.priceSemiWholesale:Ee.price||0,[]);ae.useEffect(()=>{h(Ee=>Ee.map(Ge=>{let Ve=Ge.price;if(Ge.type==="good"){const st=l.get(Ge.id);st&&(Ve=Ce(st,ue))}else if(Ge.type==="service"&&!Ge.isCustom){const st=n.find(rt=>rt.id===Ge.productId);st&&(Ve=Ce(st,ue))}return{...Ge,price:Ve}}))},[ue,l,n,Ce,h]),ae.useEffect(()=>{if(T){const Ee=o.filter(Ge=>Ge.customerId===T&&Ge.remainingAmount>0).reduce((Ge,Ve)=>Ge+Ve.remainingAmount,0);U(Ee)}else U(0)},[T,o]),ae.useEffect(()=>{T||S(Fe)},[Fe,T]),ae.useEffect(()=>{le("")},[f]);const ve=ae.useCallback(()=>{h([]),S(0),le(""),C(void 0)},[h]),Ne=ae.useCallback(Ee=>{const Ge=s.get(Ee.id)||0;if(!$&&Ge<=0){E(w("productOutOfStock",{productName:Ee.name})),setTimeout(()=>E(null),3e3);return}h(Ve=>{const st=Ve.find(_t=>_t.id===Ee.id);if(st){const _t=st.quantity+1;return!$&&_t>Ge?(E(w("notEnoughStock",{productName:Ee.name})),setTimeout(()=>E(null),3e3),Ve):Ve.map(jn=>jn.id===Ee.id?{...jn,quantity:_t}:jn)}const rt=n.find(_t=>_t.id===Ee.productId),zt={id:Ee.id,storeId:Ee.storeId,name:`${rt==null?void 0:rt.name} - ${Ee.name}`,type:"good",price:Ce(Ee,ue),purchasePrice:Ee.purchasePrice,stock:Ge,quantity:1,image:Ee.image,productId:Ee.productId};return[...Ve,zt]}),E(w("productAdded",{productName:Ee.name})),setTimeout(()=>E(null),3e3)},[h,$,w,s,n,Ce,ue]),He=ae.useCallback(Ee=>{h(Ge=>{if(Ge.find(rt=>rt.id===Ee.id))return Ge.map(rt=>rt.id===Ee.id?{...rt,quantity:rt.quantity+1}:rt);const st={id:Ee.id,storeId:Ee.storeId,name:Ee.name,type:"service",price:Ce(Ee,ue),quantity:1,image:Ee.image,productId:Ee.id};return[...Ge,st]})},[h,Ce,ue]),Ue=(Ee,Ge,Ve)=>{const st=crypto.randomUUID(),rt={id:st,productId:st,storeId:e.storeId,name:Ee,price:Ve,quantity:Ge,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("services"))}`,isCustom:!0};h(zt=>[...zt,rt]),se(!1),E(w("customItemAdded")),setTimeout(()=>E(null),3e3)},ge=ae.useCallback(Ee=>{const Ge=c.get(Ee);Ge?Ne(Ge):(E(w("productNotFound",{barcode:Ee})),setTimeout(()=>E(null),3e3))},[c,Ne,w]),Le=async Ee=>{var Ve;const Ge=(Ve=Ee.target.files)==null?void 0:Ve[0];if(Ge){if(!tE){E(w("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Ee.target&&(Ee.target.value="");return}te(!0),E(w("scanning"));try{const st=await new Promise((ct,jt)=>{const $r=new FileReader;$r.onload=()=>ct($r.result.split(",")[1]),$r.onerror=Dn=>jt(Dn),$r.readAsDataURL(Ge)}),rt=new lK({apiKey:tE}),zt={inlineData:{mimeType:Ge.type,data:st}},_t={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},jn=await rt.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[zt,_t]},config:{responseMimeType:"application/json",responseSchema:{type:zi.ARRAY,items:{type:zi.OBJECT,properties:{designation:{type:zi.STRING,description:"Item name or description from the receipt."},quantite:{type:zi.NUMBER,description:"The quantity of the item."},prixHT:{type:zi.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),Br=JSON.parse(jn.text);if(!Array.isArray(Br))throw new Error("AI response is not a valid array.");const ln=Br.map(ct=>{const jt=crypto.randomUUID();return{id:jt,productId:jt,storeId:e.storeId,name:ct.designation,price:ct.prixHT,quantity:ct.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("services"))}`,isCustom:!0}});h(ct=>[...ct,...ln]),E(w("itemsAddedFromReceipt",{count:ln.length})),setTimeout(()=>E(null),4e3)}catch(st){console.error("Error scanning receipt:",st),E(w("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{te(!1),Ee.target&&(Ee.target.value="")}}};ae.useEffect(()=>{const Ee=Ge=>{const Ve=Ge.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(Ve.tagName)&&Ve.id!=="pos-scanner-listener")){if(Se.current&&clearTimeout(Se.current),Ge.key==="Enter"){be.current.length>3&&ge(be.current),be.current="",Ge.preventDefault();return}Ge.key.length===1&&(be.current+=Ge.key),Se.current=setTimeout(()=>{be.current=""},100)}};return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee),Se.current&&clearTimeout(Se.current)}},[ge]);const Oe=ae.useMemo(()=>{const Ee=I.toLowerCase();if(F){const Ve=n.filter(st=>st.type==="service");return I?Ve.filter(st=>st.name.toLowerCase().includes(Ee)):Ve}return I.length<1&&!M?[]:n.filter(Ve=>Ve.type==="good").filter(Ve=>!M||Ve.categoryId===M?I?Ve.name.toLowerCase().includes(Ee):!0:!1)},[n,M,I,F]),Qe=Ee=>{Ee.type==="service"?He(Ee):z(Ee),D("")},lt=Ee=>{Ne(Ee),z(null)},vt=F||I.length>0||!!M,Ke=(Ee,Ge,Ve)=>{h(st=>{const rt=st.find(_t=>_t.id===Ee);if(!rt)return st;let zt=Ve;return Ge==="quantity"&&(zt<.5&&(zt=.5),rt.type==="good"&&!$&&rt.stock&&zt>rt.stock&&(zt=rt.stock)),Ge==="price"&&zt<0&&(zt=0),st.map(_t=>_t.id===Ee?{..._t,[Ge]:zt}:_t)})},Ze=Ee=>{h(f.filter(Ge=>Ge.id!==Ee))},ze=async Ee=>{if(f.length===0){alert(w("emptyCartError"));return}await A(x,T,Fe,Ee),S(0),C(void 0),le("")},Gt=()=>{if(f.length===0){alert(w("emptyCartError"));return}v(f)},Ot=()=>{const Ee=parseFloat(V);if(T&&Ee>0){if(Ee>R){alert(w("enterValidPayment"));return}b(T,Ee),K("")}};return ae.useEffect(()=>{ve(),G(!1)},[$,ve]),m.jsxs(m.Fragment,{children:[j&&m.jsx(cK,{product:j,variants:u.get(j.id)||[],stockMap:s,onClose:()=>z(null),onSelectVariant:lt,t:w,isReturnMode:$}),J&&m.jsx(fK,{onSave:Ue,onClose:()=>se(!1),t:w}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:m.jsxs("div",{className:`flex rounded-lg p-1 ${$?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[m.jsx("button",{onClick:()=>O(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${$?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:w("saleMode")}),m.jsx("button",{onClick:()=>O(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${$?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:w("returnMode")})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:w("priceLevels")}),m.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[m.jsx("button",{onClick:()=>ie("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("unit")}),m.jsx("button",{onClick:()=>ie("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("semiWholesale")}),m.jsx("button",{onClick:()=>ie("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("wholesale")})]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[m.jsx(VO,{className:"w-8 h-8"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold",children:w("barcodeScannerActive")}),m.jsx("p",{className:"text-sm",children:w("scanToAdd")})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:w("manualAdd")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(gf,{className:"w-5 h-5"}),w("addCustomItem")]}),t.enableAiReceiptScan&&m.jsxs("button",{onClick:()=>{var Ee;return(Ee=fe.current)==null?void 0:Ee.click()},disabled:Q,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[Q?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx(yl,{className:"w-5 h-5"}),w(Q?"scanning":"scanReceipt")]})]}),m.jsx("input",{type:"file",ref:fe,onChange:Le,className:"hidden",accept:"image/*"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:w("filterByCategory")}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>{B(null),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!M&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:w("all")}),a.map(Ee=>m.jsx("button",{onClick:()=>{B(Ee.id),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${M===Ee.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Ee.name},Ee.id))]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("button",{onClick:()=>{G(!0),B(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[m.jsx(yl,{className:"w-6 h-6"})," ",w("services")]})}),m.jsxs("div",{className:"relative mt-4",children:[m.jsx("input",{type:"text",placeholder:w("searchPlaceholder"),value:I,onChange:Ee=>D(Ee.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),vt&&m.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Oe.length>0?Oe.map(Ee=>{var Ge;return m.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>Qe(Ee),children:[Ee.type==="good"?m.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):m.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:m.jsx(yl,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Ee.name}),m.jsxs("div",{className:"flex justify-between items-center",children:[Ee.type==="service"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w("price"),": ",(Ge=Ee.price)==null?void 0:Ge.toFixed(2)," DH"]}),Ee.type==="good"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Ee.id)||[]).length," ",w("variants")]})]})]}),m.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[m.jsx(gf,{className:"w-4 h-4"})," ",w("add")]})]},Ee.id)}):m.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:w("productNotFound",{barcode:""})})})]})]}),k&&m.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${$?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:w($?"returnReceipt":"invoice")}),m.jsx("button",{onClick:ve,title:w($?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:m.jsx(Qi,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:f.length>0?f.map(Ee=>m.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[m.jsxs("div",{className:"col-span-3",children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Ee.name}),Ee.type==="good"||Ee.isCustom?m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Ee.price.toFixed(2)," x ",Ee.quantity]}):m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:Ee.price,onChange:Ge=>Ke(Ee.id,"price",parseFloat(Ge.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Ee.quantity]})]})]}),m.jsx("input",{type:"number",value:Ee.quantity,onChange:Ge=>Ke(Ee.id,"quantity",parseFloat(Ge.target.value)||0),min:"0.5",step:"0.5",max:$||Ee.type==="service"?void 0:Ee.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Ee.price*Ee.quantity).toFixed(2)}),m.jsx("button",{onClick:()=>Ze(Ee.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:m.jsx(Qi,{className:"w-5 h-5"})})]},Ee.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:w("emptyCart")})}),m.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!$&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[w("customers"),":"]}),m.jsxs("select",{id:"customer",value:T||"",onChange:Ee=>C(Ee.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[m.jsx("option",{value:"",children:w("cashCustomer")}),i.map(Ee=>m.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),R>0&&m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:w("debtPayment")}),m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"number",placeholder:w("amount"),value:V,onChange:Ee=>K(Ee.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),m.jsx("button",{onClick:Ot,disabled:!V||parseFloat(V)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:w("save")})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[m.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:w("manualTotal")}),m.jsx("input",{type:"number",id:"manualTotal",placeholder:Ie.toFixed(2),value:ee,onChange:Ee=>le(Ee.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[m.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:w("downPayment")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",id:"downPayment",value:x,onChange:Ee=>S(Math.max(0,parseFloat(Ee.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&m.jsx("button",{onClick:()=>S(Fe),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:w("total")})]})]})]}),$?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[m.jsxs("span",{children:[w("refundAmount"),":"]}),m.jsxs("span",{children:[Ie.toFixed(2)," DH"]})]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:Gt,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("processReturn")})})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[m.jsxs("span",{className:"font-bold",children:[w("total"),":"]}),m.jsxs("span",{className:"font-bold",children:[Fe.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>ze("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:f.length===0,children:w("finalizeAndPrintOrderForm")})]}),m.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("totalHT"),":"]}),m.jsxs("span",{children:[_e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("vat"),":"]}),m.jsxs("span",{children:[re.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[m.jsxs("span",{children:[w("totalTTC"),":"]}),m.jsxs("span",{children:[Fe.toFixed(2)," DH"]})]})]}),m.jsx("button",{onClick:()=>ze("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("finalizeAndPrintInvoice")})]}),m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[m.jsxs("span",{children:[w("remaining"),":"]}),m.jsxs("span",{children:[Te.toFixed(2)," DH"]})]})]})]})]})})]})]})},hK="modulepreload",pK=function(t,e){return new URL(t,e).href},nE={},Nl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=pK(u,r),u in nE)return;nE[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let v=o.length-1;v>=0;v--){const b=o[v];if(b.href===u&&(!c||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const A=document.createElement("link");if(A.rel=c?"stylesheet":hK,c||(A.as="script"),A.crossOrigin="",A.href=u,l&&A.setAttribute("nonce",l),document.head.appendChild(A),c)return new Promise((v,b)=>{A.addEventListener("load",v),A.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function on(t){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}var Jr=Uint8Array,Wi=Uint16Array,pS=Int32Array,Pv=new Jr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mv=new Jr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i2=new Jr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OI=function(t,e){for(var n=new Wi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new pS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},II=OI(Pv,2),DI=II.b,a2=II.r;DI[28]=258,a2[258]=28;var LI=OI(Mv,0),AK=LI.b,rE=LI.r,o2=new Wi(32768);for(var kn=0;kn<32768;++kn){var qs=(kn&43690)>>1|(kn&21845)<<1;qs=(qs&52428)>>2|(qs&13107)<<2,qs=(qs&61680)>>4|(qs&3855)<<4,o2[kn]=((qs&65280)>>8|(qs&255)<<8)>>1}var go=function(t,e,n){for(var r=t.length,i=0,a=new Wi(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Wi(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Wi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)s[o2[f]>>l]=u}else for(s=new Wi(r),i=0;i<r;++i)t[i]&&(s[i]=o2[o[t[i]-1]++]>>15-t[i]);return s},El=new Jr(288);for(var kn=0;kn<144;++kn)El[kn]=8;for(var kn=144;kn<256;++kn)El[kn]=9;for(var kn=256;kn<280;++kn)El[kn]=7;for(var kn=280;kn<288;++kn)El[kn]=8;var Np=new Jr(32);for(var kn=0;kn<32;++kn)Np[kn]=5;var mK=go(El,9,0),gK=go(El,9,1),vK=go(Np,5,0),yK=go(Np,5,1),t1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ua=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},n1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},AS=function(t){return(t+7)/8|0},jI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Jr(t.subarray(e,n))},bK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(t,e,n){var r=new Error(e||bK[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,za),!n)throw r;return r},xK=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new Jr(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new Jr(i*3));var u=function(Se){var fe=n.length;if(Se>fe){var Ie=new Jr(Math.max(fe*2,Se));Ie.set(n),n=Ie}},c=e.f||0,f=e.p||0,h=e.b||0,A=e.l,v=e.d,b=e.m,w=e.n,y=i*8;do{if(!A){c=Ua(t,f,1);var x=Ua(t,f+1,3);if(f+=3,x)if(x==1)A=gK,v=yK,b=9,w=5;else if(x==2){var k=Ua(t,f,31)+257,E=Ua(t,f+10,15)+4,I=k+Ua(t,f+5,31)+1;f+=14;for(var D=new Jr(I),$=new Jr(19),O=0;O<E;++O)$[i2[O]]=Ua(t,f+O*3,7);f+=E*3;for(var M=t1($),B=(1<<M)-1,F=go($,M,1),O=0;O<I;){var G=F[Ua(t,f,B)];f+=G&15;var S=G>>4;if(S<16)D[O++]=S;else{var R=0,U=0;for(S==16?(U=3+Ua(t,f,3),f+=2,R=D[O-1]):S==17?(U=3+Ua(t,f,7),f+=3):S==18&&(U=11+Ua(t,f,127),f+=7);U--;)D[O++]=R}}var V=D.subarray(0,k),K=D.subarray(k);b=t1(V),w=t1(K),A=go(V,b,1),v=go(K,w,1)}else za(1);else{var S=AS(f)+4,T=t[S-4]|t[S-3]<<8,C=S+T;if(C>i){l&&za(0);break}s&&u(h+T),n.set(t.subarray(S,C),h),e.b=h+=T,e.p=f=C*8,e.f=c;continue}if(f>y){l&&za(0);break}}s&&u(h+131072);for(var ee=(1<<b)-1,le=(1<<w)-1,j=f;;j=f){var R=A[n1(t,f)&ee],z=R>>4;if(f+=R&15,f>y){l&&za(0);break}if(R||za(2),z<256)n[h++]=z;else if(z==256){j=f,A=null;break}else{var Q=z-254;if(z>264){var O=z-257,te=Pv[O];Q=Ua(t,f,(1<<te)-1)+DI[O],f+=te}var J=v[n1(t,f)&le],se=J>>4;J||za(3),f+=J&15;var K=AK[se];if(se>3){var te=Mv[se];K+=n1(t,f)&(1<<te)-1,f+=te}if(f>y){l&&za(0);break}s&&u(h+131072);var ue=h+Q;if(h<K){var ie=a-K,be=Math.min(K,ue);for(ie+h<0&&za(3);h<be;++h)n[h]=r[ie+h]}for(;h<ue;++h)n[h]=n[h-K]}}e.l=A,e.p=j,e.b=h,e.f=c,A&&(c=1,e.m=b,e.d=v,e.n=w)}while(!c);return h!=n.length&&o?jI(n,0,h):n.subarray(0,h)},Fo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},gh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},r1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:BI,l:0};if(i==1){var o=new Jr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var A=new Wi(h+1),v=s2(n[c-1],A,0);if(v>e){var r=0,b=0,w=v-e,y=1<<w;for(a.sort(function(k,E){return A[E.s]-A[k.s]||k.f-E.f});r<i;++r){var x=a[r].s;if(A[x]>e)b+=y-(1<<v-A[x]),A[x]=e;else break}for(b>>=w;b>0;){var S=a[r].s;A[S]<e?b-=1<<e-A[S]++-1:++r}for(;r>=0&&b;--r){var T=a[r].s;A[T]==e&&(--A[T],++b)}v=e}return{t:new Jr(A),l:v}},s2=function(t,e,n){return t.s==-1?Math.max(s2(t.l,e,n+1),s2(t.r,e,n+1)):e[t.s]=n},iE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Wi(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},vh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},RI=function(t,e,n){var r=n.length,i=AS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},aE=function(t,e,n,r,i,a,o,s,l,u,c){Fo(e,c++,n),++i[256];for(var f=r1(i,15),h=f.t,A=f.l,v=r1(a,15),b=v.t,w=v.l,y=iE(h),x=y.c,S=y.n,T=iE(b),C=T.c,k=T.n,E=new Wi(19),I=0;I<x.length;++I)++E[x[I]&31];for(var I=0;I<C.length;++I)++E[C[I]&31];for(var D=r1(E,7),$=D.t,O=D.l,M=19;M>4&&!$[i2[M-1]];--M);var B=u+5<<3,F=vh(i,El)+vh(a,Np)+o,G=vh(i,h)+vh(a,b)+o+14+3*M+vh(E,$)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&B<=F&&B<=G)return RI(e,c,t.subarray(l,l+u));var R,U,V,K;if(Fo(e,c,1+(G<F)),c+=2,G<F){R=go(h,A,0),U=h,V=go(b,w,0),K=b;var ee=go($,O,0);Fo(e,c,S-257),Fo(e,c+5,k-1),Fo(e,c+10,M-4),c+=14;for(var I=0;I<M;++I)Fo(e,c+3*I,$[i2[I]]);c+=3*M;for(var le=[x,C],j=0;j<2;++j)for(var z=le[j],I=0;I<z.length;++I){var Q=z[I]&31;Fo(e,c,ee[Q]),c+=$[Q],Q>15&&(Fo(e,c,z[I]>>5&127),c+=z[I]>>12)}}else R=mK,U=El,V=vK,K=Np;for(var I=0;I<s;++I){var te=r[I];if(te>255){var Q=te>>18&31;gh(e,c,R[Q+257]),c+=U[Q+257],Q>7&&(Fo(e,c,te>>23&31),c+=Pv[Q]);var J=te&31;gh(e,c,V[J]),c+=K[J],J>3&&(gh(e,c,te>>5&8191),c+=Mv[J])}else gh(e,c,R[te]),c+=U[te]}return gh(e,c,R[256]),c+U[256]},wK=new pS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),BI=new Jr(0),SK=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Jr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=wK[e-1],h=f>>13,A=f&8191,v=(1<<n)-1,b=a.p||new Wi(32768),w=a.h||new Wi(v+1),y=Math.ceil(n/3),x=2*y,S=function(Fe){return(t[Fe]^t[Fe+1]<<y^t[Fe+2]<<x)&v},T=new pS(25e3),C=new Wi(288),k=new Wi(32),E=0,I=0,D=a.i||0,$=0,O=a.w||0,M=0;D+2<o;++D){var B=S(D),F=D&32767,G=w[B];if(b[F]=G,w[B]=F,O<=D){var R=o-D;if((E>7e3||$>24576)&&(R>423||!u)){c=aE(t,l,0,T,C,k,I,$,M,D-M,c),$=E=I=0,M=D;for(var U=0;U<286;++U)C[U]=0;for(var U=0;U<30;++U)k[U]=0}var V=2,K=0,ee=A,le=F-G&32767;if(R>2&&B==S(D-le))for(var j=Math.min(h,R)-1,z=Math.min(32767,D),Q=Math.min(258,R);le<=z&&--ee&&F!=G;){if(t[D+V]==t[D+V-le]){for(var te=0;te<Q&&t[D+te]==t[D+te-le];++te);if(te>V){if(V=te,K=le,te>j)break;for(var J=Math.min(le,te-2),se=0,U=0;U<J;++U){var ue=D-le+U&32767,ie=b[ue],be=ue-ie&32767;be>se&&(se=be,G=ue)}}}F=G,G=b[F],le+=F-G&32767}if(K){T[$++]=268435456|a2[V]<<18|rE[K];var Se=a2[V]&31,fe=rE[K]&31;I+=Pv[Se]+Mv[fe],++C[257+Se],++k[fe],O=D+V,++E}else T[$++]=t[D],++C[t[D]]}}for(D=Math.max(D,O);D<o;++D)T[$++]=t[D],++C[t[D]];c=aE(t,l,u,T,C,k,I,$,M,D-M,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=w,a.p=b,a.i=D,a.w=O)}else{for(var D=a.w||0;D<o+u;D+=65535){var Ie=D+65535;Ie>=o&&(l[c/8|0]=u,Ie=o),c=RI(l,c+1,t.subarray(D,Ie))}a.i=o}return jI(s,0,r+AS(c)+i)},$I=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},_K=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Jr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return SK(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},FI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},TK=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=$I();i.p(e.dictionary),FI(t,2,i.d())}},CK=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&za(6,"invalid zlib data"),(t[1]>>5&1)==1&&za(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function l2(t,e){e||(e={});var n=$I();n.p(t);var r=_K(t,e,e.dictionary?6:2,4);return TK(r,e),FI(r,r.length-4,n.d()),r}function NK(t,e){return xK(t.subarray(CK(t),-4),{i:2},e,e)}var EK=typeof TextDecoder<"u"&&new TextDecoder,kK=0;try{EK.decode(BI,{stream:!0}),kK=1}catch{}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i1(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var pn={log:i1,warn:function(t){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):i1.call(null,arguments))},error:function(t){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):i1(t))}};function a1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){au(r.response,e,n)},r.onerror=function(){pn.error("could not download file")},r.send()}function oE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zh,u2,au=yt.saveAs||((typeof window>"u"?"undefined":on(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?oE(i.href)?a1(t,e,n):Fm(i,i.target="_blank"):Fm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(oE(t))a1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Fm(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:on(a)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return a1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(yt.HTMLElement)||yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":on(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=yt.URL||yt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function UI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function o1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=zr(n,r,i,a,e[0],7,-680876936),a=zr(a,n,r,i,e[1],12,-389564586),i=zr(i,a,n,r,e[2],17,606105819),r=zr(r,i,a,n,e[3],22,-1044525330),n=zr(n,r,i,a,e[4],7,-176418897),a=zr(a,n,r,i,e[5],12,1200080426),i=zr(i,a,n,r,e[6],17,-1473231341),r=zr(r,i,a,n,e[7],22,-45705983),n=zr(n,r,i,a,e[8],7,1770035416),a=zr(a,n,r,i,e[9],12,-1958414417),i=zr(i,a,n,r,e[10],17,-42063),r=zr(r,i,a,n,e[11],22,-1990404162),n=zr(n,r,i,a,e[12],7,1804603682),a=zr(a,n,r,i,e[13],12,-40341101),i=zr(i,a,n,r,e[14],17,-1502002290),n=Vr(n,r=zr(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Vr(a,n,r,i,e[6],9,-1069501632),i=Vr(i,a,n,r,e[11],14,643717713),r=Vr(r,i,a,n,e[0],20,-373897302),n=Vr(n,r,i,a,e[5],5,-701558691),a=Vr(a,n,r,i,e[10],9,38016083),i=Vr(i,a,n,r,e[15],14,-660478335),r=Vr(r,i,a,n,e[4],20,-405537848),n=Vr(n,r,i,a,e[9],5,568446438),a=Vr(a,n,r,i,e[14],9,-1019803690),i=Vr(i,a,n,r,e[3],14,-187363961),r=Vr(r,i,a,n,e[8],20,1163531501),n=Vr(n,r,i,a,e[13],5,-1444681467),a=Vr(a,n,r,i,e[2],9,-51403784),i=Vr(i,a,n,r,e[7],14,1735328473),n=Gr(n,r=Vr(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Gr(a,n,r,i,e[8],11,-2022574463),i=Gr(i,a,n,r,e[11],16,1839030562),r=Gr(r,i,a,n,e[14],23,-35309556),n=Gr(n,r,i,a,e[1],4,-1530992060),a=Gr(a,n,r,i,e[4],11,1272893353),i=Gr(i,a,n,r,e[7],16,-155497632),r=Gr(r,i,a,n,e[10],23,-1094730640),n=Gr(n,r,i,a,e[13],4,681279174),a=Gr(a,n,r,i,e[0],11,-358537222),i=Gr(i,a,n,r,e[3],16,-722521979),r=Gr(r,i,a,n,e[6],23,76029189),n=Gr(n,r,i,a,e[9],4,-640364487),a=Gr(a,n,r,i,e[12],11,-421815835),i=Gr(i,a,n,r,e[15],16,530742520),n=Wr(n,r=Gr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Wr(a,n,r,i,e[7],10,1126891415),i=Wr(i,a,n,r,e[14],15,-1416354905),r=Wr(r,i,a,n,e[5],21,-57434055),n=Wr(n,r,i,a,e[12],6,1700485571),a=Wr(a,n,r,i,e[3],10,-1894986606),i=Wr(i,a,n,r,e[10],15,-1051523),r=Wr(r,i,a,n,e[1],21,-2054922799),n=Wr(n,r,i,a,e[8],6,1873313359),a=Wr(a,n,r,i,e[15],10,-30611744),i=Wr(i,a,n,r,e[6],15,-1560198380),r=Wr(r,i,a,n,e[13],21,1309151649),n=Wr(n,r,i,a,e[4],6,-145523070),a=Wr(a,n,r,i,e[11],10,-1120210379),i=Wr(i,a,n,r,e[2],15,718787259),r=Wr(r,i,a,n,e[9],21,-343485551),t[0]=ll(n,t[0]),t[1]=ll(r,t[1]),t[2]=ll(i,t[2]),t[3]=ll(a,t[3])}function Ov(t,e,n,r,i,a){return e=ll(ll(e,t),ll(r,a)),ll(e<<i|e>>>32-i,n)}function zr(t,e,n,r,i,a,o){return Ov(e&n|~e&r,t,e,i,a,o)}function Vr(t,e,n,r,i,a,o){return Ov(e&r|n&~r,t,e,i,a,o)}function Gr(t,e,n,r,i,a,o){return Ov(e^n^r,t,e,i,a,o)}function Wr(t,e,n,r,i,a,o){return Ov(n^(e|~r),t,e,i,a,o)}function qI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)o1(r,PK(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(o1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,o1(r,i),r}function PK(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Zh=yt.atob.bind(yt),u2=yt.btoa.bind(yt);var sE="0123456789abcdef".split("");function MK(t){for(var e="",n=0;n<4;n++)e+=sE[t>>8*n+4&15]+sE[t>>8*n&15];return e}function OK(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function c2(t){return qI(t).map(OK).join("")}var IK=function(t){for(var e=0;e<t.length;e++)t[e]=MK(t[e]);return t.join("")}(qI("hello"))!="5d41402abc4b2a76b9719d911017c592";function ll(t,e){if(IK){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function f2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,h=0,A=0,v="";for(l=0;l<f;l++)A=(A+(c=s[h=(h+1)%256]))%256,s[h]=s[A],s[A]=c,o=s[(s[h]+s[A])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lE={print:4,modify:8,copy:16,"annot-forms":32};function Uc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(lE.perm!==void 0)throw new Error("Invalid permission: "+s);i+=lE[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=c2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=f2(this.encryptionKey,this.padding)}function qc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function uE(t){if(on(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){yt.console&&pn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ep(t){if(!(this instanceof Ep))return new Ep(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function HI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function el(t,e,n,r,i){if(!(this instanceof el))return new el(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,HI.call(this,r,i)}function du(t,e,n,r,i){if(!(this instanceof du))return new du(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,HI.call(this,r,i)}function At(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;on(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},A={internal:{},__private__:{}};A.__private__.PubSub=uE;var v="1.3",b=A.__private__.getPdfVersion=function(){return v};A.__private__.setPdfVersion=function(N){v=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return w};var y=A.__private__.getPageFormat=function(N){return w[N]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function T(){this.saveGraphicsState(),re(new ht(ze,0,0,-ze,0,ks()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",S=x.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var k=A.__private__.combineFontStyleAndFontWeight=function(N,H){if(N=="bold"&&H=="normal"||N=="bold"&&H==400||N=="normal"&&H=="italic"||N=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(N=H==400||H==="normal"?N==="italic"?"italic":"normal":H!=700&&H!=="bold"||N!=="normal"?(H==700?"bold":H)+""+N:"bold"),N};A.advancedAPI=function(N){var H=S===x.COMPAT;return H&&T.call(this),typeof N!="function"||(N(this),H&&C.call(this)),this},A.compatAPI=function(N){var H=S===x.ADVANCED;return H&&C.call(this),typeof N!="function"||(N(this),H&&T.call(this)),this},A.isAdvancedAPI=function(){return S===x.ADVANCED};var E,I=function(N){if(S!==x.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=A.roundToPrecision=A.__private__.roundToPrecision=function(N,H){var oe=e||H;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};E=A.hpf=A.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return D(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return D(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return D(N,16)};var $=A.f2=A.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return D(N,2)},O=A.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return D(N,3)},M=A.scale=A.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?N*ze:S===x.ADVANCED?N:void 0},B=function(N){return S===x.COMPAT?ks()-N:S===x.ADVANCED?N:void 0},F=function(N){return M(B(N))};A.__private__.setPrecision=A.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var G,R="00000000000000000000000000000000",U=A.__private__.getFileId=function(){return R},V=A.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(qr=new Uc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};A.setFileId=function(N){return V(N),this},A.getFileId=function(){return U()};var K=A.__private__.convertDateToPDFDate=function(N){var H=N.getTimezoneOffset(),oe=H<0?"+":"-",ce=Math.floor(Math.abs(H/60)),ye=Math.abs(H%60),Pe=[oe,Q(ce),"'",Q(ye),"'"].join("");return["D:",N.getFullYear(),Q(N.getMonth()+1),Q(N.getDate()),Q(N.getHours()),Q(N.getMinutes()),Q(N.getSeconds()),Pe].join("")},ee=A.__private__.convertPDFDateToDate=function(N){var H=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,ce=parseInt(N.substr(8,2),10),ye=parseInt(N.substr(10,2),10),Pe=parseInt(N.substr(12,2),10),qe=parseInt(N.substr(14,2),10);return new Date(H,oe,ce,ye,Pe,qe,0)},le=A.__private__.setCreationDate=function(N){var H;if(N===void 0&&(N=new Date),N instanceof Date)H=K(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=N}return G=H},j=A.__private__.getCreationDate=function(N){var H=G;return N==="jsDate"&&(H=ee(G)),H};A.setCreationDate=function(N){return le(N),this},A.getCreationDate=function(N){return j(N)};var z,Q=A.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},te=A.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},J=0,se=[],ue=[],ie=0,be=[],Se=[],fe=!1,Ie=ue,Fe=function(){J=0,ie=0,ue=[],se=[],be=[],na=Rn(),Mi=Rn()};A.__private__.setCustomOutputDestination=function(N){fe=!0,Ie=N};var _e=function(N){fe||(Ie=N)};A.__private__.resetCustomOutputDestination=function(){fe=!1,Ie=ue};var re=A.__private__.out=function(N){return N=N.toString(),ie+=N.length+1,Ie.push(N),Ie},Te=A.__private__.write=function(N){return re(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ce=A.__private__.getArrayBuffer=function(N){for(var H=N.length,oe=new ArrayBuffer(H),ce=new Uint8Array(oe);H--;)ce[H]=N.charCodeAt(H);return oe},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return ve};var Ne=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(N){return Ne=S===x.ADVANCED?N/ze:N,this};var He,Ue=A.__private__.getFontSize=A.getFontSize=function(){return S===x.COMPAT?Ne:Ne*ze},ge=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(N){return ge=N,this},A.__private__.getR2L=A.getR2L=function(){return ge};var Le,Oe=A.__private__.setZoomMode=function(N){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))He=N;else if(isNaN(N)){if(H.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');He=N}else He=parseInt(N,10)};A.__private__.getZoomMode=function(){return He};var Qe,lt=A.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Le=N};A.__private__.getPageMode=function(){return Le};var vt=A.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Qe=N};A.__private__.getLayoutMode=function(){return Qe},A.__private__.setDisplayMode=A.setDisplayMode=function(N,H,oe){return Oe(N),vt(H),lt(oe),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(N){if(Object.keys(Ke).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[N]},A.__private__.getDocumentProperties=function(){return Ke},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(N){for(var H in Ke)Ke.hasOwnProperty(H)&&N[H]&&(Ke[H]=N[H]);return this},A.__private__.setDocumentProperty=function(N,H){if(Object.keys(Ke).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[N]=H};var Ze,ze,Gt,Ot,Ee,Ge={},Ve={},st=[],rt={},zt={},_t={},jn={},Br=null,ln=0,ct=[],jt=new uE(A),$r=t.hotfixes||[],Dn={},Zr={},Ei=[],ht=function N(H,oe,ce,ye,Pe,qe){if(!(this instanceof N))return new N(H,oe,ce,ye,Pe,qe);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN(qe)&&(qe=0),this._matrix=[H,oe,ce,ye,Pe,qe]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},ht.prototype.multiply=function(N){var H=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,ce=N.shx*this.sx+N.sy*this.shx,ye=N.shx*this.shy+N.sy*this.sy,Pe=N.tx*this.sx+N.ty*this.shx+this.tx,qe=N.tx*this.shy+N.ty*this.sy+this.ty;return new ht(H,oe,ce,ye,Pe,qe)},ht.prototype.decompose=function(){var N=this.sx,H=this.shy,oe=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty,qe=Math.sqrt(N*N+H*H),et=(N/=qe)*oe+(H/=qe)*ce;oe-=N*et,ce-=H*et;var dt=Math.sqrt(oe*oe+ce*ce);return et/=dt,N*(ce/=dt)<H*(oe/=dt)&&(N=-N,H=-H,et=-et,qe=-qe),{scale:new ht(qe,0,0,dt,0,0),translate:new ht(1,0,0,1,ye,Pe),rotate:new ht(N,H,-H,N,0,0),skew:new ht(1,0,et,1,0,0)}},ht.prototype.toString=function(N){return this.join(" ")},ht.prototype.inversed=function(){var N=this.sx,H=this.shy,oe=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty,qe=1/(N*ce-H*oe),et=ce*qe,dt=-H*qe,Nt=-oe*qe,Tt=N*qe;return new ht(et,dt,Nt,Tt,-et*ye-Nt*Pe,-dt*ye-Tt*Pe)},ht.prototype.applyToPoint=function(N){var H=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new uc(H,oe)},ht.prototype.applyToRectangle=function(N){var H=this.applyToPoint(N),oe=this.applyToPoint(new uc(N.x+N.w,N.y+N.h));return new Hd(H.x,H.y,oe.x-H.x,oe.y-H.y)},ht.prototype.clone=function(){var N=this.sx,H=this.shy,oe=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty;return new ht(N,H,oe,ce,ye,Pe)},A.Matrix=ht;var ki=A.matrixMult=function(N,H){return H.multiply(N)},Pi=new ht(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Pi;var Fr=function(N,H){if(!zt[N]){var oe=(H instanceof el?"Sh":"P")+(Object.keys(rt).length+1).toString(10);H.id=oe,zt[N]=oe,rt[oe]=H,jt.publish("addPattern",H)}};A.ShadingPattern=el,A.TilingPattern=du,A.addShadingPattern=function(N,H){return I("addShadingPattern()"),Fr(N,H),this},A.beginTilingPattern=function(N){I("beginTilingPattern()"),YA(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},A.endTilingPattern=function(N,H){I("endTilingPattern()"),H.stream=Se[z].join(`
`),Fr(N,H),jt.publish("endTilingPattern",H),Ei.pop().restore()};var zn=A.__private__.newObject=function(){var N=Rn();return kr(N,!0),N},Rn=A.__private__.newObjectDeferred=function(){return J++,se[J]=function(){return ie},J},kr=function(N,H){return H=typeof H=="boolean"&&H,se[N]=ie,H&&re(N+" 0 obj"),N},ys=A.__private__.newAdditionalObject=function(){var N={objId:Rn(),content:""};return be.push(N),N},na=Rn(),Mi=Rn(),Oi=A.__private__.decodeColorString=function(N){var H=N.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var ce="#",ye=0;ye<3;ye++)ce+=("0"+Math.floor(255*parseFloat(H[ye])).toString(16)).slice(-2);return ce},Ii=A.__private__.encodeColorString=function(N){var H;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,ce=N.ch2,ye=N.ch3,Pe=N.ch4,qe=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var et=new UI(oe);if(et.ok)oe=et.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var dt=parseInt(oe.substr(1),16);oe=dt>>16&255,ce=dt>>8&255,ye=255&dt}if(ce===void 0||Pe===void 0&&oe===ce&&ce===ye)if(typeof oe=="string")H=oe+" "+qe[0];else switch(N.precision){case 2:H=$(oe/255)+" "+qe[0];break;case 3:default:H=O(oe/255)+" "+qe[0]}else if(Pe===void 0||on(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return H=["1.","1.","1.",qe[1]].join(" ");if(typeof oe=="string")H=[oe,ce,ye,qe[1]].join(" ");else switch(N.precision){case 2:H=[$(oe/255),$(ce/255),$(ye/255),qe[1]].join(" ");break;default:case 3:H=[O(oe/255),O(ce/255),O(ye/255),qe[1]].join(" ")}}else if(typeof oe=="string")H=[oe,ce,ye,Pe,qe[2]].join(" ");else switch(N.precision){case 2:H=[$(oe),$(ce),$(ye),$(Pe),qe[2]].join(" ");break;case 3:default:H=[O(oe),O(ce),O(ye),O(Pe),qe[2]].join(" ")}return H},Di=A.__private__.getFilters=function(){return o},ui=A.__private__.putStream=function(N){var H=(N=N||{}).data||"",oe=N.filters||Di(),ce=N.alreadyAppliedFilters||[],ye=N.addLength1||!1,Pe=H.length,qe=N.objectId,et=function(Hr){return Hr};if(c!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(et=qr.encryptor(qe,0));var dt={};oe===!0&&(oe=["FlateEncode"]);var Nt=N.additionalKeyValues||[],Tt=(dt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(dt.data.length!==0&&(Nt.push({key:"Length",value:dt.data.length}),ye===!0&&Nt.push({key:"Length1",value:Pe})),Tt.length!=0)if(Tt.split("/").length-1==1)Nt.push({key:"Filter",value:Tt});else{Nt.push({key:"Filter",value:"["+Tt+"]"});for(var Ht=0;Ht<Nt.length;Ht+=1)if(Nt[Ht].key==="DecodeParms"){for(var Ln=[],Bn=0;Bn<dt.reverseChain.split("/").length-1;Bn+=1)Ln.push("null");Ln.push(Nt[Ht].value),Nt[Ht].value="["+Ln.join(" ")+"]"}}re("<<");for(var Qn=0;Qn<Nt.length;Qn++)re("/"+Nt[Qn].key+" "+Nt[Qn].value);re(">>"),dt.data.length!==0&&(re("stream"),re(et(dt.data)),re("endstream"))},ra=A.__private__.putPage=function(N){var H=N.number,oe=N.data,ce=N.objId,ye=N.contentsObjId;kr(ce,!0),re("<</Type /Page"),re("/Parent "+N.rootDictionaryObjId+" 0 R"),re("/Resources "+N.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&re("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&re("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&re("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&re("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&re("/UserUnit "+N.userUnit),jt.publish("putPage",{objId:ce,pageContext:ct[H],pageNumber:H,page:oe}),re("/Contents "+ye+" 0 R"),re(">>"),re("endobj");var Pe=oe.join(`
`);return S===x.ADVANCED&&(Pe+=`
Q`),kr(ye,!0),ui({data:Pe,filters:Di(),objectId:ye}),re("endobj"),ce},Co=A.__private__.putPages=function(){var N,H,oe=[];for(N=1;N<=ln;N++)ct[N].objId=Rn(),ct[N].contentsObjId=Rn();for(N=1;N<=ln;N++)oe.push(ra({number:N,data:Se[N],objId:ct[N].objId,contentsObjId:ct[N].contentsObjId,mediaBox:ct[N].mediaBox,cropBox:ct[N].cropBox,bleedBox:ct[N].bleedBox,trimBox:ct[N].trimBox,artBox:ct[N].artBox,userUnit:ct[N].userUnit,rootDictionaryObjId:na,resourceDictionaryObjId:Mi}));kr(na,!0),re("<</Type /Pages");var ce="/Kids [";for(H=0;H<ln;H++)ce+=oe[H]+" 0 R ";re(ce+"]"),re("/Count "+ln),re(">>"),re("endobj"),jt.publish("postPutPages")},bs=function(N){jt.publish("putFont",{font:N,out:re,newObject:zn,putStream:ui}),N.isAlreadyPutted!==!0&&(N.objectNumber=zn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+qc(N.postScriptName)),re("/Subtype /Type1"),typeof N.encoding=="string"&&re("/Encoding /"+N.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},xs=function(){for(var N in Ge)Ge.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&bs(Ge[N])},ws=function(N){N.objectNumber=zn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);ui({data:oe,additionalKeyValues:H,objectId:N.objectNumber}),re("endobj")},Ss=function(){for(var N in Dn)Dn.hasOwnProperty(N)&&ws(Dn[N])},_s=function(N,H){var oe,ce=[],ye=1/(H-1);for(oe=0;oe<1;oe+=ye)ce.push(oe);if(ce.push(1),N[0].offset!=0){var Pe={offset:0,color:N[0].color};N.unshift(Pe)}if(N[N.length-1].offset!=1){var qe={offset:1,color:N[N.length-1].color};N.push(qe)}for(var et="",dt=0,Nt=0;Nt<ce.length;Nt++){for(oe=ce[Nt];oe>N[dt+1].offset;)dt++;var Tt=N[dt].offset,Ht=(oe-Tt)/(N[dt+1].offset-Tt),Ln=N[dt].color,Bn=N[dt+1].color;et+=te(Math.round((1-Ht)*Ln[0]+Ht*Bn[0]).toString(16))+te(Math.round((1-Ht)*Ln[1]+Ht*Bn[1]).toString(16))+te(Math.round((1-Ht)*Ln[2]+Ht*Bn[2]).toString(16))}return et.trim()},Rl=function(N,H){H||(H=21);var oe=zn(),ce=_s(N.colors,H),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+H+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ui({data:ce,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),re("endobj"),N.objectNumber=zn(),re("<< /ShadingType "+N.type),re("/ColorSpace /DeviceRGB");var Pe="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?Pe+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):Pe+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),re(Pe+="]"),N.matrix&&re("/Matrix ["+N.matrix.toString()+"]"),re("/Function "+oe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Id=function(N,H){var oe=Rn(),ce=zn();H.push({resourcesOid:oe,objectOid:ce}),N.objectNumber=ce;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),ye.push({key:"XStep",value:E(N.xStep)}),ye.push({key:"YStep",value:E(N.yStep)}),ye.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&ye.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),ui({data:N.stream,additionalKeyValues:ye,objectId:N.objectNumber}),re("endobj")},Ts=function(N){var H;for(H in rt)rt.hasOwnProperty(H)&&(rt[H]instanceof el?Rl(rt[H]):rt[H]instanceof du&&Id(rt[H],N))},nc=function(N){for(var H in N.objectNumber=zn(),re("<<"),N)switch(H){case"opacity":re("/ca "+$(N[H]));break;case"stroke-opacity":re("/CA "+$(N[H]))}re(">>"),re("endobj")},ia=function(){var N;for(N in _t)_t.hasOwnProperty(N)&&nc(_t[N])},Bl=function(){for(var N in re("/XObject <<"),Dn)Dn.hasOwnProperty(N)&&Dn[N].objectNumber>=0&&re("/"+N+" "+Dn[N].objectNumber+" 0 R");jt.publish("putXobjectDict"),re(">>")},Ye=function(){qr.oid=zn(),re("<<"),re("/Filter /Standard"),re("/V "+qr.v),re("/R "+qr.r),re("/U <"+qr.toHexString(qr.U)+">"),re("/O <"+qr.toHexString(qr.O)+">"),re("/P "+qr.P),re(">>"),re("endobj")},ut=function(){for(var N in re("/Font <<"),Ge)Ge.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&re("/"+N+" "+Ge[N].objectNumber+" 0 R");re(">>")},nt=function(){if(Object.keys(rt).length>0){for(var N in re("/Shading <<"),rt)rt.hasOwnProperty(N)&&rt[N]instanceof el&&rt[N].objectNumber>=0&&re("/"+N+" "+rt[N].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),re(">>")}},Ut=function(N){if(Object.keys(rt).length>0){for(var H in re("/Pattern <<"),rt)rt.hasOwnProperty(H)&&rt[H]instanceof A.TilingPattern&&rt[H].objectNumber>=0&&rt[H].objectNumber<N&&re("/"+H+" "+rt[H].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),re(">>")}},ft=function(){if(Object.keys(_t).length>0){var N;for(N in re("/ExtGState <<"),_t)_t.hasOwnProperty(N)&&_t[N].objectNumber>=0&&re("/"+N+" "+_t[N].objectNumber+" 0 R");jt.publish("putGStateDict"),re(">>")}},pt=function(N){kr(N.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ut(),nt(),Ut(N.objectOid),ft(),Bl(),re(">>"),re("endobj")},ur=function(){var N=[];xs(),ia(),Ss(),Ts(N),jt.publish("putResources"),N.forEach(pt),pt({resourcesOid:Mi,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Ur=function(){jt.publish("putAdditionalObjects");for(var N=0;N<be.length;N++){var H=be[N];kr(H.objId,!0),re(H.content),re("endobj")}jt.publish("postPutAdditionalObjects")},no=function(N){Ve[N.fontName]=Ve[N.fontName]||{},Ve[N.fontName][N.fontStyle]=N.id},Cs=function(N,H,oe,ce,ye){var Pe={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:N,fontName:H,fontStyle:oe,encoding:ce,isStandardFont:ye||!1,metadata:{}};return jt.publish("addFont",{font:Pe,instance:this}),Ge[Pe.id]=Pe,no(Pe),Pe.id},Dd=function(N){for(var H=0,oe=ve.length;H<oe;H++){var ce=Cs.call(this,N[H][0],N[H][1],N[H][2],ve[H][3],!0);f===!1&&(h[ce]=!0);var ye=N[H][0].split("-");no({id:ce,fontName:ye[0],fontStyle:ye[1]||""})}jt.publish("addFonts",{fonts:Ge,dictionary:Ve})},La=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(ce){var H=ce.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var oe="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ce.message;if(!yt.console)throw new Error(oe);yt.console.error(oe,ce),yt.alert&&alert(oe)}},N.foo.bar=N,N.foo},rc=function(N,H){var oe,ce,ye,Pe,qe,et,dt,Nt,Tt;if(ye=(H=H||{}).sourceEncoding||"Unicode",qe=H.outputEncoding,(H.autoencode||qe)&&Ge[Ze].metadata&&Ge[Ze].metadata[ye]&&Ge[Ze].metadata[ye].encoding&&(Pe=Ge[Ze].metadata[ye].encoding,!qe&&Ge[Ze].encoding&&(qe=Ge[Ze].encoding),!qe&&Pe.codePages&&(qe=Pe.codePages[0]),typeof qe=="string"&&(qe=Pe[qe]),qe)){for(dt=!1,et=[],oe=0,ce=N.length;oe<ce;oe++)(Nt=qe[N.charCodeAt(oe)])?et.push(String.fromCharCode(Nt)):et.push(N[oe]),et[oe].charCodeAt(0)>>8&&(dt=!0);N=et.join("")}for(oe=N.length;dt===void 0&&oe!==0;)N.charCodeAt(oe-1)>>8&&(dt=!0),oe--;if(!dt)return N;for(et=H.noBOM?[]:[254,255],oe=0,ce=N.length;oe<ce;oe++){if((Tt=(Nt=N.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");et.push(Tt),et.push(Nt-(Tt<<8))}return String.fromCharCode.apply(void 0,et)},ci=A.__private__.pdfEscape=A.pdfEscape=function(N,H){return rc(N,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ld=A.__private__.beginPage=function(N){Se[++ln]=[],ct[ln]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},RA(ln),_e(Se[z])},jA=function(N,H){var oe,ce,ye;switch(n=H||n,typeof N=="string"&&(oe=y(N.toLowerCase()),Array.isArray(oe)&&(ce=oe[0],ye=oe[1])),Array.isArray(N)&&(ce=N[0]*ze,ye=N[1]*ze),isNaN(ce)&&(ce=i[0],ye=i[1]),(ce>14400||ye>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ye=Math.min(14400,ye)),i=[ce,ye],n.substr(0,1)){case"l":ye>ce&&(i=[ye,ce]);break;case"p":ce>ye&&(i=[ye,ce])}Ld(i),HA($d),re(ja),Ud!==0&&re(Ud+" J"),qd!==0&&re(qd+" j"),jt.publish("addPage",{pageNumber:ln})},Dy=function(N){N>0&&N<=ln&&(Se.splice(N,1),ct.splice(N,1),ln--,z>ln&&(z=ln),this.setPage(z))},RA=function(N){N>0&&N<=ln&&(z=N)},Ly=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Se.length-1},BA=function(N,H,oe){var ce,ye=void 0;return oe=oe||{},N=N!==void 0?N:Ge[Ze].fontName,H=H!==void 0?H:Ge[Ze].fontStyle,ce=N.toLowerCase(),Ve[ce]!==void 0&&Ve[ce][H]!==void 0?ye=Ve[ce][H]:Ve[N]!==void 0&&Ve[N][H]!==void 0?ye=Ve[N][H]:oe.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+N+"', '"+H+"'. Refer to getFontList() for available fonts."),ye||oe.noFallback||(ye=Ve.times[H])==null&&(ye=Ve.times.normal),ye},jy=A.__private__.putInfo=function(){var N=zn(),H=function(ce){return ce};for(var oe in c!==null&&(H=qr.encryptor(N,0)),re("<<"),re("/Producer ("+ci(H("jsPDF "+At.version))+")"),Ke)Ke.hasOwnProperty(oe)&&Ke[oe]&&re("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ci(H(Ke[oe]))+")");re("/CreationDate ("+ci(H(G))+")"),re(">>"),re("endobj")},jd=A.__private__.putCatalog=function(N){var H=(N=N||{}).rootDictionaryObjId||na;switch(zn(),re("<<"),re("/Type /Catalog"),re("/Pages "+H+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+He;oe.substr(oe.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&re("/OpenAction [3 0 R /XYZ null null "+$(He)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Le&&re("/PageMode /"+Le),jt.publish("putCatalog"),re(">>"),re("endobj")},Ry=A.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(J+1)),re("/Root "+J+" 0 R"),re("/Info "+(J-1)+" 0 R"),c!==null&&re("/Encrypt "+qr.oid+" 0 R"),re("/ID [ <"+R+"> <"+R+"> ]"),re(">>")},By=A.__private__.putHeader=function(){re("%PDF-"+v),re("%ºß¬à")},$y=A.__private__.putXRef=function(){var N="0000000000";re("xref"),re("0 "+(J+1)),re("0000000000 65535 f ");for(var H=1;H<=J;H++)typeof se[H]=="function"?re((N+se[H]()).slice(-10)+" 00000 n "):se[H]!==void 0?re((N+se[H]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},No=A.__private__.buildDocument=function(){Fe(),_e(ue),jt.publish("buildDocument"),By(),Co(),Ur(),ur(),c!==null&&Ye(),jy(),jd();var N=ie;return $y(),Ry(),re("startxref"),re(""+N),re("%%EOF"),_e(Se[z]),ue.join(`
`)},ic=A.__private__.getBlob=function(N){return new Blob([Ce(N)],{type:"application/pdf"})},ac=A.output=A.__private__.output=La(function(N,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",N){case void 0:return No();case"save":A.save(H.filename);break;case"arraybuffer":return Ce(No());case"blob":return ic(No());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(ic(No()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",ce=No();try{oe=u2(ce)}catch{oe=u2(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(ye=H.pdfObjectUrl,Pe="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",et=yt.open();return et!==null&&et.document.write(qe),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Nt=yt.open();if(Nt!==null){Nt.document.write(dt);var Tt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=H.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Ln=yt.open();if(Ln!==null&&(Ln.document.write(Ht),Ln.document.title=H.filename),Ln||typeof safari>"u")return Ln;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",H);default:return null}}),$A=function(N){return Array.isArray($r)===!0&&$r.indexOf(N)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=$A("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var qr=null;le(),V();var Fy=function(N){return c!==null?qr.encryptor(N,0):function(H){return H}},FA=A.__private__.getPageInfo=A.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[N].objId,pageNumber:N,pageContext:ct[N]}},St=A.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in ct)if(ct[H].objId===N)break;return FA(H)},Uy=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:ct[z].objId,pageNumber:z,pageContext:ct[z]}};A.addPage=function(){return jA.apply(this,arguments),this},A.setPage=function(){return RA.apply(this,arguments),_e.call(this,Se[z]),this},A.insertPage=function(N){return this.addPage(),this.movePage(z,N),this},A.movePage=function(N,H){var oe,ce;if(N>H){oe=Se[N],ce=ct[N];for(var ye=N;ye>H;ye--)Se[ye]=Se[ye-1],ct[ye]=ct[ye-1];Se[H]=oe,ct[H]=ce,this.setPage(H)}else if(N<H){oe=Se[N],ce=ct[N];for(var Pe=N;Pe<H;Pe++)Se[Pe]=Se[Pe+1],ct[Pe]=ct[Pe+1];Se[H]=oe,ct[H]=ce,this.setPage(H)}return this},A.deletePage=function(){return Dy.apply(this,arguments),this},A.__private__.text=A.text=function(N,H,oe,ce,ye){var Pe,qe,et,dt,Nt,Tt,Ht,Ln,Bn,Qn=(ce=ce||{}).scope||this;if(typeof N=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Hr=oe;oe=H,H=N,N=Hr}if(arguments[3]instanceof ht?(I("The transform parameter of text() with a Matrix value"),Bn=ye):(et=arguments[4],dt=arguments[5],on(Ht=arguments[3])==="object"&&Ht!==null||(typeof et=="string"&&(dt=et,et=null),typeof Ht=="string"&&(dt=Ht,Ht=null),typeof Ht=="number"&&(et=Ht,Ht=null),ce={flags:Ht,angle:et,align:dt})),isNaN(H)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Qn;var br="",Ra=!1,Li=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Fl,ao=Qn.internal.scaleFactor;function KA(gn){return gn=gn.split("	").join(Array(ce.TabLen||9).join(" ")),ci(gn,Ht)}function Wd(gn){for(var vn,Gn=gn.concat(),cr=[],Oo=Gn.length;Oo--;)typeof(vn=Gn.shift())=="string"?cr.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?cr.push(vn[0]):cr.push([vn[0],vn[1],vn[2]]);return cr}function Yd(gn,vn){var Gn;if(typeof gn=="string")Gn=vn(gn)[0];else if(Array.isArray(gn)){for(var cr,Oo,nh=gn.concat(),bc=[],em=nh.length;em--;)typeof(cr=nh.shift())=="string"?bc.push(vn(cr)[0]):Array.isArray(cr)&&typeof cr[0]=="string"&&(Oo=vn(cr[0],cr[1],cr[2]),bc.push([Oo[0],Oo[1],Oo[2]]));Gn=bc}return Gn}var fc=!1,Kd=!0;if(typeof N=="string")fc=!0;else if(Array.isArray(N)){var Jd=N.concat();qe=[];for(var dc,Pr=Jd.length;Pr--;)(typeof(dc=Jd.shift())!="string"||Array.isArray(dc)&&typeof dc[0]!="string")&&(Kd=!1);fc=Kd}if(fc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var hc=Ne/Qn.internal.scaleFactor,pc=hc*(Li-1);switch(ce.baseline){case"bottom":oe-=pc;break;case"top":oe+=hc-pc;break;case"hanging":oe+=hc-2*pc;break;case"middle":oe+=hc/2-pc}if((Tt=ce.maxWidth||0)>0&&(typeof N=="string"?N=Qn.splitTextToSize(N,Tt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(gn,vn){return gn.concat(Qn.splitTextToSize(vn,Tt))},[]))),Pe={text:N,x:H,y:oe,options:ce,mutex:{pdfEscape:ci,activeFontKey:Ze,fonts:Ge,activeFontSize:Ne}},jt.publish("preProcessText",Pe),N=Pe.text,et=(ce=Pe.options).angle,!(Bn instanceof ht)&&et&&typeof et=="number"){et*=Math.PI/180,ce.rotationDirection===0&&(et=-et),S===x.ADVANCED&&(et=-et);var Ac=Math.cos(et),Xd=Math.sin(et);Bn=new ht(Ac,Xd,-Xd,Ac,0,0)}else et&&et instanceof ht&&(Bn=et);S!==x.ADVANCED||Bn||(Bn=Pi),(Nt=ce.charSpace||lc)!==void 0&&(br+=E(M(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ln=ce.horizontalScale)!==void 0&&(br+=E(100*Ln)+` Tz
`),ce.lang;var fi=-1,Xy=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Qd=Qn.internal.getCurrentPageInfo().pageContext;switch(Xy){case 0:case!1:case"fill":fi=0;break;case 1:case!0:case"stroke":fi=1;break;case 2:case"fillThenStroke":fi=2;break;case 3:case"invisible":fi=3;break;case 4:case"fillAndAddForClipping":fi=4;break;case 5:case"strokeAndAddPathForClipping":fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fi=6;break;case 7:case"addToPathForClipping":fi=7}var JA=Qd.usedRenderingMode!==void 0?Qd.usedRenderingMode:-1;fi!==-1?br+=fi+` Tr
`:JA!==-1&&(br+=`0 Tr
`),fi!==-1&&(Qd.usedRenderingMode=fi),dt=ce.align||"left";var aa,mc=Ne*Li,XA=Qn.internal.pageSize.getWidth(),QA=Ge[Ze];Nt=ce.charSpace||lc,Tt=ce.maxWidth||0,Ht=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Ps=[],Hl=function(gn){return Qn.getStringUnitWidth(gn,{font:QA,charSpace:Nt,fontSize:Ne,doKerning:!1})*Ne/ao};if(Object.prototype.toString.call(N)==="[object Array]"){var di;qe=Wd(N),dt!=="left"&&(aa=qe.map(Hl));var ei,Ms=0;if(dt==="right"){H-=aa[0],N=[],Pr=qe.length;for(var ko=0;ko<Pr;ko++)ko===0?(ei=io(H),di=Eo(oe)):(ei=M(Ms-aa[ko]),di=-mc),N.push([qe[ko],ei,di]),Ms=aa[ko]}else if(dt==="center"){H-=aa[0]/2,N=[],Pr=qe.length;for(var Po=0;Po<Pr;Po++)Po===0?(ei=io(H),di=Eo(oe)):(ei=M((Ms-aa[Po])/2),di=-mc),N.push([qe[Po],ei,di]),Ms=aa[Po]}else if(dt==="left"){N=[],Pr=qe.length;for(var gc=0;gc<Pr;gc++)N.push(qe[gc])}else if(dt==="justify"&&QA.encoding==="Identity-H"){N=[],Pr=qe.length,Tt=Tt!==0?Tt:XA;for(var Mo=0,Vn=0;Vn<Pr;Vn++)if(di=Vn===0?Eo(oe):-mc,ei=Vn===0?io(H):Mo,Vn<Pr-1){var Zd=M((Tt-aa[Vn])/(qe[Vn].split(" ").length-1)),ti=qe[Vn].split(" ");N.push([ti[0]+" ",ei,di]),Mo=0;for(var oa=1;oa<ti.length;oa++){var vc=(Hl(ti[oa-1]+" "+ti[oa])-Hl(ti[oa]))*ao+Zd;oa==ti.length-1?N.push([ti[oa],vc,0]):N.push([ti[oa]+" ",vc,0]),Mo-=vc}}else N.push([qe[Vn],ei,di]);N.push(["",Mo,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Pr=qe.length,Tt=Tt!==0?Tt:XA,Vn=0;Vn<Pr;Vn++)di=Vn===0?Eo(oe):-mc,ei=Vn===0?io(H):0,Vn<Pr-1?Ps.push(E(M((Tt-aa[Vn])/(qe[Vn].split(" ").length-1)))):Ps.push(0),N.push([qe[Vn],ei,di])}}var ZA=typeof ce.R2L=="boolean"?ce.R2L:ge;ZA===!0&&(N=Yd(N,function(gn,vn,Gn){return[gn.split("").reverse().join(""),vn,Gn]})),Pe={text:N,x:H,y:oe,options:ce,mutex:{pdfEscape:ci,activeFontKey:Ze,fonts:Ge,activeFontSize:Ne}},jt.publish("postProcessText",Pe),N=Pe.text,Ra=Pe.mutex.isHex||!1;var eh=Ge[Ze].encoding;eh!=="WinAnsiEncoding"&&eh!=="StandardEncoding"||(N=Yd(N,function(gn,vn,Gn){return[KA(gn),vn,Gn]})),qe=Wd(N),N=[];for(var zl,Vl,Os,Gl=0,yc=1,Wl=Array.isArray(qe[0])?yc:Gl,Is="",th=function(gn,vn,Gn){var cr="";return Gn instanceof ht?(Gn=typeof ce.angle=="number"?ki(Gn,new ht(1,0,0,1,gn,vn)):ki(new ht(1,0,0,1,gn,vn),Gn),S===x.ADVANCED&&(Gn=ki(new ht(1,0,0,-1,0,0),Gn)),cr=Gn.join(" ")+` Tm
`):cr=E(gn)+" "+E(vn)+` Td
`,cr},sa=0;sa<qe.length;sa++){switch(Is="",Wl){case yc:Os=(Ra?"<":"(")+qe[sa][0]+(Ra?">":")"),zl=parseFloat(qe[sa][1]),Vl=parseFloat(qe[sa][2]);break;case Gl:Os=(Ra?"<":"(")+qe[sa]+(Ra?">":")"),zl=io(H),Vl=Eo(oe)}Ps!==void 0&&Ps[sa]!==void 0&&(Is=Ps[sa]+` Tw
`),sa===0?N.push(Is+th(zl,Vl,Bn)+Os):Wl===Gl?N.push(Is+Os):Wl===yc&&N.push(Is+th(zl,Vl,Bn)+Os)}N=Wl===Gl?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var la=`BT
/`;return la+=Ze+" "+Ne+` Tf
`,la+=E(Ne*Li)+` TL
`,la+=Ul+`
`,la+=br,la+=N,re(la+="ET"),h[Ze]=!0,Qn};var qy=A.__private__.clip=A.clip=function(N){return re(N==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return qy("evenodd")},A.__private__.discardPath=A.discardPath=function(){return re("n"),this};var ro=A.__private__.isValidStyle=function(N){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(H=!0),H};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(N){return ro(N)&&(u=N),this};var UA=A.__private__.getStyle=A.getStyle=function(N){var H=u;switch(N){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=N}return H},qA=A.close=function(){return re("h"),this};A.stroke=function(){return re("S"),this},A.fill=function(N){return oc("f",N),this},A.fillEvenOdd=function(N){return oc("f*",N),this},A.fillStroke=function(N){return oc("B",N),this},A.fillStrokeEvenOdd=function(N){return oc("B*",N),this};var oc=function(N,H){on(H)==="object"?zy(H,N):re(N)},Rd=function(N){N===null||S===x.ADVANCED&&N===void 0||(N=UA(N),re(N))};function Hy(N,H,oe,ce,ye){var Pe=new du(H||this.boundingBox,oe||this.xStep,ce||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var qe=N+"$$"+this.cloneIndex+++"$$";return Fr(qe,Pe),Pe}var zy=function(N,H){var oe=zt[N.key],ce=rt[oe];if(ce instanceof el)re("q"),re(Vy(H)),ce.gState&&A.setGState(ce.gState),re(N.matrix.toString()+" cm"),re("/"+oe+" sh"),re("Q");else if(ce instanceof du){var ye=new ht(1,0,0,-1,0,ks());N.matrix&&(ye=ye.multiply(N.matrix||Pi),oe=Hy.call(ce,N.key,N.boundingBox,N.xStep,N.yStep,ye).id),re("q"),re("/Pattern cs"),re("/"+oe+" scn"),ce.gState&&A.setGState(ce.gState),re(H),re("Q")}},Vy=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Bd=A.moveTo=function(N,H){return re(E(M(N))+" "+E(F(H))+" m"),this},$l=A.lineTo=function(N,H){return re(E(M(N))+" "+E(F(H))+" l"),this},Ns=A.curveTo=function(N,H,oe,ce,ye,Pe){return re([E(M(N)),E(F(H)),E(M(oe)),E(F(ce)),E(M(ye)),E(F(Pe)),"c"].join(" ")),this};A.__private__.line=A.line=function(N,H,oe,ce,ye){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(ce)||!ro(ye))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[oe-N,ce-H]],N,H,[1,1],ye||"S"):this.lines([[oe-N,ce-H]],N,H,[1,1]).stroke()},A.__private__.lines=A.lines=function(N,H,oe,ce,ye,Pe){var qe,et,dt,Nt,Tt,Ht,Ln,Bn,Qn,Hr,br,Ra;if(typeof N=="number"&&(Ra=oe,oe=H,H=N,N=Ra),ce=ce||[1,1],Pe=Pe||!1,isNaN(H)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(ce)||!ro(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bd(H,oe),qe=ce[0],et=ce[1],Nt=N.length,Hr=H,br=oe,dt=0;dt<Nt;dt++)(Tt=N[dt]).length===2?(Hr=Tt[0]*qe+Hr,br=Tt[1]*et+br,$l(Hr,br)):(Ht=Tt[0]*qe+Hr,Ln=Tt[1]*et+br,Bn=Tt[2]*qe+Hr,Qn=Tt[3]*et+br,Hr=Tt[4]*qe+Hr,br=Tt[5]*et+br,Ns(Ht,Ln,Bn,Qn,Hr,br));return Pe&&qA(),Rd(ye),this},A.path=function(N){for(var H=0;H<N.length;H++){var oe=N[H],ce=oe.c;switch(oe.op){case"m":Bd(ce[0],ce[1]);break;case"l":$l(ce[0],ce[1]);break;case"c":Ns.apply(this,ce);break;case"h":qA()}}return this},A.__private__.rect=A.rect=function(N,H,oe,ce,ye){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(ce)||!ro(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ce=-ce),re([E(M(N)),E(F(H)),E(M(oe)),E(M(ce)),"re"].join(" ")),Rd(ye),this},A.__private__.triangle=A.triangle=function(N,H,oe,ce,ye,Pe,qe){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(ce)||isNaN(ye)||isNaN(Pe)||!ro(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,ce-H],[ye-oe,Pe-ce],[N-ye,H-Pe]],N,H,[1,1],qe,!0),this},A.__private__.roundedRect=A.roundedRect=function(N,H,oe,ce,ye,Pe,qe){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(ce)||isNaN(ye)||isNaN(Pe)||!ro(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*oe),Pe=Math.min(Pe,.5*ce),this.lines([[oe-2*ye,0],[ye*et,0,ye,Pe-Pe*et,ye,Pe],[0,ce-2*Pe],[0,Pe*et,-ye*et,Pe,-ye,Pe],[2*ye-oe,0],[-ye*et,0,-ye,-Pe*et,-ye,-Pe],[0,2*Pe-ce],[0,-Pe*et,ye*et,-Pe,ye,-Pe]],N+ye,H,[1,1],qe,!0),this},A.__private__.ellipse=A.ellipse=function(N,H,oe,ce,ye){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(ce)||!ro(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*oe,qe=4/3*(Math.SQRT2-1)*ce;return Bd(N+oe,H),Ns(N+oe,H-qe,N+Pe,H-ce,N,H-ce),Ns(N-Pe,H-ce,N-oe,H-qe,N-oe,H),Ns(N-oe,H+qe,N-Pe,H+ce,N,H+ce),Ns(N+Pe,H+ce,N+oe,H+qe,N+oe,H),Rd(ye),this},A.__private__.circle=A.circle=function(N,H,oe,ce){if(isNaN(N)||isNaN(H)||isNaN(oe)||!ro(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,H,oe,oe,ce)},A.setFont=function(N,H,oe){return oe&&(H=k(H,oe)),Ze=BA(N,H,{disableWarning:!1}),this};var Gy=A.__private__.getFont=A.getFont=function(){return Ge[BA.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var N,H,oe={};for(N in Ve)if(Ve.hasOwnProperty(N))for(H in oe[N]=[],Ve[N])Ve[N].hasOwnProperty(H)&&oe[N].push(H);return oe},A.addFont=function(N,H,oe,ce,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(oe=k(oe,ce)),ye=ye||"Identity-H",Cs.call(this,N,H,oe,ye)};var Fl,$d=t.lineWidth||.200025,sc=A.__private__.getLineWidth=A.getLineWidth=function(){return $d},HA=A.__private__.setLineWidth=A.setLineWidth=function(N){return $d=N,re(E(M(N))+" w"),this};A.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(N,H){if(N=N||[],H=H||0,isNaN(H)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return E(M(oe))}).join(" "),H=E(M(H)),re("["+N+"] "+H+" d"),this};var zA=A.__private__.getLineHeight=A.getLineHeight=function(){return Ne*Fl};A.__private__.getLineHeight=A.getLineHeight=function(){return Ne*Fl};var VA=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Fl=N),this},GA=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Fl};VA(t.lineHeight);var io=A.__private__.getHorizontalCoordinate=function(N){return M(N)},Eo=A.__private__.getVerticalCoordinate=function(N){return S===x.ADVANCED?N:ct[z].mediaBox.topRightY-ct[z].mediaBox.bottomLeftY-M(N)},Wy=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(N){return E(io(N))},Es=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(N){return E(Eo(N))},ja=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Oi(ja)},A.__private__.setStrokeColor=A.setDrawColor=function(N,H,oe,ce){return ja=Ii({ch1:N,ch2:H,ch3:oe,ch4:ce,pdfColorType:"draw",precision:2}),re(ja),this};var Fd=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Oi(Fd)},A.__private__.setFillColor=A.setFillColor=function(N,H,oe,ce){return Fd=Ii({ch1:N,ch2:H,ch3:oe,ch4:ce,pdfColorType:"fill",precision:2}),re(Fd),this};var Ul=t.textColor||"0 g",Yy=A.__private__.getTextColor=A.getTextColor=function(){return Oi(Ul)};A.__private__.setTextColor=A.setTextColor=function(N,H,oe,ce){return Ul=Ii({ch1:N,ch2:H,ch3:oe,ch4:ce,pdfColorType:"text",precision:3}),this};var lc=t.charSpace,Ky=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(lc||0)};A.__private__.setCharSpace=A.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lc=N,this};var Ud=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(N){var H=A.CapJoinStyles[N];if(H===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ud=H,re(H+" J"),this};var qd=0;A.__private__.setLineJoin=A.setLineJoin=function(N){var H=A.CapJoinStyles[N];if(H===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qd=H,re(H+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(E(M(N))+" M"),this},A.GState=Ep,A.setGState=function(N){(N=typeof N=="string"?_t[jn[N]]:WA(null,N)).equals(Br)||(re("/"+N.id+" gs"),Br=N)};var WA=function(N,H){if(!N||!jn[N]){var oe=!1;for(var ce in _t)if(_t.hasOwnProperty(ce)&&_t[ce].equals(H)){oe=!0;break}if(oe)H=_t[ce];else{var ye="GS"+(Object.keys(_t).length+1).toString(10);_t[ye]=H,H.id=ye}return N&&(jn[N]=H.id),jt.publish("addGState",H),H}};A.addGState=function(N,H){return WA(N,H),this},A.saveGraphicsState=function(){return re("q"),st.push({key:Ze,size:Ne,color:Ul}),this},A.restoreGraphicsState=function(){re("Q");var N=st.pop();return Ze=N.key,Ne=N.size,Ul=N.color,Br=null,this},A.setCurrentTransformationMatrix=function(N){return re(N.toString()+" cm"),this},A.comment=function(N){return re("#"+N),this};var uc=function(N,H){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var ce=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},Hd=function(N,H,oe,ce){uc.call(this,N,H),this.type="rect";var ye=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(qe){isNaN(qe)||(ye=parseFloat(qe))}});var Pe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(qe){isNaN(qe)||(Pe=parseFloat(qe))}}),this},zd=function(){this.page=ln,this.currentPage=z,this.pages=Se.slice(0),this.pagesContext=ct.slice(0),this.x=Gt,this.y=Ot,this.matrix=Ee,this.width=ql(z),this.height=ks(z),this.outputDestination=Ie,this.id="",this.objectNumber=-1};zd.prototype.restore=function(){ln=this.page,z=this.currentPage,ct=this.pagesContext,Se=this.pages,Gt=this.x,Ot=this.y,Ee=this.matrix,Vd(z,this.width),Gd(z,this.height),Ie=this.outputDestination};var YA=function(N,H,oe,ce,ye){Ei.push(new zd),ln=z=0,Se=[],Gt=N,Ot=H,Ee=ye,Ld([oe,ce])},Jy=function(N){if(Zr[N])Ei.pop().restore();else{var H=new zd,oe="Xo"+(Object.keys(Dn).length+1).toString(10);H.id=oe,Zr[N]=oe,Dn[oe]=H,jt.publish("addFormObject",H),Ei.pop().restore()}};for(var cc in A.beginFormObject=function(N,H,oe,ce,ye){return YA(N,H,oe,ce,ye),this},A.endFormObject=function(N){return Jy(N),this},A.doFormObject=function(N,H){var oe=Dn[Zr[N]];return re("q"),re(H.toString()+" cm"),re("/"+oe.id+" Do"),re("Q"),this},A.getFormObject=function(N){var H=Dn[Zr[N]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},A.save=function(N,H){return N=N||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(au(ic(No()),N),typeof au.unload=="function"&&yt.setTimeout&&setTimeout(au.unload,911),this):new Promise(function(oe,ce){try{var ye=au(ic(No()),N);typeof au.unload=="function"&&yt.setTimeout&&setTimeout(au.unload,911),oe(ye)}catch(Pe){ce(Pe.message)}})},At.API)At.API.hasOwnProperty(cc)&&(cc==="events"&&At.API.events.length?function(N,H){var oe,ce,ye;for(ye=H.length-1;ye!==-1;ye--)oe=H[ye][0],ce=H[ye][1],N.subscribe.apply(N,[oe].concat(typeof ce=="function"?[ce]:ce))}(jt,At.API.events):A[cc]=At.API[cc]);var ql=A.getPageWidth=function(N){return(ct[N=N||z].mediaBox.topRightX-ct[N].mediaBox.bottomLeftX)/ze},Vd=A.setPageWidth=function(N,H){ct[N].mediaBox.topRightX=H*ze+ct[N].mediaBox.bottomLeftX},ks=A.getPageHeight=function(N){return(ct[N=N||z].mediaBox.topRightY-ct[N].mediaBox.bottomLeftY)/ze},Gd=A.setPageHeight=function(N,H){ct[N].mediaBox.topRightY=H*ze+ct[N].mediaBox.bottomLeftY};return A.internal={pdfEscape:ci,getStyle:UA,getFont:Gy,getFontSize:Ue,getCharSpace:Ky,getTextColor:Yy,getLineHeight:zA,getLineHeightFactor:GA,getLineWidth:sc,write:Te,getHorizontalCoordinate:io,getVerticalCoordinate:Eo,getCoordinateString:Wy,getVerticalCoordinateString:Es,collections:{},newObject:zn,newAdditionalObject:ys,newObjectDeferred:Rn,newObjectDeferredBegin:kr,getFilters:Di,putStream:ui,events:jt,scaleFactor:ze,pageSize:{getWidth:function(){return ql(z)},setWidth:function(N){Vd(z,N)},getHeight:function(){return ks(z)},setHeight:function(N){Gd(z,N)}},encryptionOptions:c,encryption:qr,getEncryptor:Fy,output:ac,getNumberOfPages:Ly,pages:Se,out:re,f2:$,f3:O,getPageInfo:FA,getPageInfoByObjId:St,getCurrentPageInfo:Uy,getPDFVersion:b,Point:uc,Rectangle:Hd,Matrix:ht,hasHotfix:$A},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return ql(z)},set:function(N){Vd(z,N)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return ks(z)},set:function(N){Gd(z,N)},enumerable:!0,configurable:!0}),Dd.call(A,ve),Ze="F1",jA(i,n),jt.publish("initialized"),A}Uc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Uc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Uc.prototype.processOwnerPassword=function(t,e){return f2(c2(e).substr(0,5),t)},Uc.prototype.encryptor=function(t,e){var n=c2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return f2(n,r)}},Ep.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||on(t)!==on(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},At.API={events:[]},At.version="2.5.2";var Un=At.API,mS=1,Ku=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ct=function(t){return t.toFixed(2)},Hs=function(t){return t.toFixed(5)};Un.__acroform__={};var Ci=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},cE=function(t){return t*mS},so=function(t){var e=new VI,n=at.internal.getHeight(t)||0,r=at.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ct(r)),Number(Ct(n))],e},DK=Un.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},LK=Un.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},jK=Un.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Wn=Un.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jK(t,e-1)},Yn=Un.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DK(t,e-1)},Kn=Un.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return LK(t,e-1)},RK=Un.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(Ct(l.lowerLeft_X)),Number(Ct(l.lowerLeft_Y)),Number(Ct(l.upperRight_X)),Number(Ct(l.upperRight_Y))]},BK=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=d2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ct(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=so(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},d2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=at.internal.getHeight(t)||0;o=o<0?-o:o;var s=at.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(O,M,B){if(O+1<i.length){var F=M+" "+i[O+1][0];return Um(F,t,B).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Um("3",t,a).height,h=t.multiline?o-a:(o-f)/2,A=h+=2,v=0,b=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Um(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&w!==i[S].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[S][w],T=!0,b=S,S--}else{y=(y+=i[S][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(S),k=l(C,y,a),E=S>=i.length-1;if(k&&!E){y+=" ",w=0;continue}if(k||E){if(E)b=C;else if(t.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>o)continue e;b=C}}for(var I="",D=v;D<=b;D++){var $=i[D];if(t.multiline){if(D===b){I+=$[w]+" ",w=(w+1)%$.length;continue}if(D===v){I+=$[$.length-1]+" ";continue}}I+=$[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,c=Um(I,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=Ct(u)+" "+Ct(A)+` Td
`,e+="("+Ku(I)+`) Tj
`,e+=-Ct(u)+` 0 Td
`,A=-(a+2),c=0,v=T?b:b+1,x++,y=""}break}return r.text=e,r.fontSize=a,r},Um=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},$K={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FK=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},UK=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),on(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},qK=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Za.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($K)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new GI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&FK(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=RK(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=at.createDefaultAppearanceStream(s),on(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=BK(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var A=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var v=A[o];typeof v=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=A)=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&UK(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},zI=Un.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),on(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ku(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ku(r(t))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:zI(i,this.objId,this.scope)}):i instanceof po?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var VI=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ci(VI,po);var GI=function(){po.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ku(n(t))+")"}},set:function(n){t=n}})};Ci(GI,po);var Za=function t(){po.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wn(e,3)},set:function(y){y?this.F=Yn(e,3):this.F=Kn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof a0)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ku(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/mS:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof a0||this instanceof bl))return s1(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof pr?h:s1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof pr?y:y.substr(0,1)==="("?Nc(y.substr(1,y.length-2)):Nc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?Nc(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof pr?"/"+y:y}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof pr?A:s1(A,this.objId,this.scope)},set:function(y){y=y.toString(),A=this instanceof pr?y:y.substr(0,1)==="("?Nc(y.substr(1,y.length-2)):Nc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?Nc(A.substr(1,A.length-1)):A},set:function(y){y=y.toString(),A=this instanceof pr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,1)},set:function(y){y?this.Ff=Yn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,2)},set:function(y){y?this.Ff=Yn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,3)},set:function(y){y?this.Ff=Yn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Ci(Za,po);var Su=function(){Za.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,18)},set:function(n){n?this.Ff=Yn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Yn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,20)},set:function(n){n?(this.Ff=Yn(this.Ff,20),e.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,22)},set:function(n){n?this.Ff=Yn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(n){n?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,27)},set:function(n){n?this.Ff=Yn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ci(Su,Za);var _u=function(){Su.call(this),this.fontName="helvetica",this.combo=!1};Ci(_u,Su);var Tu=function(){_u.call(this),this.combo=!0};Ci(Tu,_u);var ep=function(){Tu.call(this),this.edit=!0};Ci(ep,Tu);var pr=function(){Za.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,15)},set:function(n){n?this.Ff=Yn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,16)},set:function(n){n?this.Ff=Yn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,17)},set:function(n){n?this.Ff=Yn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(n){n?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ku(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){on(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ci(pr,Za);var tp=function(){pr.call(this),this.pushButton=!0};Ci(tp,pr);var Cu=function(){pr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ci(Cu,pr);var a0=function(){var t,e;Za.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Ku(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){on(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ci(a0,Za),Cu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Cu.prototype.createOption=function(t){var e=new a0;return e.Parent=this,e.optionName=t,this.Kids.push(e),HK.call(this.scope,e),e};var np=function(){pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};Ci(np,pr);var bl=function(){Za.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,13)},set:function(e){e?this.Ff=Yn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,21)},set:function(e){e?this.Ff=Yn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(e){e?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,24)},set:function(e){e?this.Ff=Yn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,25)},set:function(e){e?this.Ff=Yn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(e){e?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ci(bl,Za);var rp=function(){bl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,14)},set:function(t){t?this.Ff=Yn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};Ci(rp,bl);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=d2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ct(at.internal.getWidth(t))+" "+Ct(at.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ct(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=so(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=at.internal.getHeight(t),o=at.internal.getWidth(t),s=d2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ct(o)+" "+Ct(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ct(o-1)+" "+Ct(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ct(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(at.internal.getWidth(t))+" "+Ct(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Circle.YesNormal,e.D[t]=at.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=so(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=at.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Hs(at.internal.getWidth(t)/2)+" "+Hs(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*at.internal.Bezier_C).toFixed(5)),o=Number((r*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Hs(at.internal.getWidth(t)/2)+" "+Hs(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Hs(at.internal.getWidth(t)/2)+" "+Hs(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Hs(at.internal.getWidth(t)/2)+" "+Hs(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Cross.YesNormal,e.D[t]=at.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=so(t);e.scope=t.scope;var n=[],r=at.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ct(at.internal.getWidth(t)-2)+" "+Ct(at.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ct(r.x1.x)+" "+Ct(r.x1.y)+" m"),n.push(Ct(r.x2.x)+" "+Ct(r.x2.y)+" l"),n.push(Ct(r.x4.x)+" "+Ct(r.x4.y)+" m"),n.push(Ct(r.x3.x)+" "+Ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=so(t);e.scope=t.scope;var n=at.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct(at.internal.getWidth(t))+" "+Ct(at.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ct(at.internal.getWidth(t)-2)+" "+Ct(at.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ct(n.x1.x)+" "+Ct(n.x1.y)+" m"),r.push(Ct(n.x2.x)+" "+Ct(n.x2.y)+" l"),r.push(Ct(n.x4.x)+" "+Ct(n.x4.y)+" m"),r.push(Ct(n.x3.x)+" "+Ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct(at.internal.getWidth(t))+" "+Ct(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};at.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=at.internal.getWidth(t),n=at.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},at.internal.getWidth=function(t){var e=0;return on(t)==="object"&&(e=cE(t.Rect[2])),e},at.internal.getHeight=function(t){var e=0;return on(t)==="object"&&(e=cE(t.Rect[3])),e};var HK=Un.addField=function(t){if(qK(this,t),!(t instanceof Za))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Un.AcroFormChoiceField=Su,Un.AcroFormListBox=_u,Un.AcroFormComboBox=Tu,Un.AcroFormEditBox=ep,Un.AcroFormButton=pr,Un.AcroFormPushButton=tp,Un.AcroFormRadioButton=Cu,Un.AcroFormCheckBox=np,Un.AcroFormTextField=bl,Un.AcroFormPasswordField=rp,Un.AcroFormAppearance=at,Un.AcroForm={ChoiceField:Su,ListBox:_u,ComboBox:Tu,EditBox:ep,Button:pr,PushButton:tp,RadioButton:Cu,CheckBox:np,TextField:bl,PasswordField:rp,Appearance:at},At.AcroForm={ChoiceField:Su,ListBox:_u,ComboBox:Tu,EditBox:ep,Button:pr,PushButton:tp,RadioButton:Cu,CheckBox:np,TextField:bl,PasswordField:rp,Appearance:at};var zK=At.AcroForm;function WI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,M){var B,F,G,R,U,V=e;if((M=M||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for(U in n)for(G=n[U],B=0;B<G.length;B+=1){for(R=!0,F=0;F<G[B].length;F+=1)if(G[B][F]!==void 0&&G[B][F]!==O[F]){R=!1;break}if(R===!0){V=U;break}}else for(U in n)for(G=n[U],B=0;B<G.length;B+=1){for(R=!0,F=0;F<G[B].length;F+=1)if(G[B][F]!==void 0&&G[B][F]!==O.charCodeAt(F)){R=!1;break}if(R===!0){V=U;break}}return V===e&&M!==e&&(V=M),V},i=function O(M){for(var B=this.internal.write,F=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:M.width}),R.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var U="",V=0,K=M.transparency.length;V<K;V++)U+=M.transparency[V]+" "+M.transparency[V]+" ";R.push({key:"Mask",value:"["+U+"]"})}M.sMask!==void 0&&R.push({key:"SMask",value:M.objectId+1+" 0 R"});var ee=M.filter!==void 0?["/"+M.filter]:void 0;if(F({data:M.data,additionalKeyValues:R,alreadyAppliedFilters:ee,objectId:M.objectId}),B("endobj"),"sMask"in M&&M.sMask!==void 0){var le="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,j={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:le,data:M.sMask};"filter"in M&&(j.filter=M.filter),O.call(this,j)}if(M.colorSpace===w.INDEXED){var z=this.internal.newObject();F({data:I(new Uint8Array(M.palette)),objectId:z}),B("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var M in O)i.call(this,O[M])},o=function(){var O,M=this.internal.collections.addImage_images,B=this.internal.write;for(var F in M)B("/I"+(O=M[F]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof t["process"+O.toUpperCase()]=="function"},f=function(O){return on(O)==="object"&&O.nodeType===1},h=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var B=""+O.getAttribute("src");if(B.indexOf("data:image/")===0)return Zh(unescape(B).split("base64,").pop());var F=t.loadFile(B,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(M){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Zh(O.toDataURL(G,1).split("base64,").pop())}},A=function(O){var M=this.internal.collections.addImage_images;if(M){for(var B in M)if(O===M[B].alias)return M[B]}},v=function(O,M,B){return O||M||(O=-96,M=-96),O<0&&(O=-1*B.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*B.height*72/M/this.internal.scaleFactor),O===0&&(O=M*B.width/B.height),M===0&&(M=O*B.height/B.width),[O,M]},b=function(O,M,B,F,G,R){var U=v.call(this,B,F,G),V=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ee=l.call(this);if(B=U[0],F=U[1],ee[G.index]=G,R){R*=Math.PI/180;var le=Math.cos(R),j=Math.sin(R),z=function(te){return te.toFixed(4)},Q=[z(le),z(j),z(-1*j),z(le),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,V(O),K(M+F),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([V(B),"0","0",V(F),"0","0","cm"].join(" "))):this.internal.write([V(B),"0","0",V(F),V(O),K(M+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var M,B,F=0;if(typeof O=="string")for(B=O.length,M=0;M<B;M++)F=(F<<5)-F+O.charCodeAt(M),F|=0;else if(k(O))for(B=O.byteLength/2,M=0;M<B;M++)F=(F<<5)-F+O[M],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},T=t.__addimage__.extractImageFromDataUrl=function(O){var M=(O=O||"").split("base64,"),B=null;if(M.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(F)&&(B={mimeType:F[1],charset:F[2],data:M[1]})}return B},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return C()&&O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return C()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,B=new Uint8Array(M),F=0;F<M;F++)B[F]=O.charCodeAt(F);return B},I=t.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",B=k(O)?O:new Uint8Array(O),F=0;F<B.length;F+=8192)M+=String.fromCharCode.apply(null,B.subarray(F,F+8192));return M};t.addImage=function(){var O,M,B,F,G,R,U,V,K;if(typeof arguments[1]=="number"?(M=e,B=arguments[1],F=arguments[2],G=arguments[3],R=arguments[4],U=arguments[5],V=arguments[6],K=arguments[7]):(M=arguments[1],B=arguments[2],F=arguments[3],G=arguments[4],R=arguments[5],U=arguments[6],V=arguments[7],K=arguments[8]),on(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var ee=O;O=ee.imageData,M=ee.format||M||e,B=ee.x||B||0,F=ee.y||F||0,G=ee.w||ee.width||G,R=ee.h||ee.height||R,U=ee.alias||U,V=ee.compression||V,K=ee.rotation||ee.angle||K}var le=this.internal.getFilters();if(V===void 0&&le.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(B)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var j=D.call(this,O,M,U,V);return b.call(this,B,F,G,R,j,K),this};var D=function(O,M,B,F){var G,R,U;if(typeof O=="string"&&r(O)===e){O=unescape(O);var V=$(O,!1);(V!==""||(V=t.loadFile(O,!0))!==void 0)&&(O=V)}if(f(O)&&(O=h(O,M)),M=r(O,M),!c(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((U=B)==null||U.length===0)&&(B=function(K){return typeof K=="string"||k(K)?x(K):k(K.data)?x(K.data):null}(O)),(G=A.call(this,B))||(C()&&(O instanceof Uint8Array||M==="RGBA"||(R=O,O=E(O))),G=this["process"+M.toUpperCase()](O,u.call(this),B,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:y.NONE}(F),R)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},$=t.__addimage__.convertBase64ToBinaryString=function(O,M){var B;M=typeof M!="boolean"||M;var F,G="";if(typeof O=="string"){F=(B=T(O))!==null?B.data:O;try{G=Zh(F)}catch(R){if(M)throw S(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(O){var M,B,F="";if(f(O)&&(O=h(O)),typeof O=="string"&&r(O)===e&&((F=$(O,!1))===""&&(F=t.loadFile(O)||""),O=F),B=r(O),!c(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!C()||O instanceof Uint8Array||(O=E(O)),!(M=this["process"+B.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=B,M}})(At.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};At.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var A=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+A(y(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+A(y(x))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var w=0,y=n,x="",S=0;for(w=0;w<b.length;w+=1)y[b.charCodeAt(w)]!==void 0?(S++,typeof(y=y[b.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),w===b.length-1&&(y=n,x+=b.charAt(w-(S-1)),w-=S-1,S=0)):(y=n,x+=b.charAt(w-S),w-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(b,w,y){return o(b)?a(b)===!1?-1:!u(b)||!o(w)&&!o(y)||!o(y)&&s(w)||s(b)&&!o(w)||s(b)&&l(w)||s(b)&&s(w)?0:c(b)&&o(w)&&!s(w)&&o(y)&&u(y)?3:s(b)||!o(y)?1:2:-1},A=function(b){var w=0,y=0,x=0,S="",T="",C="",k=(b=b||"").split("\\s+"),E=[];for(w=0;w<k.length;w+=1){for(E.push(""),y=0;y<k[w].length;y+=1)S=k[w][y],T=k[w][y-1],C=k[w][y+1],o(S)?(x=h(S,T,C),E[w]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):E[w]+=S;E[w]=f(E[w])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var x=0;for(y=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?y.push([A(w[x][0]),w[x][1],w[x][2]]):y.push([A(w[x])]);b=y}else b=A(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(At.API),At.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,A=0,v=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(w.splitTextToSize(T,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)A<(b=this.getStringUnitWidth(l[x],{font:f})*c)&&(A=b);return A!==0&&(v=l.length),{w:A/=h,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,A&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var A,v,b,w,y=[],x=[],S=[],T={},C={},k=[],E=[],I=(h=h||{}).autoSize||!1,D=h.printHeaders!==!1,$=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},e),M=typeof h.padding=="number"?h.padding:3,B=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=F,this.setFontSize($),f==null)x=y=Object.keys(c[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&on(f[0])==="object")for(y=f.map(function(ee){return ee.name}),x=f.map(function(ee){return ee.prompt||ee.name||""}),S=f.map(function(ee){return ee.align||"left"}),A=0;A<f.length;A+=1)C[f[A].name]=f[A].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,S=y.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(A=0;A<y.length;A+=1){for(T[w=y[A]]=c.map(function(ee){return ee[w]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[w],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)k.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,k)+M+M,k=[]}if(D){var G={};for(A=0;A<y.length;A+=1)G[y[A]]={},G[y[A]].text=x[A],G[y[A]].align=S[A];var R=s.call(this,G,C);E=y.map(function(ee){return new a(l,u,C[ee],R,G[ee].text,void 0,G[ee].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var U=f.reduce(function(ee,le){return ee[le.name]=le.align,ee},{});for(A=0;A<c.length;A+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:A,data:c[A]},this);var V=s.call(this,c[A],C);for(b=0;b<y.length;b+=1){var K=c[A][y[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:A,col:b,data:K},this),o.call(this,new a(l,u,C[y[b]],V,K,A+2,U[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(A){var v=l[A];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[A]-c-c)},this).map(function(A){return this.getLineHeightFactor()*A.length*f/h+c+c},this).reduce(function(A,v){return Math.max(A,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){c=this.internal.__cell__.tableHeaderRow[A].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(At.API);var YI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h2=WI(KI),JI=[100,200,300,400,500,600,700,800,900],VK=WI(JI);function p2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return YI[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof h2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function fE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var GK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function WK(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},GK,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=p2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+hE(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=h2[l],f=c<=h2.normal?-1:1,h=fE(u,KI,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=YI[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=VK[l],f=fE(u,JI,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+hE(a)+"'.");return o}function pE(t){return t.trimLeft()}function YK(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function KK(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var qm,AE,mE,l1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=j;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(_e){Q=!!_e}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(_e){te=!!_e}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(_e){isNaN(_e)||(J=_e)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(_e){isNaN(_e)||(se=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var re;typeof _e=="number"?re=[_e,_e,_e,_e]:((re=new Array(4))[0]=_e[0],re[1]=_e.length>=2?_e[1]:re[0],re[2]=_e.length>=3?_e[2]:re[0],re[3]=_e.length>=4?_e[3]:re[1]),u.margin=re}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(_e){ue=_e}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(_e){ie=_e}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(_e){be=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof c&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(_e){Se=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var re;re=h(_e),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var re=h(_e);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var fe=null;function Ie(_e,re){if(fe===null){var Te=function(Ce){var ve=[];return Object.keys(Ce).forEach(function(Ne){Ce[Ne].forEach(function(He){var Ue=null;switch(He){case"bold":Ue={family:Ne,weight:"bold"};break;case"italic":Ue={family:Ne,style:"italic"};break;case"bolditalic":Ue={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Ne}}Ue!==null&&(Ue.ref={name:Ne,style:He},ve.push(Ue))})}),ve}(_e.getFontList());fe=function(Ce){for(var ve={},Ne=0;Ne<Ce.length;++Ne){var He=p2(Ce[Ne]),Ue=He.family,ge=He.stretch,Le=He.style,Oe=He.weight;ve[Ue]=ve[Ue]||{},ve[Ue][ge]=ve[Ue][ge]||{},ve[Ue][ge][Le]=ve[Ue][ge][Le]||{},ve[Ue][ge][Le][Oe]=He}return ve}(Te.concat(re))}return fe}var Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(_e){fe=null,Fe=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var re;if(this.ctx.font=_e,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Te=re[1],Ce=(re[2],re[3]),ve=re[4],Ne=(re[5],re[6]),He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(He==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var Ue=function(Ke){var Ze,ze,Gt=[],Ot=Ke.trim();if(Ot==="")return l1;if(Ot in dE)return[dE[Ot]];for(;Ot!=="";){switch(ze=null,Ze=(Ot=pE(Ot)).charAt(0)){case'"':case"'":ze=YK(Ot.substring(1),Ze);break;default:ze=KK(Ot)}if(ze===null||(Gt.push(ze[0]),(Ot=pE(ze[1]))!==""&&Ot.charAt(0)!==","))return l1;Ot=Ot.replace(/^,/,"")}return Gt}(Ne);if(this.fontFaces){var ge=WK(Ie(this.pdf,this.fontFaces),Ue.map(function(Ke){return{family:Ke,stretch:"normal",weight:Ce,style:Te}}));this.pdf.setFont(ge.ref.name,ge.ref.style)}else{var Le="";(Ce==="bold"||parseInt(Ce,10)>=700||Te==="bold")&&(Le="bold"),Te==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var Oe="",Qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Ue.length;lt++){if(this.pdf.internal.getFont(Ue[lt],Le,{noFallback:!0,disableWarning:!0})!==void 0){Oe=Ue[lt];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(Ue[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=Ue[lt],Le="bold";else if(this.pdf.internal.getFont(Ue[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=Ue[lt],Le="normal";break}}if(Oe===""){for(var vt=0;vt<Ue.length;vt++)if(Qe[Ue[vt]]){Oe=Qe[Ue[vt]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(j){this.lineDash=j},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(j,z){if(isNaN(j)||isNaN(z))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(j,z)},f.prototype.closePath=function(){var j=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&on(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){j=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},f.prototype.lineTo=function(j,z){if(isNaN(j)||isNaN(z))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(j,z,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(j)||isNaN(z))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(Q,te)),se=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"qct",x1:se.x,y1:se.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.bezierCurveTo=function(j,z,Q,te,J,se){if(isNaN(J)||isNaN(se)||isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(J,se)),ie=this.ctx.transform.applyToPoint(new o(j,z)),be=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:be.x,y2:be.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(j,z,Q,te,J,se){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(J))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(j,z));j=ue.x,z=ue.y;var ie=this.ctx.transform.applyToPoint(new o(0,Q)),be=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ie.x-be.x,2)+Math.pow(ie.y-be.y,2))}Math.abs(J-te)>=2*Math.PI&&(te=0,J=2*Math.PI),this.path.push({type:"arc",x:j,y:z,radius:Q,startAngle:te,endAngle:J,counterclockwise:se})},f.prototype.arcTo=function(j,z,Q,te,J){throw new Error("arcTo not implemented.")},f.prototype.rect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,z),this.lineTo(j+Q,z),this.lineTo(j+Q,z+te),this.lineTo(j,z+te),this.lineTo(j,z),this.lineTo(j+Q,z),this.lineTo(j,z)},f.prototype.fillRect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,z,Q,te),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},f.prototype.strokeRect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(j,z,Q,te),this.stroke())},f.prototype.clearRect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,z,Q,te))},f.prototype.save=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(j){var z,Q,te,J;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))z=0,Q=0,te=0,J=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(se!==null)z=parseInt(se[1]),Q=parseInt(se[2]),te=parseInt(se[3]),J=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)z=parseInt(se[1]),Q=parseInt(se[2]),te=parseInt(se[3]),J=parseFloat(se[4]);else{if(J=1,typeof j=="string"&&j.charAt(0)!=="#"){var ue=new UI(j);j=ue.ok?ue.toHex():"#000000"}j.length===4?(z=j.substring(1,2),z+=z,Q=j.substring(2,3),Q+=Q,te=j.substring(3,4),te+=te):(z=j.substring(1,3),Q=j.substring(3,5),te=j.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:z,g:Q,b:te,a:J,style:j}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(j,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof j!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!A.call(this)){var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;M.call(this,{text:j,x:z,y:Q,scale:se,angle:J,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(j,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof j!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;M.call(this,{text:j,x:z,y:Q,scale:se,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(j){if(typeof j!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),J=z.getStringUnitWidth(j)*te/z.internal.scaleFactor,se=function(ue){var ie=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new se({width:J*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(j,z){if(isNaN(j)||isNaN(z))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(j,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(j){if(isNaN(j))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(j,z){if(isNaN(j)||isNaN(z))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,j,z);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(j,z,Q,te,J,se){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(J)||isNaN(se))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(j,z,Q,te,J,se);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(j,z,Q,te,J,se){j=isNaN(j)?1:j,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,J=isNaN(J)?0:J,se=isNaN(se)?0:se,this.ctx.transform=new l(j,z,Q,te,J,se)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(j,z,Q,te,J,se,ue,ie,be){var Se=this.pdf.getImageProperties(j),fe=1,Ie=1,Fe=1,_e=1;te!==void 0&&ie!==void 0&&(Fe=ie/te,_e=be/J,fe=Se.width/te*ie/te,Ie=Se.height/J*be/J),se===void 0&&(se=z,ue=Q,z=0,Q=0),te!==void 0&&ie===void 0&&(ie=te,be=J),te===void 0&&ie===void 0&&(ie=Se.width,be=Se.height);for(var re,Te=this.ctx.transform.decompose(),Ce=V(Te.rotate.shx),ve=new l,Ne=(ve=(ve=(ve=ve.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new s(se-z*Fe,ue-Q*_e,te*fe,J*Ie)),He=w.call(this,Ne),Ue=[],ge=0;ge<He.length;ge+=1)Ue.indexOf(He[ge])===-1&&Ue.push(He[ge]);if(S(Ue),this.autoPaging)for(var Le=Ue[0],Oe=Ue[Ue.length-1],Qe=Le;Qe<Oe+1;Qe++){this.pdf.setPage(Qe);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Qe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Qe===1?0:Ke+(Qe-2)*Ze;if(this.ctx.clip_path.length!==0){var Gt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(re,this.posX+this.margin[3],-ze+vt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Gt}var Ot=JSON.parse(JSON.stringify(Ne));Ot=x([Ot],this.posX+this.margin[3],-ze+vt+this.ctx.prevPageLastElemOffset)[0];var Ee=(Qe>Le||Qe<Oe)&&b.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ze,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,Ce),Ee&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Ce)};var w=function(j,z,Q){var te=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+J)/Q)+1);break;case"arc":te.push(Math.floor((j.y+J-j.radius)/Q)+1),te.push(Math.floor((j.y+J+j.radius)/Q)+1);break;case"qct":var se=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((se.y+J)/Q)+1),te.push(Math.floor((se.y+se.h+J)/Q)+1);break;case"bct":var ue=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((ue.y+J)/Q)+1),te.push(Math.floor((ue.y+ue.h+J)/Q)+1);break;case"rect":te.push(Math.floor((j.y+J)/Q)+1),te.push(Math.floor((j.y+j.h+J)/Q)+1)}for(var ie=0;ie<te.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<te[ie];)y.call(this);return te},y=function(){var j=this.fillStyle,z=this.strokeStyle,Q=this.font,te=this.lineCap,J=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=z,this.font=Q,this.lineCap=te,this.lineWidth=J,this.lineJoin=se},x=function(j,z,Q){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=z,j[te].y2+=Q;case"qct":j[te].x1+=z,j[te].y1+=Q;case"mt":case"lt":case"arc":default:j[te].x+=z,j[te].y+=Q}return j},S=function(j){return j.sort(function(z,Q){return z-Q})},T=function(j,z){for(var Q,te,J=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,ie=this.lineWidth,be=Math.abs(ie*this.ctx.transform.scaleX),Se=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Fe=[],_e=0;_e<Ie.length;_e++)if(Ie[_e].x!==void 0)for(var re=w.call(this,Ie[_e]),Te=0;Te<re.length;Te+=1)Fe.indexOf(re[Te])===-1&&Fe.push(re[Te]);for(var Ce=0;Ce<Fe.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<Fe[Ce];)y.call(this);if(S(Fe),this.autoPaging)for(var ve=Fe[0],Ne=Fe[Fe.length-1],He=ve;He<Ne+1;He++){this.pdf.setPage(He),this.fillStyle=J,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=be,this.lineJoin=Se;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=He===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=He===1?0:Le+(He-2)*Oe;if(this.ctx.clip_path.length!==0){var lt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-Qe+ge+this.ctx.prevPageLastElemOffset),C.call(this,j,!0),this.path=lt}if(te=JSON.parse(JSON.stringify(fe)),this.path=x(te,this.posX+this.margin[3],-Qe+ge+this.ctx.prevPageLastElemOffset),z===!1||He===0){var vt=(He>ve||He<Ne)&&b.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Oe,null).clip().discardPath()),C.call(this,j,z),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=be,C.call(this,j,z),this.lineWidth=ie;this.path=fe},C=function(j,z){if((j!=="stroke"||z||!v.call(this))&&(j==="stroke"||z||!A.call(this))){for(var Q,te,J=[],se=this.path,ue=0;ue<se.length;ue++){var ie=se[ue];switch(ie.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ie,deltas:[],abs:[]});break;case"lt":var be=J.length;if(se[ue-1]&&!isNaN(se[ue-1].x)&&(Q=[ie.x-se[ue-1].x,ie.y-se[ue-1].y],be>0)){for(;be>=0;be--)if(J[be-1].close!==!0&&J[be-1].begin!==!0){J[be-1].deltas.push(Q),J[be-1].abs.push(ie);break}}break;case"bct":Q=[ie.x1-se[ue-1].x,ie.y1-se[ue-1].y,ie.x2-se[ue-1].x,ie.y2-se[ue-1].y,ie.x-se[ue-1].x,ie.y-se[ue-1].y],J[J.length-1].deltas.push(Q);break;case"qct":var Se=se[ue-1].x+2/3*(ie.x1-se[ue-1].x),fe=se[ue-1].y+2/3*(ie.y1-se[ue-1].y),Ie=ie.x+2/3*(ie.x1-ie.x),Fe=ie.y+2/3*(ie.y1-ie.y),_e=ie.x,re=ie.y;Q=[Se-se[ue-1].x,fe-se[ue-1].y,Ie-se[ue-1].x,Fe-se[ue-1].y,_e-se[ue-1].x,re-se[ue-1].y],J[J.length-1].deltas.push(Q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ie)}}te=z?null:j==="stroke"?"stroke":"fill";for(var Te=!1,Ce=0;Ce<J.length;Ce++)if(J[Ce].arc)for(var ve=J[Ce].abs,Ne=0;Ne<ve.length;Ne++){var He=ve[Ne];He.type==="arc"?I.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,z,!Te):B.call(this,He.x,He.y),Te=!0}else if(J[Ce].close===!0)this.pdf.internal.out("h"),Te=!1;else if(J[Ce].begin!==!0){var Ue=J[Ce].start.x,ge=J[Ce].start.y;F.call(this,J[Ce].deltas,Ue,ge),Te=!0}te&&D.call(this,te),z&&$.call(this)}},k=function(j){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Q;case"top":return j+z-Q;case"hanging":return j+z-2*Q;case"middle":return j+z/2-Q;case"ideographic":return j;case"alphabetic":default:return j}},E=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(z,Q){this.colorStops.push([z,Q])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(j,z,Q,te,J,se,ue,ie,be){for(var Se=R.call(this,Q,te,J,se),fe=0;fe<Se.length;fe++){var Ie=Se[fe];fe===0&&(be?O.call(this,Ie.x1+j,Ie.y1+z):B.call(this,Ie.x1+j,Ie.y1+z)),G.call(this,j,z,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ie?$.call(this):D.call(this,ue)},D=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(j,z){this.pdf.internal.out(n(j)+" "+r(z)+" m")},M=function(j){var z;switch(j.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Q=this.pdf.getTextDimensions(j.text),te=k.call(this,j.y),J=E.call(this,te)-Q.h,se=this.ctx.transform.applyToPoint(new o(j.x,te)),ue=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var be,Se,fe,Ie=this.ctx.transform.applyToRectangle(new s(j.x,te,Q.w,Q.h)),Fe=ie.applyToRectangle(new s(j.x,J,Q.w,Q.h)),_e=w.call(this,Fe),re=[],Te=0;Te<_e.length;Te+=1)re.indexOf(_e[Te])===-1&&re.push(_e[Te]);if(S(re),this.autoPaging)for(var Ce=re[0],ve=re[re.length-1],Ne=Ce;Ne<ve+1;Ne++){this.pdf.setPage(Ne);var He=Ne===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],Le=ge-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],Qe=Oe-this.margin[3],lt=Ne===1?0:Ue+(Ne-2)*Le;if(this.ctx.clip_path.length!==0){var vt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(be,this.posX+this.margin[3],-1*lt+He),C.call(this,"fill",!0),this.path=vt}var Ke=x([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-lt+He+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*j.scale),fe=this.lineWidth,this.lineWidth=fe*j.scale);var Ze=this.autoPaging!=="text";if(Ze||Ke.y+Ke.h<=ge){if(Ze||Ke.y>=He&&Ke.x<=Oe){var ze=Ze?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Oe-Ke.x)[0],Gt=x([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-lt+He+this.ctx.prevPageLastElemOffset)[0],Ot=Ze&&(Ne>Ce||Ne<ve)&&b.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Le,null).clip().discardPath()),this.pdf.text(ze,Gt.x,Gt.y,{angle:j.angle,align:z,renderingMode:j.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else Ke.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-Ke.y);j.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=fe)}else j.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*j.scale),fe=this.lineWidth,this.lineWidth=fe*j.scale),this.pdf.text(j.text,se.x+this.posX,se.y+this.posY,{angle:j.angle,align:z,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=fe)},B=function(j,z,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(j+Q)+" "+r(z+te)+" l")},F=function(j,z,Q){return this.pdf.lines(j,z,Q,null,null)},G=function(j,z,Q,te,J,se,ue,ie){this.pdf.internal.out([e(i(Q+j)),e(a(te+z)),e(i(J+j)),e(a(se+z)),e(i(ue+j)),e(a(ie+z)),"c"].join(" "))},R=function(j,z,Q,te){for(var J=2*Math.PI,se=Math.PI/2;z>Q;)z-=J;var ue=Math.abs(Q-z);ue<J&&te&&(ue=J-ue);for(var ie=[],be=te?-1:1,Se=z;ue>1e-5;){var fe=Se+be*Math.min(ue,se);ie.push(U.call(this,j,Se,fe)),ue-=Math.abs(fe-Se),Se=fe}return ie},U=function(j,z,Q){var te=(Q-z)/2,J=j*Math.cos(te),se=j*Math.sin(te),ue=J,ie=-se,be=ue*ue+ie*ie,Se=be+ue*J+ie*se,fe=4/3*(Math.sqrt(2*be*Se)-Se)/(ue*se-ie*J),Ie=ue-fe*ie,Fe=ie+fe*ue,_e=Ie,re=-Fe,Te=te+z,Ce=Math.cos(Te),ve=Math.sin(Te);return{x1:j*Math.cos(z),y1:j*Math.sin(z),x2:Ie*Ce-Fe*ve,y2:Ie*ve+Fe*Ce,x3:_e*Ce-re*ve,y3:_e*ve+re*Ce,x4:j*Math.cos(Q),y4:j*Math.sin(Q)}},V=function(j){return 180*j/Math.PI},K=function(j,z,Q,te,J,se){var ue=j+.5*(Q-j),ie=z+.5*(te-z),be=J+.5*(Q-J),Se=se+.5*(te-se),fe=Math.min(j,J,ue,be),Ie=Math.max(j,J,ue,be),Fe=Math.min(z,se,ie,Se),_e=Math.max(z,se,ie,Se);return new s(fe,Fe,Ie-fe,_e-Fe)},ee=function(j,z,Q,te,J,se,ue,ie){var be,Se,fe,Ie,Fe,_e,re,Te,Ce,ve,Ne,He,Ue,ge,Le=Q-j,Oe=te-z,Qe=J-Q,lt=se-te,vt=ue-J,Ke=ie-se;for(Se=0;Se<41;Se++)Ce=(re=(fe=j+(be=Se/40)*Le)+be*((Fe=Q+be*Qe)-fe))+be*(Fe+be*(J+be*vt-Fe)-re),ve=(Te=(Ie=z+be*Oe)+be*((_e=te+be*lt)-Ie))+be*(_e+be*(se+be*Ke-_e)-Te),Se==0?(Ne=Ce,He=ve,Ue=Ce,ge=ve):(Ne=Math.min(Ne,Ce),He=Math.min(He,ve),Ue=Math.max(Ue,Ce),ge=Math.max(ge,ve));return new s(Math.round(Ne),Math.round(He),Math.round(Ue-Ne),Math.round(ge-He))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,z,Q=(j=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(At.API),function(t){var e=function(a){var o,s,l,u,c,f,h,A,v,b;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(b=c%85))/85)-(v=c%85))/85)-(A=c%85))/85)-(h=c%85))/85)%85,s.push(f+33,h+33,A+33,v+33,b+33)):s.push(122);return function(w,y){for(var x=y;x>0;x--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,h="length",A=255,v="charCodeAt",b="slice",w="replace";for(a[b](-2),a=a[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[b](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),l.push(A&s>>24,A&s>>16,A&s>>8,A&s);return function(y,x){for(var S=x;S>0;S--)y.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=l2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,h=0,A=function(v){var b=v.length,w=[],y=String.fromCharCode;for(h=0;h<b;h+=1)w.push(y(255&v.charCodeAt(h)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(A(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return A(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):Nl(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):Nl(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=on(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var A=u[h],v=A.src.find(function(b){return b.format==="truetype"});v&&l.addFont(v.url,A.ref.name,A.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,At.getPageSize=function(o,s,l){if(on(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var A,v=0,b=0;if(h.hasOwnProperty(f))v=h[f][1]/c,b=h[f][0]/c;else try{v=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>v&&(A=b,b=v,v=A);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(A=b,b=v,v=A)}return{width:b,height:v,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(p2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(At.API),At.API.addJS=function(t){return mE=t,this.internal.events.subscribe("postPutResources",function(){qm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qm!==void 0&&AE!==void 0&&this.internal.out("/Names <</JavaScript "+qm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var h,A=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=A,e.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}A=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(At.API);var Ec,Hm,gE,vE,yE,JK=function(){var t,e,n;function r(a){var o,s,l,u,c,f,h,A,v,b,w,y,x,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(w=this.read(o)).indexOf(0),A=String.fromCharCode.apply(String,w.slice(0,h)),this.text[A]=String.fromCharCode.apply(String,w.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,h,A,v){var b,w,y,x,S,T,C,k,E,I,D,$,O,M,B,F,G,R,U,V,K,ee=Math.ceil((u.width-f)/A),le=Math.ceil((u.height-h)/v),j=u.width==ee&&u.height==le;for(M=o*ee,$=j?s:new Uint8Array(M*le),T=a.length,O=0,w=0;O<le&&l<T;){switch(a[l++]){case 0:for(x=G=0;G<M;x=G+=1)$[w++]=a[l++];break;case 1:for(x=R=0;R<M;x=R+=1)b=a[l++],S=x<o?0:$[w-o],$[w++]=(b+S)%256;break;case 2:for(x=U=0;U<M;x=U+=1)b=a[l++],y=(x-x%o)/o,B=O&&$[(O-1)*M+y*o+x%o],$[w++]=(B+b)%256;break;case 3:for(x=V=0;V<M;x=V+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:$[w-o],B=O&&$[(O-1)*M+y*o+x%o],$[w++]=(b+Math.floor((S+B)/2))%256;break;case 4:for(x=K=0;K<M;x=K+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:$[w-o],O===0?B=F=0:(B=$[(O-1)*M+y*o+x%o],F=y&&$[(O-1)*M+(y-1)*o+x%o]),C=S+B-F,k=Math.abs(C-S),I=Math.abs(C-B),D=Math.abs(C-F),E=k<=I&&k<=D?S:I<=D?B:F,$[w++]=(b+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!j){var z=((h+O*v)*u.width+f)*o,Q=O*M;for(x=0;x<ee;x+=1){for(var te=0;te<o;te+=1)s[z++]=$[Q++];z+=(A-1)*o}}O++}}return a=NK(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,h,A;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(A=c[a++])!=null?A:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,h,A,v,b,w,y;if(l=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=a.data||a).length,f=b||o,c=h=0,l===1)for(;c<v;)A=b?4*o[c/4]:h,w=f[A++],u[c++]=w,u[c++]=w,u[c++]=w,u[c++]=s?f[A++]:255,h=A;else for(;c<v;)A=b?4*o[c/4]:h,u[c++]=f[A++],u[c++]=f[A++],u[c++]=f[A++],u[c++]=s?f[A++]:255,h=A},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(yt)==="[object Window]"){try{e=yt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,h,A;if(this.animation){for(A=[],s=c=0,f=(h=this.animation.frames).length;c<f;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,A.push(o.image=t(l));return A}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var A,v;if(A=s++%u,v=l[A],h.renderFrame(a,A),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function XK(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,h=null,A=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&b)&&(h=null),A=b>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,I=l,D=!1;T>>7&&(D=!0,E=e,I=k,e+=3*k);var $=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:w,y,width:x,height:S,has_local_palette:D,palette_offset:E,palette_size:I,data_offset:$,data_length:e-$,transparent_index:h,interlaced:!!C,delay:f,disposal:A});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=c.length)throw new Error("Frame index out of range.");return c[M]},this.decodeAndBlitFrameBGRA=function(M,B){var F=this.frameInfo(M),G=F.width*F.height,R=new Uint8Array(G);bE(t,F.data_offset,R,G);var U=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var K=F.width,ee=n-K,le=K,j=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=j,te=4*ee;F.interlaced===!0&&(te+=4*n*7);for(var J=8,se=0,ue=R.length;se<ue;++se){var ie=R[se];if(le===0&&(le=K,(Q+=te)>=z&&(te=4*ee+4*n*(J-1),Q=j+(K+ee)*(J<<1),J>>=1)),ie===V)Q+=4;else{var be=t[U+3*ie],Se=t[U+3*ie+1],fe=t[U+3*ie+2];B[Q++]=fe,B[Q++]=Se,B[Q++]=be,B[Q++]=255}--le}},this.decodeAndBlitFrameRGBA=function(M,B){var F=this.frameInfo(M),G=F.width*F.height,R=new Uint8Array(G);bE(t,F.data_offset,R,G);var U=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var K=F.width,ee=n-K,le=K,j=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=j,te=4*ee;F.interlaced===!0&&(te+=4*n*7);for(var J=8,se=0,ue=R.length;se<ue;++se){var ie=R[se];if(le===0&&(le=K,(Q+=te)>=z&&(te=4*ee+4*n*(J-1),Q=j+(K+ee)*(J<<1),J>>=1)),ie===V)Q+=4;else{var be=t[U+3*ie],Se=t[U+3*ie+1],fe=t[U+3*ie+2];B[Q++]=be,B[Q++]=Se,B[Q++]=fe,B[Q++]=255}--le}}}function bE(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,A=t[e++],v=new Int32Array(4096),b=null;;){for(;c<16&&A!==0;)f|=t[e++]<<c,c+=8,A===1?A=t[e++]:--A;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==a){if(w===o)break;for(var y=w<s?w:b,x=0,S=y;S>a;)S=v[S]>>8,++x;var T=S;if(h+x+(y!==w?1:0)>r)return void pn.log("Warning, gif stream longer than expected.");n[h++]=T;var C=h+=x;for(y!==w&&(n[h++]=T),S=y;x--;)S=v[S],n[--C]=255&S,S>>=8;b!==null&&s<4096&&(v[s++]=b<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=w}else s=o+1,u=(1<<(l=i+1))-1,b=null}return h!==r&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function u1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),A=new Array(64),v=new Array(64),b=[],w=0,y=7,x=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(j,z){for(var Q=0,te=0,J=new Array,se=1;se<=16;se++){for(var ue=1;ue<=j[se];ue++)J[z[te]]=[],J[z[te]][0]=Q,J[z[te]][1]=se,te++,Q++;Q*=2}return J}function U(j){for(var z=j[0],Q=j[1]-1;Q>=0;)z&1<<Q&&(w|=1<<y),Q--,--y<0&&(w==255?(V(255),V(0)):V(w),y=7,w=0)}function V(j){b.push(j)}function K(j){V(j>>8&255),V(255&j)}function ee(j,z,Q,te,J){for(var se,ue=J[0],ie=J[240],be=function(ve,Ne){var He,Ue,ge,Le,Oe,Qe,lt,vt,Ke,Ze,ze=0;for(Ke=0;Ke<8;++Ke){He=ve[ze],Ue=ve[ze+1],ge=ve[ze+2],Le=ve[ze+3],Oe=ve[ze+4],Qe=ve[ze+5],lt=ve[ze+6];var Gt=He+(vt=ve[ze+7]),Ot=He-vt,Ee=Ue+lt,Ge=Ue-lt,Ve=ge+Qe,st=ge-Qe,rt=Le+Oe,zt=Le-Oe,_t=Gt+rt,jn=Gt-rt,Br=Ee+Ve,ln=Ee-Ve;ve[ze]=_t+Br,ve[ze+4]=_t-Br;var ct=.707106781*(ln+jn);ve[ze+2]=jn+ct,ve[ze+6]=jn-ct;var jt=.382683433*((_t=zt+st)-(ln=Ge+Ot)),$r=.5411961*_t+jt,Dn=1.306562965*ln+jt,Zr=.707106781*(Br=st+Ge),Ei=Ot+Zr,ht=Ot-Zr;ve[ze+5]=ht+$r,ve[ze+3]=ht-$r,ve[ze+1]=Ei+Dn,ve[ze+7]=Ei-Dn,ze+=8}for(ze=0,Ke=0;Ke<8;++Ke){He=ve[ze],Ue=ve[ze+8],ge=ve[ze+16],Le=ve[ze+24],Oe=ve[ze+32],Qe=ve[ze+40],lt=ve[ze+48];var ki=He+(vt=ve[ze+56]),Pi=He-vt,Fr=Ue+lt,zn=Ue-lt,Rn=ge+Qe,kr=ge-Qe,ys=Le+Oe,na=Le-Oe,Mi=ki+ys,Oi=ki-ys,Ii=Fr+Rn,Di=Fr-Rn;ve[ze]=Mi+Ii,ve[ze+32]=Mi-Ii;var ui=.707106781*(Di+Oi);ve[ze+16]=Oi+ui,ve[ze+48]=Oi-ui;var ra=.382683433*((Mi=na+kr)-(Di=zn+Pi)),Co=.5411961*Mi+ra,bs=1.306562965*Di+ra,xs=.707106781*(Ii=kr+zn),ws=Pi+xs,Ss=Pi-xs;ve[ze+40]=Ss+Co,ve[ze+24]=Ss-Co,ve[ze+8]=ws+bs,ve[ze+56]=ws-bs,ze++}for(Ke=0;Ke<64;++Ke)Ze=ve[Ke]*Ne[Ke],A[Ke]=Ze>0?Ze+.5|0:Ze-.5|0;return A}(j,z),Se=0;Se<64;++Se)v[E[Se]]=be[Se];var fe=v[0]-Q;Q=v[0],fe==0?U(te[0]):(U(te[h[se=32767+fe]]),U(f[se]));for(var Ie=63;Ie>0&&v[Ie]==0;)Ie--;if(Ie==0)return U(ue),Q;for(var Fe,_e=1;_e<=Ie;){for(var re=_e;v[_e]==0&&_e<=Ie;)++_e;var Te=_e-re;if(Te>=16){Fe=Te>>4;for(var Ce=1;Ce<=Fe;++Ce)U(ie);Te&=15}se=32767+v[_e],U(J[(Te<<4)+h[se]]),U(f[se]),_e++}return Ie!=63&&U(ue),Q}function le(j){j=Math.min(Math.max(j,1),100),a!=j&&(function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var J=o((Q[te]*z+50)/100);J=Math.min(Math.max(J,1),255),s[E[te]]=J}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ie=o((se[ue]*z+50)/100);ie=Math.min(Math.max(ie,1),255),l[E[ue]]=ie}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,fe=0;fe<8;fe++)for(var Ie=0;Ie<8;Ie++)u[Se]=1/(s[E[Se]]*be[fe]*be[Ie]*8),c[Se]=1/(l[E[Se]]*be[fe]*be[Ie]*8),Se++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),a=j)}this.encode=function(j,z){z&&le(z),b=new Array,w=0,y=7,K(65496),K(65504),K(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),K(1),K(1),V(0),V(0),function(){K(65499),K(132),V(0);for(var Ue=0;Ue<64;Ue++)V(s[Ue]);V(1);for(var ge=0;ge<64;ge++)V(l[ge])}(),function(Ue,ge){K(65472),K(17),V(8),K(ge),K(Ue),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(j.width,j.height),function(){K(65476),K(418),V(0);for(var Ue=0;Ue<16;Ue++)V(I[Ue+1]);for(var ge=0;ge<=11;ge++)V(D[ge]);V(16);for(var Le=0;Le<16;Le++)V($[Le+1]);for(var Oe=0;Oe<=161;Oe++)V(O[Oe]);V(1);for(var Qe=0;Qe<16;Qe++)V(M[Qe+1]);for(var lt=0;lt<=11;lt++)V(B[lt]);V(17);for(var vt=0;vt<16;vt++)V(F[vt+1]);for(var Ke=0;Ke<=161;Ke++)V(G[Ke])}(),K(65498),K(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Q=0,te=0,J=0;w=0,y=7,this.encode.displayName="_encode_";for(var se,ue,ie,be,Se,fe,Ie,Fe,_e,re=j.data,Te=j.width,Ce=j.height,ve=4*Te,Ne=0;Ne<Ce;){for(se=0;se<ve;){for(Se=ve*Ne+se,Ie=-1,Fe=0,_e=0;_e<64;_e++)fe=Se+(Fe=_e>>3)*ve+(Ie=4*(7&_e)),Ne+Fe>=Ce&&(fe-=ve*(Ne+1+Fe-Ce)),se+Ie>=ve&&(fe-=se+Ie-ve+4),ue=re[fe++],ie=re[fe++],be=re[fe++],x[_e]=(k[ue]+k[ie+256>>0]+k[be+512>>0]>>16)-128,S[_e]=(k[ue+768>>0]+k[ie+1024>>0]+k[be+1280>>0]>>16)-128,T[_e]=(k[ue+1280>>0]+k[ie+1536>>0]+k[be+1792>>0]>>16)-128;Q=ee(x,u,Q,e,r),te=ee(S,c,te,n,i),J=ee(T,c,J,n,i),se+=32}Ne+=8}if(y>=0){var He=[];He[1]=y+1,He[0]=(1<<y+1)-1,U(He)}return K(65497),new Uint8Array(b)},t=t||50,function(){for(var j=String.fromCharCode,z=0;z<256;z++)C[z]=j(z)}(),e=R(I,D),n=R(M,B),r=R($,O),i=R(F,G),function(){for(var j=1,z=2,Q=1;Q<=15;Q++){for(var te=j;te<z;te++)h[32767+te]=Q,f[32767+te]=[],f[32767+te][1]=Q,f[32767+te][0]=te;for(var J=-(z-1);J<=-j;J++)h[32767+J]=Q,f[32767+J]=[],f[32767+J][1]=Q,f[32767+J][0]=z-1+J;j<<=1,z<<=1}}(),function(){for(var j=0;j<256;j++)k[j]=19595*j,k[j+256>>0]=38470*j,k[j+512>>0]=7471*j+32768,k[j+768>>0]=-11059*j,k[j+1024>>0]=-21709*j,k[j+1280>>0]=32768*j+8421375,k[j+1536>>0]=-27439*j,k[j+1792>>0]=-5329*j}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xE(t){function e(I){if(!I)throw Error("assert :P")}function n(I,D,$){for(var O=0;4>O;O++)if(I[D+O]!=$.charCodeAt(O))return!0;return!1}function r(I,D,$,O,M){for(var B=0;B<M;B++)I[D+B]=$[O+B]}function i(I,D,$,O){for(var M=0;M<O;M++)I[D+M]=$}function a(I){return new Int32Array(I)}function o(I,D){for(var $=[],O=0;O<I;O++)$.push(new D);return $}function s(I,D){var $=[];return function O(M,B,F){for(var G=F[B],R=0;R<G&&(M.push(F.length>B+1?[]:new D),!(F.length<B+1));R++)O(M[R],B+1,F)}($,0,I),$}var l=function(){var I=this;function D(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function $(g,_,P,L,q){e(!(L%P));do g[_+(L-=P)]=q;while(0<L)}function O(g,_,P,L,q){if(e(2328>=q),512>=q)var W=a(512);else if((W=a(q))==null)return 0;return function(Y,X,Z,ne,he,xe){var we,me,Be=X,ke=1<<Z,pe=a(16),Ae=a(16);for(e(he!=0),e(ne!=null),e(Y!=null),e(0<Z),me=0;me<he;++me){if(15<ne[me])return 0;++pe[ne[me]]}if(pe[0]==he)return 0;for(Ae[1]=0,we=1;15>we;++we){if(pe[we]>1<<we)return 0;Ae[we+1]=Ae[we]+pe[we]}for(me=0;me<he;++me)we=ne[me],0<ne[me]&&(xe[Ae[we]++]=me);if(Ae[15]==1)return(ne=new M).g=0,ne.value=xe[0],$(Y,Be,1,ke,ne),ke;var De,$e=-1,Re=ke-1,tt=0,Je=1,mt=1,Xe=1<<Z;for(me=0,we=1,he=2;we<=Z;++we,he<<=1){if(Je+=mt<<=1,0>(mt-=pe[we]))return 0;for(;0<pe[we];--pe[we])(ne=new M).g=we,ne.value=xe[me++],$(Y,Be+tt,he,Xe,ne),tt=D(tt,we)}for(we=Z+1,he=2;15>=we;++we,he<<=1){if(Je+=mt<<=1,0>(mt-=pe[we]))return 0;for(;0<pe[we];--pe[we]){if(ne=new M,(tt&Re)!=$e){for(Be+=Xe,De=1<<($e=we)-Z;15>$e&&!(0>=(De-=pe[$e]));)++$e,De<<=1;ke+=Xe=1<<(De=$e-Z),Y[X+($e=tt&Re)].g=De+Z,Y[X+$e].value=Be-X-$e}ne.g=we-Z,ne.value=xe[me++],$(Y,Be+(tt>>Z),he,Xe,ne),tt=D(tt,we)}}return Je!=2*Ae[15]-1?0:ke}(g,_,P,L,q,W)}function M(){this.value=this.g=0}function B(){this.value=this.g=0}function F(){this.G=o(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pr,B)}function G(g,_,P,L){e(g!=null),e(_!=null),e(2147483648>L),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+L,g.Zc=4<=L?P+L-4+1:P,se(g)}function R(g,_){for(var P=0;0<_--;)P|=ie(g,128)<<_;return P}function U(g,_){var P=R(g,_);return ue(g)?-P:P}function V(g,_,P,L){var q,W=0;for(e(g!=null),e(_!=null),e(4294967288>L),g.Sb=L,g.Ra=0,g.u=0,g.h=0,4<L&&(L=4),q=0;q<L;++q)W+=_[P+q]<<8*q;g.Ra=W,g.bb=L,g.oa=_,g.pa=P}function K(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Ac-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function ee(g,_){if(e(0<=_),!g.h&&_<=pc){var P=z(g)&hc[_];return g.u+=_,K(g),P}return g.h=1,g.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&Ac-1)>>>0}function Q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Ac}function te(g,_){g.u=_,g.h=Q(g)}function J(g){g.u>=Xd&&(e(g.u>=Xd),K(g))}function se(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return R(g,1)}function ie(g,_){var P=g.Ca;0>g.b&&se(g);var L=g.b,q=P*_>>>8,W=(g.I>>>L>q)+0;for(W?(P-=q,g.I-=q+1<<L>>>0):P=q+1,L=P,q=0;256<=L;)q+=8,L>>=8;return L=7^q+fi[L],g.b-=L,g.Ca=(P<<L)-1,W}function be(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function Se(g,_){return g[_+0]<<0|g[_+1]<<8}function fe(g,_){return Se(g,_)|g[_+2]<<16}function Ie(g,_){return Se(g,_)|Se(g,_+2)<<16}function Fe(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function _e(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Te(g,_,P,L){e(P!=null),e(L!=null);var q=P[0],W=L[0];return q==0&&(q=(g*W+_/2)/_),W==0&&(W=(_*q+g/2)/g),0>=q||0>=W?0:(P[0]=q,L[0]=W,1)}function Ce(g,_){return g+(1<<_)-1>>>_}function ve(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Ne(g,_){I[_]=function(P,L,q,W,Y,X,Z){var ne;for(ne=0;ne<Y;++ne){var he=I[g](X[Z+ne-1],q,W+ne);X[Z+ne]=ve(P[L+ne],he)}}}function He(){this.ud=this.hd=this.jd=0}function Ue(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function ge(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Le(g,_){return ge(g+(g-_+.5>>1))}function Oe(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function Qe(g,_,P,L,q,W,Y){for(L=W[Y-1],P=0;P<q;++P)W[Y+P]=L=ve(g[_+P],L)}function lt(g,_,P,L,q){var W;for(W=0;W<P;++W){var Y=g[_+W],X=Y>>8&255,Z=16711935&(Z=(Z=16711935&Y)+((X<<16)+X));L[q+W]=(4278255360&Y)+Z>>>0}}function vt(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function Ke(g,_,P,L,q,W){var Y;for(Y=0;Y<L;++Y){var X=_[P+Y],Z=X>>>8,ne=X,he=255&(he=(he=X>>>16)+((g.jd<<24>>24)*(Z<<24>>24)>>>5));ne=255&(ne=(ne=ne+((g.hd<<24>>24)*(Z<<24>>24)>>>5))+((g.ud<<24>>24)*(he<<24>>24)>>>5)),q[W+Y]=(4278255360&X)+(he<<16)+ne}}function Ze(g,_,P,L,q){I[_]=function(W,Y,X,Z,ne,he,xe,we,me){for(Z=xe;Z<we;++Z)for(xe=0;xe<me;++xe)ne[he++]=q(X[L(W[Y++])])},I[g]=function(W,Y,X,Z,ne,he,xe){var we=8>>W.b,me=W.Ea,Be=W.K[0],ke=W.w;if(8>we)for(W=(1<<W.b)-1,ke=(1<<we)-1;Y<X;++Y){var pe,Ae=0;for(pe=0;pe<me;++pe)pe&W||(Ae=L(Z[ne++])),he[xe++]=q(Be[Ae&ke]),Ae>>=we}else I["VP8LMapColor"+P](Z,ne,Be,ke,he,xe,Y,X,me)}}function ze(g,_,P,L,q){for(P=_+P;_<P;){var W=g[_++];L[q++]=W>>16&255,L[q++]=W>>8&255,L[q++]=W>>0&255}}function Gt(g,_,P,L,q){for(P=_+P;_<P;){var W=g[_++];L[q++]=W>>16&255,L[q++]=W>>8&255,L[q++]=W>>0&255,L[q++]=W>>24&255}}function Ot(g,_,P,L,q){for(P=_+P;_<P;){var W=(Y=g[_++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;L[q++]=W,L[q++]=Y}}function Ee(g,_,P,L,q){for(P=_+P;_<P;){var W=(Y=g[_++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[q++]=W,L[q++]=Y}}function Ge(g,_,P,L,q){for(P=_+P;_<P;){var W=g[_++];L[q++]=W>>0&255,L[q++]=W>>8&255,L[q++]=W>>16&255}}function Ve(g,_,P,L,q,W){if(W==0)for(P=_+P;_<P;)be(L,((W=g[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),q+=32;else r(L,q,g,_,P)}function st(g,_){I[_][0]=I[g+"0"],I[_][1]=I[g+"1"],I[_][2]=I[g+"2"],I[_][3]=I[g+"3"],I[_][4]=I[g+"4"],I[_][5]=I[g+"5"],I[_][6]=I[g+"6"],I[_][7]=I[g+"7"],I[_][8]=I[g+"8"],I[_][9]=I[g+"9"],I[_][10]=I[g+"10"],I[_][11]=I[g+"11"],I[_][12]=I[g+"12"],I[_][13]=I[g+"13"],I[_][14]=I[g+"0"],I[_][15]=I[g+"0"]}function rt(g){return g==eb||g==tb||g==om||g==nb}function zt(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new _t,this.sd=null}function Br(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function jt(g,_){var P=g.T,L=_.ba.f.RGBA,q=L.eb,W=L.fb+g.ka*L.A,Y=ca[_.ba.S],X=g.y,Z=g.O,ne=g.f,he=g.N,xe=g.ea,we=g.W,me=_.cc,Be=_.dc,ke=_.Mc,pe=_.Nc,Ae=g.ka,De=g.ka+g.T,$e=g.U,Re=$e+1>>1;for(Ae==0?Y(X,Z,null,null,ne,he,xe,we,ne,he,xe,we,q,W,null,null,$e):(Y(_.ec,_.fc,X,Z,me,Be,ke,pe,ne,he,xe,we,q,W-L.A,q,W,$e),++P);Ae+2<De;Ae+=2)me=ne,Be=he,ke=xe,pe=we,he+=g.Rc,we+=g.Rc,W+=2*L.A,Y(X,(Z+=2*g.fa)-g.fa,X,Z,me,Be,ke,pe,ne,he,xe,we,q,W-L.A,q,W,$e);return Z+=g.fa,g.j+De<g.o?(r(_.ec,_.fc,X,Z,$e),r(_.cc,_.dc,ne,he,Re),r(_.Mc,_.Nc,xe,we,Re),P--):1&De||Y(X,Z,null,null,ne,he,xe,we,ne,he,xe,we,q,W+L.A,null,null,$e),P}function $r(g,_,P){var L=g.F,q=[g.J];if(L!=null){var W=g.U,Y=_.ba.S,X=Y==am||Y==om;_=_.ba.f.RGBA;var Z=[0],ne=g.ka;Z[0]=g.T,g.Kb&&(ne==0?--Z[0]:(--ne,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(Z[0]=g.o-g.j-ne));var he=_.eb;ne=_.fb+ne*_.A,g=vn(L,q[0],g.width,W,Z,he,ne+(X?0:3),_.A),e(P==Z),g&&rt(Y)&&la(he,ne,X,W,Z,_.A)}return 0}function Dn(g){var _=g.ma,P=_.ba.S,L=11>P,q=P==rm||P==im||P==am||P==Zy||P==12||rt(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Kd(_.Oa,g,q?11:12))return 0;if(q&&rt(P)&&qe(),g.da)alert("todo:use_scaling");else{if(L){if(_.Ib=ct,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=jt,qe()}}else alert("todo:EmitYUV");q&&(_.Jb=$r,L&&ye())}if(L&&!$_){for(g=0;256>g;++g)L8[g]=89858*(g-128)+lm>>sm,B8[g]=-22014*(g-128)+lm,R8[g]=-45773*(g-128),j8[g]=113618*(g-128)+lm>>sm;for(g=ih;g<ab;++g)_=76283*(g-16)+lm>>sm,$8[g-ih]=Li(_,255),F8[g-ih]=Li(_+8>>4,15);$_=1}return 1}function Zr(g){var _=g.ma,P=g.U,L=g.T;return e(!(1&g.ka)),0>=P||0>=L?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function Ei(g){g.ma.memory=null}function ht(g,_,P,L){return ee(g,8)!=47?0:(_[0]=ee(g,14)+1,P[0]=ee(g,14)+1,L[0]=ee(g,1),ee(g,3)!=0?0:!g.h)}function ki(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+ee(_,P)+1}function Pi(g,_){return 120<_?_-120:1<=(P=((P=x8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function Fr(g,_,P){var L=z(P),q=g[_+=255&L].g-8;return 0<q&&(te(P,P.u+8),L=z(P),_+=g[_].value,_+=L&(1<<q)-1),te(P,P.u+g[_].g),g[_].value}function zn(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function Rn(g,_,P){var L=g.xc;return e((_=L==0?0:g.vc[g.md*(P>>L)+(_>>L)])<g.Wb),g.Ya[_]}function kr(g,_,P,L){var q=g.ab,W=g.c*_,Y=g.C;_=Y+_;var X=P,Z=L;for(L=g.Ta,P=g.Ua;0<q--;){var ne=g.gc[q],he=Y,xe=_,we=X,me=Z,Be=(Z=L,X=P,ne.Ea);switch(e(he<xe),e(xe<=ne.nc),ne.hc){case 2:JA(we,me,(xe-he)*Be,Z,X);break;case 0:var ke=he,pe=xe,Ae=Z,De=X,$e=(Xe=ne).Ea;ke==0&&(Xy(we,me,null,null,1,Ae,De),Qe(we,me+1,0,0,$e-1,Ae,De+1),me+=$e,De+=$e,++ke);for(var Re=1<<Xe.b,tt=Re-1,Je=Ce($e,Xe.b),mt=Xe.K,Xe=Xe.w+(ke>>Xe.b)*Je;ke<pe;){var Kt=mt,en=Xe,Vt=1;for(Qd(we,me,Ae,De-$e,1,Ae,De);Vt<$e;){var $t=(Vt&~tt)+Re;$t>$e&&($t=$e),(0,Ps[Kt[en++]>>8&15])(we,me+ +Vt,Ae,De+Vt-$e,$t-Vt,Ae,De+Vt),Vt=$t}me+=$e,De+=$e,++ke&tt||(Xe+=Je)}xe!=ne.nc&&r(Z,X-Be,Z,X+(xe-he-1)*Be,Be);break;case 1:for(Be=we,pe=me,$e=(we=ne.Ea)-(De=we&~(Ae=(me=1<<ne.b)-1)),ke=Ce(we,ne.b),Re=ne.K,ne=ne.w+(he>>ne.b)*ke;he<xe;){for(tt=Re,Je=ne,mt=new He,Xe=pe+De,Kt=pe+we;pe<Xe;)vt(tt[Je++],mt),Hl(mt,Be,pe,me,Z,X),pe+=me,X+=me;pe<Kt&&(vt(tt[Je++],mt),Hl(mt,Be,pe,$e,Z,X),pe+=$e,X+=$e),++he&Ae||(ne+=ke)}break;case 3:if(we==Z&&me==X&&0<ne.b){for(pe=Z,we=Be=X+(xe-he)*Be-(De=(xe-he)*Ce(ne.Ea,ne.b)),me=Z,Ae=X,ke=[],De=($e=De)-1;0<=De;--De)ke[De]=me[Ae+De];for(De=$e-1;0<=De;--De)pe[we+De]=ke[De];aa(ne,he,xe,Z,Be,Z,X)}else aa(ne,he,xe,we,me,Z,X)}X=L,Z=P}Z!=P&&r(L,P,X,Z,W)}function ys(g,_){var P=g.V,L=g.Ba+g.c*g.C,q=_-g.C;if(e(_<=g.l.o),e(16>=q),0<q){var W=g.l,Y=g.Ta,X=g.Ua,Z=W.width;if(kr(g,q,P,L),q=X=[X],e((P=g.C)<(L=_)),e(W.v<W.va),L>W.o&&(L=W.o),P<W.j){var ne=W.j-P;P=W.j,q[0]+=ne*Z}if(P>=L?P=0:(q[0]+=4*W.v,W.ka=P-W.j,W.U=W.va-W.v,W.T=L-P,P=1),P){if(X=X[0],11>(P=g.ca).S){var he=P.f.RGBA,xe=(L=P.S,q=W.U,W=W.T,ne=he.eb,he.A),we=W;for(he=he.fb+g.Ma*he.A;0<we--;){var me=Y,Be=X,ke=q,pe=ne,Ae=he;switch(L){case nm:di(me,Be,ke,pe,Ae);break;case rm:ei(me,Be,ke,pe,Ae);break;case eb:ei(me,Be,ke,pe,Ae),la(pe,Ae,0,ke,1,0);break;case P_:Po(me,Be,ke,pe,Ae);break;case im:Ve(me,Be,ke,pe,Ae,1);break;case tb:Ve(me,Be,ke,pe,Ae,1),la(pe,Ae,0,ke,1,0);break;case am:Ve(me,Be,ke,pe,Ae,0);break;case om:Ve(me,Be,ke,pe,Ae,0),la(pe,Ae,1,ke,1,0);break;case Zy:Ms(me,Be,ke,pe,Ae);break;case nb:Ms(me,Be,ke,pe,Ae),gn(pe,Ae,ke,1,0);break;case M_:ko(me,Be,ke,pe,Ae);break;default:e(0)}X+=Z,he+=xe}g.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function na(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,L=g.Ya[_].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function Mi(g,_,P,L,q,W){if(g.Z!=0){var Y=g.qd,X=g.rd;for(e(Ls[g.Z]!=null);_<P;++_)Ls[g.Z](Y,X,L,q,L,q,W),Y=L,X=q,q+=W;g.qd=Y,g.rd=X}}function Oi(g,_){var P=g.l.ma,L=P.Z==0||P.Z==1?g.l.j:g.C;if(L=g.C<L?L:g.C,e(_<=g.l.o),_>L){var q=g.l.width,W=P.ca,Y=P.tb+q*L,X=g.V,Z=g.Ba+g.c*L,ne=g.gc;e(g.ab==1),e(ne[0].hc==3),XA(ne[0],L,_,X,Z,W,Y),Mi(P,L,_,W,Y,q)}g.C=g.Ma=_}function Ii(g,_,P,L,q,W,Y){var X=g.$/L,Z=g.$%L,ne=g.m,he=g.s,xe=P+g.$,we=xe;q=P+L*q;var me=P+L*W,Be=280+he.ua,ke=g.Pb?X:16777216,pe=0<he.ua?he.Wa:null,Ae=he.wc,De=xe<me?Rn(he,Z,X):null;e(g.C<W),e(me<=q);var $e=!1;e:for(;;){for(;$e||xe<me;){var Re=0;if(X>=ke){var tt=xe-P;e((ke=g).Pb),ke.wd=ke.m,ke.xd=tt,0<ke.s.ua&&_e(ke.s.Wa,ke.s.vb),ke=X+S8}if(Z&Ae||(De=Rn(he,Z,X)),e(De!=null),De.Qb&&(_[xe]=De.qb,$e=!0),!$e)if(J(ne),De.jc){Re=ne,tt=_;var Je=xe,mt=De.pd[z(Re)&Pr-1];e(De.jc),256>mt.g?(te(Re,Re.u+mt.g),tt[Je]=mt.value,Re=0):(te(Re,Re.u+mt.g-256),e(256<=mt.value),Re=mt.value),Re==0&&($e=!0)}else Re=Fr(De.G[0],De.H[0],ne);if(ne.h)break;if($e||256>Re){if(!$e)if(De.nd)_[xe]=(De.qb|Re<<8)>>>0;else{if(J(ne),$e=Fr(De.G[1],De.H[1],ne),J(ne),tt=Fr(De.G[2],De.H[2],ne),Je=Fr(De.G[3],De.H[3],ne),ne.h)break;_[xe]=(Je<<24|$e<<16|Re<<8|tt)>>>0}if($e=!1,++xe,++Z>=L&&(Z=0,++X,Y!=null&&X<=W&&!(X%16)&&Y(g,X),pe!=null))for(;we<xe;)Re=_[we++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re}else if(280>Re){if(Re=ki(Re-256,ne),tt=Fr(De.G[4],De.H[4],ne),J(ne),tt=Pi(L,tt=ki(tt,ne)),ne.h)break;if(xe-P<tt||q-xe<Re)break e;for(Je=0;Je<Re;++Je)_[xe+Je]=_[xe+Je-tt];for(xe+=Re,Z+=Re;Z>=L;)Z-=L,++X,Y!=null&&X<=W&&!(X%16)&&Y(g,X);if(e(xe<=q),Z&Ae&&(De=Rn(he,Z,X)),pe!=null)for(;we<xe;)Re=_[we++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re}else{if(!(Re<Be))break e;for($e=Re-280,e(pe!=null);we<xe;)Re=_[we++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re;Re=xe,e(!($e>>>(tt=pe).Xa)),_[Re]=tt.X[$e],$e=!0}$e||e(ne.h==Q(ne))}if(g.Pb&&ne.h&&xe<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&_e(g.s.vb,g.s.Wa);else{if(ne.h)break e;Y!=null&&Y(g,X>W?W:X),g.a=0,g.$=xe-P}return 1}return g.a=3,0}function Di(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function ui(){var g=new Jy;return g==null?null:(g.a=0,g.xb=D_,st("Predictor","VP8LPredictors"),st("Predictor","VP8LPredictors_C"),st("PredictorAdd","VP8LPredictorsAdd"),st("PredictorAdd","VP8LPredictorsAdd_C"),JA=lt,Hl=Ke,di=ze,ei=Gt,Ms=Ot,ko=Ee,Po=Ge,I.VP8LMapColor32b=mc,I.VP8LMapColor8b=QA,g)}function ra(g,_,P,L,q){var W=1,Y=[g],X=[_],Z=L.m,ne=L.s,he=null,xe=0;e:for(;;){if(P)for(;W&&ee(Z,1);){var we=Y,me=X,Be=L,ke=1,pe=Be.m,Ae=Be.gc[Be.ab],De=ee(pe,2);if(Be.Oc&1<<De)W=0;else{switch(Be.Oc|=1<<De,Ae.hc=De,Ae.Ea=we[0],Ae.nc=me[0],Ae.K=[null],++Be.ab,e(4>=Be.ab),De){case 0:case 1:Ae.b=ee(pe,3)+2,ke=ra(Ce(Ae.Ea,Ae.b),Ce(Ae.nc,Ae.b),0,Be,Ae.K),Ae.K=Ae.K[0];break;case 3:var $e,Re=ee(pe,8)+1,tt=16<Re?0:4<Re?1:2<Re?2:3;if(we[0]=Ce(Ae.Ea,tt),Ae.b=tt,$e=ke=ra(Re,1,0,Be,Ae.K)){var Je,mt=Re,Xe=Ae,Kt=1<<(8>>Xe.b),en=a(Kt);if(en==null)$e=0;else{var Vt=Xe.K[0],$t=Xe.w;for(en[0]=Xe.K[0][0],Je=1;Je<1*mt;++Je)en[Je]=ve(Vt[$t+Je],en[Je-1]);for(;Je<4*Kt;++Je)en[Je]=0;Xe.K[0]=null,Xe.K[0]=en,$e=1}}ke=$e;break;case 2:break;default:e(0)}W=ke}}if(Y=Y[0],X=X[0],W&&ee(Z,1)&&!(W=1<=(xe=ee(Z,4))&&11>=xe)){L.a=3;break e}var hn;if(hn=W)t:{var un,Pt,Zn,hi=L,er=Y,pi=X,tn=xe,Ri=P,Bi=hi.m,xr=hi.s,Mr=[null],ni=1,fa=0,oo=w8[tn];n:for(;;){if(Ri&&ee(Bi,1)){var wr=ee(Bi,3)+2,Do=Ce(er,wr),Yl=Ce(pi,wr),xc=Do*Yl;if(!ra(Do,Yl,0,hi,Mr))break n;for(Mr=Mr[0],xr.xc=wr,un=0;un<xc;++un){var js=Mr[un]>>8&65535;Mr[un]=js,js>=ni&&(ni=js+1)}}if(Bi.h)break n;for(Pt=0;5>Pt;++Pt){var $n=O_[Pt];!Pt&&0<tn&&($n+=1<<tn),fa<$n&&(fa=$n)}var ob=o(ni*oo,M),q_=ni,H_=o(q_,F);if(H_==null)var cm=null;else e(65536>=q_),cm=H_;var ah=a(fa);if(cm==null||ah==null||ob==null){hi.a=1;break n}var fm=ob;for(un=Zn=0;un<ni;++un){var $a=cm[un],wc=$a.G,Sc=$a.H,z_=0,dm=1,V_=0;for(Pt=0;5>Pt;++Pt){$n=O_[Pt],wc[Pt]=fm,Sc[Pt]=Zn,!Pt&&0<tn&&($n+=1<<tn);i:{var hm,sb=$n,pm=hi,oh=ah,H8=fm,z8=Zn,lb=0,Rs=pm.m,V8=ee(Rs,1);if(i(oh,0,0,sb),V8){var G8=ee(Rs,1)+1,W8=ee(Rs,1),G_=ee(Rs,W8==0?1:8);oh[G_]=1,G8==2&&(oh[G_=ee(Rs,8)]=1);var Am=1}else{var W_=a(19),Y_=ee(Rs,4)+4;if(19<Y_){pm.a=3;var mm=0;break i}for(hm=0;hm<Y_;++hm)W_[b8[hm]]=ee(Rs,3);var ub=void 0,sh=void 0,K_=pm,Y8=W_,gm=sb,J_=oh,cb=0,Bs=K_.m,X_=8,Q_=o(128,M);r:for(;O(Q_,0,7,Y8,19);){if(ee(Bs,1)){var K8=2+2*ee(Bs,3);if((ub=2+ee(Bs,K8))>gm)break r}else ub=gm;for(sh=0;sh<gm&&ub--;){J(Bs);var Z_=Q_[0+(127&z(Bs))];te(Bs,Bs.u+Z_.g);var _c=Z_.value;if(16>_c)J_[sh++]=_c,_c!=0&&(X_=_c);else{var J8=_c==16,eT=_c-16,X8=v8[eT],tT=ee(Bs,g8[eT])+X8;if(sh+tT>gm)break r;for(var Q8=J8?X_:0;0<tT--;)J_[sh++]=Q8}}cb=1;break r}cb||(K_.a=3),Am=cb}(Am=Am&&!Rs.h)&&(lb=O(H8,z8,8,oh,sb)),Am&&lb!=0?mm=lb:(pm.a=3,mm=0)}if(mm==0)break n;if(dm&&y8[Pt]==1&&(dm=fm[Zn].g==0),z_+=fm[Zn].g,Zn+=mm,3>=Pt){var lh,fb=ah[0];for(lh=1;lh<$n;++lh)ah[lh]>fb&&(fb=ah[lh]);V_+=fb}}if($a.nd=dm,$a.Qb=0,dm&&($a.qb=(wc[3][Sc[3]+0].value<<24|wc[1][Sc[1]+0].value<<16|wc[2][Sc[2]+0].value)>>>0,z_==0&&256>wc[0][Sc[0]+0].value&&($a.Qb=1,$a.qb+=wc[0][Sc[0]+0].value<<8)),$a.jc=!$a.Qb&&6>V_,$a.jc){var vm,Lo=$a;for(vm=0;vm<Pr;++vm){var $s=vm,Fs=Lo.pd[$s],ym=Lo.G[0][Lo.H[0]+$s];256<=ym.value?(Fs.g=ym.g+256,Fs.value=ym.value):(Fs.g=0,Fs.value=0,$s>>=zn(ym,8,Fs),$s>>=zn(Lo.G[1][Lo.H[1]+$s],16,Fs),$s>>=zn(Lo.G[2][Lo.H[2]+$s],0,Fs),zn(Lo.G[3][Lo.H[3]+$s],24,Fs))}}}xr.vc=Mr,xr.Wb=ni,xr.Ya=cm,xr.yc=ob,hn=1;break t}hn=0}if(!(W=hn)){L.a=3;break e}if(0<xe){if(ne.ua=1<<xe,!Fe(ne.Wa,xe)){L.a=1,W=0;break e}}else ne.ua=0;var db=L,nT=Y,Z8=X,hb=db.s,pb=hb.xc;if(db.c=nT,db.i=Z8,hb.md=Ce(nT,pb),hb.wc=pb==0?-1:(1<<pb)-1,P){L.xb=P8;break e}if((he=a(Y*X))==null){L.a=1,W=0;break e}W=(W=Ii(L,he,0,Y,X,X,null))&&!Z.h;break e}return W?(q!=null?q[0]=he:(e(he==null),e(P)),L.$=0,P||Di(ne)):Di(ne),W}function Co(g,_){var P=g.c*g.i,L=P+_+16*_;return e(g.c<=_),g.V=a(L),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function bs(g,_){var P=g.C,L=_-P,q=g.V,W=g.Ba+g.c*P;for(e(_<=g.l.o);0<L;){var Y=16<L?16:L,X=g.l.ma,Z=g.l.width,ne=Z*Y,he=X.ca,xe=X.tb+Z*P,we=g.Ta,me=g.Ua;kr(g,Y,q,W),Gn(we,me,he,xe,ne),Mi(X,P,P+Y,he,xe,Z),L-=Y,q+=Y*g.c,P+=Y}e(P==_),g.C=g.Ma=_}function xs(){this.ub=this.yd=this.td=this.Rb=0}function ws(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ss(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function _s(){this.Yb=function(){var g=[];return function _(P,L,q){for(var W=q[L],Y=0;Y<W&&(P.push(q.length>L+1?[]:0),!(q.length<L+1));Y++)_(P[Y],L+1,q)}(g,0,[3,11]),g}()}function Rl(){this.jb=a(3),this.Wc=s([4,8],_s),this.Xc=s([4,17],_s)}function Id(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ts(){this.ld=this.La=this.dd=this.tc=0}function nc(){this.Na=this.la=0}function ia(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ye(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ts),this.Y=0,this.ya=Array(new Bl),this.aa=0,this.l=new Ut}function ut(){this.y=a(16),this.f=a(8),this.ea=a(8)}function nt(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new xs,this.Kc=new ws,this.ed=new Id,this.Qa=new Ss,this.Ic=this.$c=this.Aa=0,this.D=new Ye,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,ia),this.Pa=new Rl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ut),this.Hd=0,this.rb=Array(new nc),this.sb=0,this.wa=Array(new Ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bl),this.L=this.aa=0,this.gd=s([4,2],Ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ut(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ft(){var g=new nt;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,rh||(rh=no)),g}function pt(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function ur(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function Ur(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return pt(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,L=_.w,q=_.ha;if(4>q)return pt(g,7,"Truncated header.");var W=P[L+0]|P[L+1]<<8|P[L+2]<<16,Y=g.Od;if(Y.Rb=!(1&W),Y.td=W>>1&7,Y.yd=W>>4&1,Y.ub=W>>5,3<Y.td)return pt(g,3,"Incorrect keyframe parameters.");if(!Y.yd)return pt(g,4,"Frame not displayable.");L+=3,q-=3;var X=g.Kc;if(Y.Rb){if(7>q)return pt(g,7,"cannot parse picture header");if(!ur(P,L,q))return pt(g,3,"Bad code word");X.c=16383&(P[L+4]<<8|P[L+3]),X.Td=P[L+4]>>6,X.i=16383&(P[L+6]<<8|P[L+5]),X.Ud=P[L+6]>>6,L+=7,q-=7,g.za=X.c+15>>4,g.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=g.Pa).jb,0,255,W.jb.length),e((W=g.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(Y.ub>q)return pt(g,7,"bad partition length");G(W=g.m,P,L,Y.ub),L+=Y.ub,q-=Y.ub,Y.Rb&&(X.Ld=ue(W),X.Kd=ue(W)),X=g.Qa;var Z,ne=g.Pa;if(e(W!=null),e(X!=null),X.Cb=ue(W),X.Cb){if(X.Bb=ue(W),ue(W)){for(X.Fb=ue(W),Z=0;4>Z;++Z)X.Zb[Z]=ue(W)?U(W,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=ue(W)?U(W,6):0}if(X.Bb)for(Z=0;3>Z;++Z)ne.jb[Z]=ue(W)?R(W,8):255}else X.Bb=0;if(W.Ka)return pt(g,3,"cannot parse segment header");if((X=g.ed).zd=ue(W),X.Tb=R(W,6),X.wb=R(W,3),X.Pc=ue(W),X.Pc&&ue(W)){for(ne=0;4>ne;++ne)ue(W)&&(X.vd[ne]=U(W,6));for(ne=0;4>ne;++ne)ue(W)&&(X.od[ne]=U(W,6))}if(g.L=X.Tb==0?0:X.zd?1:2,W.Ka)return pt(g,3,"cannot parse filter header");var he=q;if(q=Z=L,L=Z+he,X=he,g.Xb=(1<<R(g.m,2))-1,he<3*(ne=g.Xb))P=7;else{for(Z+=3*ne,X-=3*ne,he=0;he<ne;++he){var xe=P[q+0]|P[q+1]<<8|P[q+2]<<16;xe>X&&(xe=X),G(g.Jc[+he],P,Z,xe),Z+=xe,X-=xe,q+=3}G(g.Jc[+ne],P,Z,X),P=Z<L?0:5}if(P!=0)return pt(g,P,"cannot parse partitions");for(P=R(Z=g.m,7),q=ue(Z)?U(Z,4):0,L=ue(Z)?U(Z,4):0,X=ue(Z)?U(Z,4):0,ne=ue(Z)?U(Z,4):0,Z=ue(Z)?U(Z,4):0,he=g.Qa,xe=0;4>xe;++xe){if(he.Cb){var we=he.Zb[xe];he.Fb||(we+=P)}else{if(0<xe){g.pb[xe]=g.pb[0];continue}we=P}var me=g.pb[xe];me.Sc[0]=rb[Li(we+q,127)],me.Sc[1]=ib[Li(we+0,127)],me.Eb[0]=2*rb[Li(we+L,127)],me.Eb[1]=101581*ib[Li(we+X,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=rb[Li(we+ne,117)],me.Qc[1]=ib[Li(we+Z,127)],me.lc=we+Z}if(!Y.Rb)return pt(g,4,"Not a key frame.");for(ue(W),Y=g.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(L=0;3>L;++L)for(X=0;11>X;++X)ne=ie(W,E8[P][q][L][X])?R(W,8):C8[P][q][L][X],Y.Wc[P][q].Yb[L][X]=ne;for(q=0;17>q;++q)Y.Xc[P][q]=Y.Wc[P][k8[q]]}return g.kc=ue(W),g.kc&&(g.Bd=R(W,8)),g.cb=1}function no(g,_,P,L,q,W,Y){var X=_[q].Yb[P];for(P=0;16>q;++q){if(!ie(g,X[P+0]))return q;for(;!ie(g,X[P+1]);)if(X=_[++q].Yb[0],P=0,q==16)return 16;var Z=_[q+1].Yb;if(ie(g,X[P+2])){var ne=g,he=0;if(ie(ne,(we=X)[(xe=P)+3]))if(ie(ne,we[xe+6])){for(X=0,xe=2*(he=ie(ne,we[xe+8]))+(we=ie(ne,we[xe+9+he])),he=0,we=_8[xe];we[X];++X)he+=he+ie(ne,we[X]);he+=3+(8<<xe)}else ie(ne,we[xe+7])?(he=7+2*ie(ne,165),he+=ie(ne,145)):he=5+ie(ne,159);else he=ie(ne,we[xe+4])?3+ie(ne,we[xe+5]):2;X=Z[2]}else he=1,X=Z[1];Z=Y+T8[q],0>(ne=g).b&&se(ne);var xe,we=ne.b,me=(xe=ne.Ca>>1)-(ne.I>>we)>>31;--ne.b,ne.Ca+=me,ne.Ca|=1,ne.I-=(xe+1&me)<<we,W[Z]=((he^me)-me)*L[(0<q)+0]}return 16}function Cs(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Dd(g,_){if(g==null)return 0;if(_==null)return pt(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Ur(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=um[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var L=g.ed;for(P=0;4>P;++P){var q;if(g.Qa.Cb){var W=g.Qa.Lb[P];g.Qa.Fb||(W+=L.Tb)}else W=L.Tb;for(q=0;1>=q;++q){var Y=g.gd[P][q],X=W;if(L.Pc&&(X+=L.vd[0],q&&(X+=L.od[0])),0<(X=0>X?0:63<X?63:X)){var Z=X;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),Y.dd=Z,Y.tc=2*X+Z,Y.ld=40<=X?2:15<=X?1:0}else Y.tc=0;Y.La=q}}}P=0}else pt(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=q8);e:{P=g.Ic,L=4*(Z=g.za);var ne=32*Z,he=Z+1,xe=0<g.L?Z*(0<g.Aa?2:1):0,we=(g.Aa==2?2:1)*Z;if((Y=L+832+(q=3*(16*P+um[g.L])/2*ne)+(W=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Y)P=0;else{if(Y>g.Vb){if(g.Vb=0,g.Ec=a(Y),g.Fc=0,g.Ec==null){P=pt(g,1,"no memory during frame initialization.");break e}g.Vb=Y}Y=g.Ec,X=g.Fc,g.Ac=Y,g.Bc=X,X+=L,g.Gd=o(ne,ut),g.Hd=0,g.rb=o(he+1,nc),g.sb=1,g.wa=xe?o(xe,Ts):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=Z),e(!0),g.oc=Y,g.pc=X,X+=832,g.ya=o(we,Bl),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=Z),g.R=16*Z,g.B=8*Z,Z=(ne=um[g.L])*g.R,ne=ne/2*g.B,g.sa=Y,g.ta=X+Z,g.qa=g.sa,g.ra=g.ta+16*P*g.R+ne,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+ne,g.$c=0,X+=q,g.mb=W?Y:null,g.nb=W?X:null,e(X+W<=g.Fc+g.Vb),Cs(g),i(g.Ac,g.Bc,0,L),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!em){for(P=-255;255>=P;++P)cr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Oo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)nh[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)bc[255+P]=0>P?0:255<P?255:P;em=1}gc=jy,Mo=Dy,Zd=RA,ti=Ly,oa=BA,Vn=jA,vc=Fd,ZA=Ul,eh=Ky,zl=Ud,Vl=Yy,Os=lc,Gl=qd,yc=WA,Wl=GA,Is=io,th=Eo,sa=Wy,Ba[0]=ro,Ba[1]=Ry,Ba[2]=Uy,Ba[3]=qy,Ba[4]=UA,Ba[5]=oc,Ba[6]=qA,Ba[7]=Rd,Ba[8]=zy,Ba[9]=Hy,Ds[0]=$A,Ds[1]=$y,Ds[2]=No,Ds[3]=ic,Ds[4]=qr,Ds[5]=Fy,Ds[6]=FA,Io[0]=Ns,Io[1]=By,Io[2]=Vy,Io[3]=Bd,Io[4]=Fl,Io[5]=Gy,Io[6]=$d,P=1}else P=0}P&&(P=function(me,Be){for(me.M=0;me.M<me.Va;++me.M){var ke,pe=me.Jc[me.M&me.Xb],Ae=me.m,De=me;for(ke=0;ke<De.za;++ke){var $e=Ae,Re=De,tt=Re.Ac,Je=Re.Bc+4*ke,mt=Re.zc,Xe=Re.ya[Re.aa+ke];if(Re.Qa.Bb?Xe.$b=ie($e,Re.Pa.jb[0])?2+ie($e,Re.Pa.jb[2]):ie($e,Re.Pa.jb[1]):Xe.$b=0,Re.kc&&(Xe.Ad=ie($e,Re.Bd)),Xe.Za=!ie($e,145)+0,Xe.Za){var Kt=Xe.Ob,en=0;for(Re=0;4>Re;++Re){var Vt,$t=mt[0+Re];for(Vt=0;4>Vt;++Vt){$t=N8[tt[Je+Vt]][$t];for(var hn=I_[ie($e,$t[0])];0<hn;)hn=I_[2*hn+ie($e,$t[hn])];$t=-hn,tt[Je+Vt]=$t}r(Kt,en,tt,Je,4),en+=4,mt[0+Re]=$t}}else $t=ie($e,156)?ie($e,128)?1:3:ie($e,163)?2:0,Xe.Ob[0]=$t,i(tt,Je,$t,4),i(mt,0,$t,4);Xe.Dd=ie($e,142)?ie($e,114)?ie($e,183)?1:3:2:0}if(De.m.Ka)return pt(me,7,"Premature end-of-partition0 encountered.");for(;me.ja<me.za;++me.ja){if(De=pe,$e=(Ae=me).rb[Ae.sb-1],tt=Ae.rb[Ae.sb+Ae.ja],ke=Ae.ya[Ae.aa+Ae.ja],Je=Ae.kc?ke.Ad:0)$e.la=tt.la=0,ke.Za||($e.Na=tt.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var un,Pt;if($e=tt,tt=De,Je=Ae.Pa.Xc,mt=Ae.ya[Ae.aa+Ae.ja],Xe=Ae.pb[mt.$b],Re=mt.ad,Kt=0,en=Ae.rb[Ae.sb-1],$t=Vt=0,i(Re,Kt,0,384),mt.Za)var Zn=0,hi=Je[3];else{hn=a(16);var er=$e.Na+en.Na;if(er=rh(tt,Je[1],er,Xe.Eb,0,hn,0),$e.Na=en.Na=(0<er)+0,1<er)gc(hn,0,Re,Kt);else{var pi=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)Re[Kt+hn]=pi}Zn=1,hi=Je[0]}var tn=15&$e.la,Ri=15&en.la;for(hn=0;4>hn;++hn){var Bi=1&Ri;for(pi=Pt=0;4>pi;++pi)tn=tn>>1|(Bi=(er=rh(tt,hi,er=Bi+(1&tn),Xe.Sc,Zn,Re,Kt))>Zn)<<7,Pt=Pt<<2|(3<er?3:1<er?2:Re[Kt+0]!=0),Kt+=16;tn>>=4,Ri=Ri>>1|Bi<<7,Vt=(Vt<<8|Pt)>>>0}for(hi=tn,Zn=Ri>>4,un=0;4>un;un+=2){for(Pt=0,tn=$e.la>>4+un,Ri=en.la>>4+un,hn=0;2>hn;++hn){for(Bi=1&Ri,pi=0;2>pi;++pi)er=Bi+(1&tn),tn=tn>>1|(Bi=0<(er=rh(tt,Je[2],er,Xe.Qc,0,Re,Kt)))<<3,Pt=Pt<<2|(3<er?3:1<er?2:Re[Kt+0]!=0),Kt+=16;tn>>=2,Ri=Ri>>1|Bi<<5}$t|=Pt<<4*un,hi|=tn<<4<<un,Zn|=(240&Ri)<<un}$e.la=hi,en.la=Zn,mt.Hc=Vt,mt.Gc=$t,mt.ia=43690&$t?0:Xe.ia,Je=!(Vt|$t)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[ke.$b][ke.Za],Ae.wa[Ae.Y+Ae.ja].La|=!Je),De.Ka)return pt(me,7,"Premature end-of-file encountered.")}if(Cs(me),Ae=Be,De=1,ke=(pe=me).D,$e=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(ke.M=pe.M,ke.uc=$e,Yd(pe,ke),De=1,ke=(Pt=pe.D).Nb,$e=($t=um[pe.L])*pe.R,tt=$t/2*pe.B,hn=16*ke*pe.R,pi=8*ke*pe.B,Je=pe.sa,mt=pe.ta-$e+hn,Xe=pe.qa,Re=pe.ra-tt+pi,Kt=pe.Ha,en=pe.Ia-tt+pi,Ri=(tn=Pt.M)==0,Vt=tn>=pe.Va-1,pe.Aa==2&&Yd(pe,Pt),Pt.uc)for(Bi=(er=pe).D.M,e(er.D.uc),Pt=er.yb;Pt<er.Hb;++Pt){Zn=Pt,hi=Bi;var xr=(Mr=($n=er).D).Nb;un=$n.R;var Mr=Mr.wa[Mr.Y+Zn],ni=$n.sa,fa=$n.ta+16*xr*un+16*Zn,oo=Mr.dd,wr=Mr.tc;if(wr!=0)if(e(3<=wr),$n.L==1)0<Zn&&Is(ni,fa,un,wr+4),Mr.La&&sa(ni,fa,un,wr),0<hi&&Wl(ni,fa,un,wr+4),Mr.La&&th(ni,fa,un,wr);else{var Do=$n.B,Yl=$n.qa,xc=$n.ra+8*xr*Do+8*Zn,js=$n.Ha,$n=$n.Ia+8*xr*Do+8*Zn;xr=Mr.ld,0<Zn&&(ZA(ni,fa,un,wr+4,oo,xr),zl(Yl,xc,js,$n,Do,wr+4,oo,xr)),Mr.La&&(Os(ni,fa,un,wr,oo,xr),yc(Yl,xc,js,$n,Do,wr,oo,xr)),0<hi&&(vc(ni,fa,un,wr+4,oo,xr),eh(Yl,xc,js,$n,Do,wr+4,oo,xr)),Mr.La&&(Vl(ni,fa,un,wr,oo,xr),Gl(Yl,xc,js,$n,Do,wr,oo,xr))}}if(pe.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Pt=16*tn,tn=16*(tn+1),Ri?(Ae.y=pe.sa,Ae.O=pe.ta+hn,Ae.f=pe.qa,Ae.N=pe.ra+pi,Ae.ea=pe.Ha,Ae.W=pe.Ia+pi):(Pt-=$t,Ae.y=Je,Ae.O=mt,Ae.f=Xe,Ae.N=Re,Ae.ea=Kt,Ae.W=en),Vt||(tn-=$t),tn>Ae.o&&(tn=Ae.o),Ae.F=null,Ae.J=null,pe.Fa!=null&&0<pe.Fa.length&&Pt<tn&&(Ae.J=Gd(pe,Ae,Pt,tn-Pt),Ae.F=pe.mb,Ae.F==null&&Ae.F.length==0)){De=pt(pe,3,"Could not decode alpha data.");break e}Pt<Ae.j&&($t=Ae.j-Pt,Pt=Ae.j,e(!(1&$t)),Ae.O+=pe.R*$t,Ae.N+=pe.B*($t>>1),Ae.W+=pe.B*($t>>1),Ae.F!=null&&(Ae.J+=Ae.width*$t)),Pt<tn&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Pt-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=tn-Pt,De=Ae.put(Ae))}ke+1!=pe.Ic||Vt||(r(pe.sa,pe.ta-$e,Je,mt+16*pe.R,$e),r(pe.qa,pe.ra-tt,Xe,Re+8*pe.B,tt),r(pe.Ha,pe.Ia-tt,Kt,en+8*pe.B,tt))}if(!De)return pt(me,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function La(g,_,P,L,q){q=g[_+P+32*L]+(q>>3),g[_+P+32*L]=-256&q?0>q?0:255:q}function rc(g,_,P,L,q,W){La(g,_,0,P,L+q),La(g,_,1,P,L+W),La(g,_,2,P,L-W),La(g,_,3,P,L-q)}function ci(g){return(20091*g>>16)+g}function Ld(g,_,P,L){var q,W=0,Y=a(16);for(q=0;4>q;++q){var X=g[_+0]+g[_+8],Z=g[_+0]-g[_+8],ne=(35468*g[_+4]>>16)-ci(g[_+12]),he=ci(g[_+4])+(35468*g[_+12]>>16);Y[W+0]=X+he,Y[W+1]=Z+ne,Y[W+2]=Z-ne,Y[W+3]=X-he,W+=4,_++}for(q=W=0;4>q;++q)X=(g=Y[W+0]+4)+Y[W+8],Z=g-Y[W+8],ne=(35468*Y[W+4]>>16)-ci(Y[W+12]),La(P,L,0,0,X+(he=ci(Y[W+4])+(35468*Y[W+12]>>16))),La(P,L,1,0,Z+ne),La(P,L,2,0,Z-ne),La(P,L,3,0,X-he),W++,L+=32}function jA(g,_,P,L){var q=g[_+0]+4,W=35468*g[_+4]>>16,Y=ci(g[_+4]),X=35468*g[_+1]>>16;rc(P,L,0,q+Y,g=ci(g[_+1]),X),rc(P,L,1,q+W,g,X),rc(P,L,2,q-W,g,X),rc(P,L,3,q-Y,g,X)}function Dy(g,_,P,L,q){Ld(g,_,P,L),q&&Ld(g,_+16,P,L+4)}function RA(g,_,P,L){Mo(g,_+0,P,L,1),Mo(g,_+32,P,L+128,1)}function Ly(g,_,P,L){var q;for(g=g[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)La(P,L,_,q,g)}function BA(g,_,P,L){g[_+0]&&ti(g,_+0,P,L),g[_+16]&&ti(g,_+16,P,L+4),g[_+32]&&ti(g,_+32,P,L+128),g[_+48]&&ti(g,_+48,P,L+128+4)}function jy(g,_,P,L){var q,W=a(16);for(q=0;4>q;++q){var Y=g[_+0+q]+g[_+12+q],X=g[_+4+q]+g[_+8+q],Z=g[_+4+q]-g[_+8+q],ne=g[_+0+q]-g[_+12+q];W[0+q]=Y+X,W[8+q]=Y-X,W[4+q]=ne+Z,W[12+q]=ne-Z}for(q=0;4>q;++q)Y=(g=W[0+4*q]+3)+W[3+4*q],X=W[1+4*q]+W[2+4*q],Z=W[1+4*q]-W[2+4*q],ne=g-W[3+4*q],P[L+0]=Y+X>>3,P[L+16]=ne+Z>>3,P[L+32]=Y-X>>3,P[L+48]=ne-Z>>3,L+=64}function jd(g,_,P){var L,q=_-32,W=ji,Y=255-g[q-1];for(L=0;L<P;++L){var X,Z=W,ne=Y+g[_-1];for(X=0;X<P;++X)g[_+X]=Z[ne+g[q+X]];_+=32}}function Ry(g,_){jd(g,_,4)}function By(g,_){jd(g,_,8)}function $y(g,_){jd(g,_,16)}function No(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function ic(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function ac(g,_,P){var L;for(L=0;16>L;++L)i(_,P+32*L,g,16)}function $A(g,_){var P,L=16;for(P=0;16>P;++P)L+=g[_-1+32*P]+g[_+P-32];ac(L>>5,g,_)}function qr(g,_){var P,L=8;for(P=0;16>P;++P)L+=g[_-1+32*P];ac(L>>4,g,_)}function Fy(g,_){var P,L=8;for(P=0;16>P;++P)L+=g[_+P-32];ac(L>>4,g,_)}function FA(g,_){ac(128,g,_)}function St(g,_,P){return g+2*_+P+2>>2}function Uy(g,_){var P,L=_-32;for(L=new Uint8Array([St(g[L-1],g[L+0],g[L+1]),St(g[L+0],g[L+1],g[L+2]),St(g[L+1],g[L+2],g[L+3]),St(g[L+2],g[L+3],g[L+4])]),P=0;4>P;++P)r(g,_+32*P,L,0,L.length)}function qy(g,_){var P=g[_-1],L=g[_-1+32],q=g[_-1+64],W=g[_-1+96];be(g,_+0,16843009*St(g[_-1-32],P,L)),be(g,_+32,16843009*St(P,L,q)),be(g,_+64,16843009*St(L,q,W)),be(g,_+96,16843009*St(q,W,W))}function ro(g,_){var P,L=4;for(P=0;4>P;++P)L+=g[_+P-32]+g[_-1+32*P];for(L>>=3,P=0;4>P;++P)i(g,_+32*P,L,4)}function UA(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1-32],Y=g[_+0-32],X=g[_+1-32],Z=g[_+2-32],ne=g[_+3-32];g[_+0+96]=St(L,q,g[_-1+96]),g[_+1+96]=g[_+0+64]=St(P,L,q),g[_+2+96]=g[_+1+64]=g[_+0+32]=St(W,P,L),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=St(Y,W,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=St(X,Y,W),g[_+3+32]=g[_+2+0]=St(Z,X,Y),g[_+3+0]=St(ne,Z,X)}function qA(g,_){var P=g[_+1-32],L=g[_+2-32],q=g[_+3-32],W=g[_+4-32],Y=g[_+5-32],X=g[_+6-32],Z=g[_+7-32];g[_+0+0]=St(g[_+0-32],P,L),g[_+1+0]=g[_+0+32]=St(P,L,q),g[_+2+0]=g[_+1+32]=g[_+0+64]=St(L,q,W),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=St(q,W,Y),g[_+3+32]=g[_+2+64]=g[_+1+96]=St(W,Y,X),g[_+3+64]=g[_+2+96]=St(Y,X,Z),g[_+3+96]=St(X,Z,Z)}function oc(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1-32],Y=g[_+0-32],X=g[_+1-32],Z=g[_+2-32],ne=g[_+3-32];g[_+0+0]=g[_+1+64]=W+Y+1>>1,g[_+1+0]=g[_+2+64]=Y+X+1>>1,g[_+2+0]=g[_+3+64]=X+Z+1>>1,g[_+3+0]=Z+ne+1>>1,g[_+0+96]=St(q,L,P),g[_+0+64]=St(L,P,W),g[_+0+32]=g[_+1+96]=St(P,W,Y),g[_+1+32]=g[_+2+96]=St(W,Y,X),g[_+2+32]=g[_+3+96]=St(Y,X,Z),g[_+3+32]=St(X,Z,ne)}function Rd(g,_){var P=g[_+0-32],L=g[_+1-32],q=g[_+2-32],W=g[_+3-32],Y=g[_+4-32],X=g[_+5-32],Z=g[_+6-32],ne=g[_+7-32];g[_+0+0]=P+L+1>>1,g[_+1+0]=g[_+0+64]=L+q+1>>1,g[_+2+0]=g[_+1+64]=q+W+1>>1,g[_+3+0]=g[_+2+64]=W+Y+1>>1,g[_+0+32]=St(P,L,q),g[_+1+32]=g[_+0+96]=St(L,q,W),g[_+2+32]=g[_+1+96]=St(q,W,Y),g[_+3+32]=g[_+2+96]=St(W,Y,X),g[_+3+64]=St(Y,X,Z),g[_+3+96]=St(X,Z,ne)}function Hy(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1+96];g[_+0+0]=P+L+1>>1,g[_+2+0]=g[_+0+32]=L+q+1>>1,g[_+2+32]=g[_+0+64]=q+W+1>>1,g[_+1+0]=St(P,L,q),g[_+3+0]=g[_+1+32]=St(L,q,W),g[_+3+32]=g[_+1+64]=St(q,W,W),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=W}function zy(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1+96],Y=g[_-1-32],X=g[_+0-32],Z=g[_+1-32],ne=g[_+2-32];g[_+0+0]=g[_+2+32]=P+Y+1>>1,g[_+0+32]=g[_+2+64]=L+P+1>>1,g[_+0+64]=g[_+2+96]=q+L+1>>1,g[_+0+96]=W+q+1>>1,g[_+3+0]=St(X,Z,ne),g[_+2+0]=St(Y,X,Z),g[_+1+0]=g[_+3+32]=St(P,Y,X),g[_+1+32]=g[_+3+64]=St(L,P,Y),g[_+1+64]=g[_+3+96]=St(q,L,P),g[_+1+96]=St(W,q,L)}function Vy(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function Bd(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function $l(g,_,P){var L;for(L=0;8>L;++L)i(_,P+32*L,g,8)}function Ns(g,_){var P,L=8;for(P=0;8>P;++P)L+=g[_+P-32]+g[_-1+32*P];$l(L>>4,g,_)}function Gy(g,_){var P,L=4;for(P=0;8>P;++P)L+=g[_+P-32];$l(L>>3,g,_)}function Fl(g,_){var P,L=4;for(P=0;8>P;++P)L+=g[_-1+32*P];$l(L>>3,g,_)}function $d(g,_){$l(128,g,_)}function sc(g,_,P){var L=g[_-P],q=g[_+0],W=3*(q-L)+Qy[1020+g[_-2*P]-g[_+P]],Y=tm[112+(W+4>>3)];g[_-P]=ji[255+L+tm[112+(W+3>>3)]],g[_+0]=ji[255+q-Y]}function HA(g,_,P,L){var q=g[_+0],W=g[_+P];return ua[255+g[_-2*P]-g[_-P]]>L||ua[255+W-q]>L}function zA(g,_,P,L){return 4*ua[255+g[_-P]-g[_+0]]+ua[255+g[_-2*P]-g[_+P]]<=L}function VA(g,_,P,L,q){var W=g[_-3*P],Y=g[_-2*P],X=g[_-P],Z=g[_+0],ne=g[_+P],he=g[_+2*P],xe=g[_+3*P];return 4*ua[255+X-Z]+ua[255+Y-ne]>L?0:ua[255+g[_-4*P]-W]<=q&&ua[255+W-Y]<=q&&ua[255+Y-X]<=q&&ua[255+xe-he]<=q&&ua[255+he-ne]<=q&&ua[255+ne-Z]<=q}function GA(g,_,P,L){var q=2*L+1;for(L=0;16>L;++L)zA(g,_+L,P,q)&&sc(g,_+L,P)}function io(g,_,P,L){var q=2*L+1;for(L=0;16>L;++L)zA(g,_+L*P,1,q)&&sc(g,_+L*P,1)}function Eo(g,_,P,L){var q;for(q=3;0<q;--q)GA(g,_+=4*P,P,L)}function Wy(g,_,P,L){var q;for(q=3;0<q;--q)io(g,_+=4,P,L)}function Es(g,_,P,L,q,W,Y,X){for(W=2*W+1;0<q--;){if(VA(g,_,P,W,Y))if(HA(g,_,P,X))sc(g,_,P);else{var Z=g,ne=_,he=P,xe=Z[ne-2*he],we=Z[ne-he],me=Z[ne+0],Be=Z[ne+he],ke=Z[ne+2*he],pe=27*(De=Qy[1020+3*(me-we)+Qy[1020+xe-Be]])+63>>7,Ae=18*De+63>>7,De=9*De+63>>7;Z[ne-3*he]=ji[255+Z[ne-3*he]+De],Z[ne-2*he]=ji[255+xe+Ae],Z[ne-he]=ji[255+we+pe],Z[ne+0]=ji[255+me-pe],Z[ne+he]=ji[255+Be-Ae],Z[ne+2*he]=ji[255+ke-De]}_+=L}}function ja(g,_,P,L,q,W,Y,X){for(W=2*W+1;0<q--;){if(VA(g,_,P,W,Y))if(HA(g,_,P,X))sc(g,_,P);else{var Z=g,ne=_,he=P,xe=Z[ne-he],we=Z[ne+0],me=Z[ne+he],Be=tm[112+((ke=3*(we-xe))+4>>3)],ke=tm[112+(ke+3>>3)],pe=Be+1>>1;Z[ne-2*he]=ji[255+Z[ne-2*he]+pe],Z[ne-he]=ji[255+xe+ke],Z[ne+0]=ji[255+we-Be],Z[ne+he]=ji[255+me-pe]}_+=L}}function Fd(g,_,P,L,q,W){Es(g,_,P,1,16,L,q,W)}function Ul(g,_,P,L,q,W){Es(g,_,1,P,16,L,q,W)}function Yy(g,_,P,L,q,W){var Y;for(Y=3;0<Y;--Y)ja(g,_+=4*P,P,1,16,L,q,W)}function lc(g,_,P,L,q,W){var Y;for(Y=3;0<Y;--Y)ja(g,_+=4,1,P,16,L,q,W)}function Ky(g,_,P,L,q,W,Y,X){Es(g,_,q,1,8,W,Y,X),Es(P,L,q,1,8,W,Y,X)}function Ud(g,_,P,L,q,W,Y,X){Es(g,_,1,q,8,W,Y,X),Es(P,L,1,q,8,W,Y,X)}function qd(g,_,P,L,q,W,Y,X){ja(g,_+4*q,q,1,8,W,Y,X),ja(P,L+4*q,q,1,8,W,Y,X)}function WA(g,_,P,L,q,W,Y,X){ja(g,_+4,1,q,8,W,Y,X),ja(P,L+4,1,q,8,W,Y,X)}function uc(){this.ba=new jn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function YA(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new M}function Jy(){this.xb=this.a=0,this.l=new Ut,this.ca=new jn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new YA,this.ab=0,this.gc=o(4,zd),this.Oc=0}function cc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ut,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ql(g,_,P,L,q,W,Y){for(g=g==null?0:g[_+0],_=0;_<Y;++_)q[W+_]=g+P[L+_]&255,g=q[W+_]}function Vd(g,_,P,L,q,W,Y){var X;if(g==null)ql(null,null,P,L,q,W,Y);else for(X=0;X<Y;++X)q[W+X]=g[_+X]+P[L+X]&255}function ks(g,_,P,L,q,W,Y){if(g==null)ql(null,null,P,L,q,W,Y);else{var X,Z=g[_+0],ne=Z,he=Z;for(X=0;X<Y;++X)ne=he+(Z=g[_+X])-ne,he=P[L+X]+(-256&ne?0>ne?0:255:ne)&255,ne=Z,q[W+X]=he}}function Gd(g,_,P,L){var q=_.width,W=_.o;if(e(g!=null&&_!=null),0>P||0>=L||P+L>W)return null;if(!g.Cc){if(g.ga==null){var Y;if(g.ga=new cc,(Y=g.ga==null)||(Y=_.width*_.o,e(g.Gb.length==0),g.Gb=a(Y),g.Uc=0,g.Gb==null?Y=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Y=1),Y=!Y),!Y){Y=g.ga;var X=g.Fa,Z=g.P,ne=g.qc,he=g.mb,xe=g.nb,we=Z+1,me=ne-1,Be=Y.l;if(e(X!=null&&he!=null&&_!=null),Ls[0]=null,Ls[1]=ql,Ls[2]=Vd,Ls[3]=ks,Y.ca=he,Y.tb=xe,Y.c=_.width,Y.i=_.height,e(0<Y.c&&0<Y.i),1>=ne)_=0;else if(Y.$a=X[Z+0]>>0&3,Y.Z=X[Z+0]>>2&3,Y.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Z)_=0;else if(Be.put=Zr,Be.ac=Dn,Be.bc=Ei,Be.ma=Y,Be.width=_.width,Be.height=_.height,Be.Da=_.Da,Be.v=_.v,Be.va=_.va,Be.j=_.j,Be.o=_.o,Y.$a)e:{e(Y.$a==1),_=ui();t:for(;;){if(_==null){_=0;break e}if(e(Y!=null),Y.mc=_,_.c=Y.c,_.i=Y.i,_.l=Y.l,_.l.ma=Y,_.l.width=Y.c,_.l.height=Y.i,_.a=0,V(_.m,X,we,me),!ra(Y.c,Y.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&na(_.s)?(Y.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(Y.ic=0,_=Co(_,Y.c)),!_))break t;_=1;break e}Y.mc=null,_=0}else _=me>=Y.c*Y.i;Y=!_}if(Y)return null;g.ga.Lc!=1?g.Ga=0:L=W-P}e(g.ga!=null),e(P+L<=W);e:{if(_=(X=g.ga).c,W=X.l.o,X.$a==0){if(we=g.rc,me=g.Vc,Be=g.Fa,Z=g.P+1+P*_,ne=g.mb,he=g.nb+P*_,e(Z<=g.P+g.qc),X.Z!=0)for(e(Ls[X.Z]!=null),Y=0;Y<L;++Y)Ls[X.Z](we,me,Be,Z,ne,he,_),we=ne,me=he,he+=_,Z+=_;else for(Y=0;Y<L;++Y)r(ne,he,Be,Z,_),we=ne,me=he,he+=_,Z+=_;g.rc=we,g.Vc=me}else{if(e(X.mc!=null),_=P+L,e((Y=X.mc)!=null),e(_<=Y.i),Y.C>=_)_=1;else if(X.ic||ye(),X.ic){X=Y.V,we=Y.Ba,me=Y.c;var ke=Y.i,pe=(Be=1,Z=Y.$/me,ne=Y.$%me,he=Y.m,xe=Y.s,Y.$),Ae=me*ke,De=me*_,$e=xe.wc,Re=pe<De?Rn(xe,ne,Z):null;e(pe<=Ae),e(_<=ke),e(na(xe));t:for(;;){for(;!he.h&&pe<De;){if(ne&$e||(Re=Rn(xe,ne,Z)),e(Re!=null),J(he),256>(ke=Fr(Re.G[0],Re.H[0],he)))X[we+pe]=ke,++pe,++ne>=me&&(ne=0,++Z<=_&&!(Z%16)&&Oi(Y,Z));else{if(!(280>ke)){Be=0;break t}ke=ki(ke-256,he);var tt,Je=Fr(Re.G[4],Re.H[4],he);if(J(he),!(pe>=(Je=Pi(me,Je=ki(Je,he)))&&Ae-pe>=ke)){Be=0;break t}for(tt=0;tt<ke;++tt)X[we+pe+tt]=X[we+pe+tt-Je];for(pe+=ke,ne+=ke;ne>=me;)ne-=me,++Z<=_&&!(Z%16)&&Oi(Y,Z);pe<De&&ne&$e&&(Re=Rn(xe,ne,Z))}e(he.h==Q(he))}Oi(Y,Z>_?_:Z);break t}!Be||he.h&&pe<Ae?(Be=0,Y.a=he.h?5:3):Y.$=pe,_=Be}else _=Ii(Y,Y.V,Y.Ba,Y.c,Y.i,_,bs);if(!_){L=0;break e}}P+L>=W&&(g.Cc=1),L=1}if(!L)return null;if(g.Cc&&((L=g.ga)!=null&&(L.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*q}function N(g,_,P,L,q,W){for(;0<q--;){var Y,X=g,Z=_+(P?1:0),ne=g,he=_+(P?0:3);for(Y=0;Y<L;++Y){var xe=ne[he+4*Y];xe!=255&&(xe*=32897,X[Z+4*Y+0]=X[Z+4*Y+0]*xe>>23,X[Z+4*Y+1]=X[Z+4*Y+1]*xe>>23,X[Z+4*Y+2]=X[Z+4*Y+2]*xe>>23)}_+=W}}function H(g,_,P,L,q){for(;0<L--;){var W;for(W=0;W<P;++W){var Y=g[_+2*W+0],X=15&(ne=g[_+2*W+1]),Z=4369*X,ne=(240&ne|ne>>4)*Z>>16;g[_+2*W+0]=(240&Y|Y>>4)*Z>>16&240|(15&Y|Y<<4)*Z>>16>>4&15,g[_+2*W+1]=240&ne|X}_+=q}}function oe(g,_,P,L,q,W,Y,X){var Z,ne,he=255;for(ne=0;ne<q;++ne){for(Z=0;Z<L;++Z){var xe=g[_+Z];W[Y+4*Z]=xe,he&=xe}_+=P,Y+=X}return he!=255}function ce(g,_,P,L,q){var W;for(W=0;W<q;++W)P[L+W]=g[_+W]>>8}function ye(){la=N,gn=H,vn=oe,Gn=ce}function Pe(g,_,P){I[g]=function(L,q,W,Y,X,Z,ne,he,xe,we,me,Be,ke,pe,Ae,De,$e){var Re,tt=$e-1>>1,Je=X[Z+0]|ne[he+0]<<16,mt=xe[we+0]|me[Be+0]<<16;e(L!=null);var Xe=3*Je+mt+131074>>2;for(_(L[q+0],255&Xe,Xe>>16,ke,pe),W!=null&&(Xe=3*mt+Je+131074>>2,_(W[Y+0],255&Xe,Xe>>16,Ae,De)),Re=1;Re<=tt;++Re){var Kt=X[Z+Re]|ne[he+Re]<<16,en=xe[we+Re]|me[Be+Re]<<16,Vt=Je+Kt+mt+en+524296,$t=Vt+2*(Kt+mt)>>3;Xe=$t+Je>>1,Je=(Vt=Vt+2*(Je+en)>>3)+Kt>>1,_(L[q+2*Re-1],255&Xe,Xe>>16,ke,pe+(2*Re-1)*P),_(L[q+2*Re-0],255&Je,Je>>16,ke,pe+(2*Re-0)*P),W!=null&&(Xe=Vt+mt>>1,Je=$t+en>>1,_(W[Y+2*Re-1],255&Xe,Xe>>16,Ae,De+(2*Re-1)*P),_(W[Y+2*Re+0],255&Je,Je>>16,Ae,De+(2*Re+0)*P)),Je=Kt,mt=en}1&$e||(Xe=3*Je+mt+131074>>2,_(L[q+$e-1],255&Xe,Xe>>16,ke,pe+($e-1)*P),W!=null&&(Xe=3*mt+Je+131074>>2,_(W[Y+$e-1],255&Xe,Xe>>16,Ae,De+($e-1)*P)))}}function qe(){ca[nm]=M8,ca[rm]=L_,ca[P_]=O8,ca[im]=j_,ca[am]=R_,ca[Zy]=B_,ca[M_]=I8,ca[eb]=L_,ca[tb]=j_,ca[om]=R_,ca[nb]=B_}function et(g){return g&-16384?0>g?0:255:g>>D8}function dt(g,_){return et((19077*g>>8)+(26149*_>>8)-14234)}function Nt(g,_,P){return et((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function Tt(g,_){return et((19077*g>>8)+(33050*_>>8)-17685)}function Ht(g,_,P,L,q){L[q+0]=dt(g,P),L[q+1]=Nt(g,_,P),L[q+2]=Tt(g,_)}function Ln(g,_,P,L,q){L[q+0]=Tt(g,_),L[q+1]=Nt(g,_,P),L[q+2]=dt(g,P)}function Bn(g,_,P,L,q){var W=Nt(g,_,P);_=W<<3&224|Tt(g,_)>>3,L[q+0]=248&dt(g,P)|W>>5,L[q+1]=_}function Qn(g,_,P,L,q){var W=240&Tt(g,_)|15;L[q+0]=240&dt(g,P)|Nt(g,_,P)>>4,L[q+1]=W}function Hr(g,_,P,L,q){L[q+0]=255,Ht(g,_,P,L,q+1)}function br(g,_,P,L,q){Ln(g,_,P,L,q),L[q+3]=255}function Ra(g,_,P,L,q){Ht(g,_,P,L,q),L[q+3]=255}function Li(g,_){return 0>g?0:g>_?_:g}function ao(g,_,P){I[g]=function(L,q,W,Y,X,Z,ne,he,xe){for(var we=he+(-2&xe)*P;he!=we;)_(L[q+0],W[Y+0],X[Z+0],ne,he),_(L[q+1],W[Y+0],X[Z+0],ne,he+P),q+=2,++Y,++Z,he+=2*P;1&xe&&_(L[q+0],W[Y+0],X[Z+0],ne,he)}}function KA(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function Wd(g,_,P,L,q){switch(g>>>30){case 3:Mo(_,P,L,q,0);break;case 2:Vn(_,P,L,q);break;case 1:ti(_,P,L,q)}}function Yd(g,_){var P,L,q=_.M,W=_.Nb,Y=g.oc,X=g.pc+40,Z=g.oc,ne=g.pc+584,he=g.oc,xe=g.pc+600;for(P=0;16>P;++P)Y[X+32*P-1]=129;for(P=0;8>P;++P)Z[ne+32*P-1]=129,he[xe+32*P-1]=129;for(0<q?Y[X-1-32]=Z[ne-1-32]=he[xe-1-32]=129:(i(Y,X-32-1,127,21),i(Z,ne-32-1,127,9),i(he,xe-32-1,127,9)),L=0;L<g.za;++L){var we=_.ya[_.aa+L];if(0<L){for(P=-1;16>P;++P)r(Y,X+32*P-4,Y,X+32*P+12,4);for(P=-1;8>P;++P)r(Z,ne+32*P-4,Z,ne+32*P+4,4),r(he,xe+32*P-4,he,xe+32*P+4,4)}var me=g.Gd,Be=g.Hd+L,ke=we.ad,pe=we.Hc;if(0<q&&(r(Y,X-32,me[Be].y,0,16),r(Z,ne-32,me[Be].f,0,8),r(he,xe-32,me[Be].ea,0,8)),we.Za){var Ae=Y,De=X-32+16;for(0<q&&(L>=g.za-1?i(Ae,De,me[Be].y[15],4):r(Ae,De,me[Be+1].y,0,4)),P=0;4>P;P++)Ae[De+128+P]=Ae[De+256+P]=Ae[De+384+P]=Ae[De+0+P];for(P=0;16>P;++P,pe<<=2)Ae=Y,De=X+F_[P],Ba[we.Ob[P]](Ae,De),Wd(pe,ke,16*+P,Ae,De)}else if(Ae=KA(L,q,we.Ob[0]),Ds[Ae](Y,X),pe!=0)for(P=0;16>P;++P,pe<<=2)Wd(pe,ke,16*+P,Y,X+F_[P]);for(P=we.Gc,Ae=KA(L,q,we.Dd),Io[Ae](Z,ne),Io[Ae](he,xe),pe=ke,Ae=Z,De=ne,255&(we=P>>0)&&(170&we?Zd(pe,256,Ae,De):oa(pe,256,Ae,De)),we=he,pe=xe,255&(P>>=8)&&(170&P?Zd(ke,320,we,pe):oa(ke,320,we,pe)),q<g.Ub-1&&(r(me[Be].y,0,Y,X+480,16),r(me[Be].f,0,Z,ne+224,8),r(me[Be].ea,0,he,xe+224,8)),P=8*W*g.B,me=g.sa,Be=g.ta+16*L+16*W*g.R,ke=g.qa,we=g.ra+8*L+P,pe=g.Ha,Ae=g.Ia+8*L+P,P=0;16>P;++P)r(me,Be+P*g.R,Y,X+32*P,16);for(P=0;8>P;++P)r(ke,we+P*g.B,Z,ne+32*P,8),r(pe,Ae+P*g.B,he,xe+32*P,8)}}function fc(g,_,P,L,q,W,Y,X,Z){var ne=[0],he=[0],xe=0,we=Z!=null?Z.kd:0,me=Z??new Hd;if(g==null||12>P)return 7;me.data=g,me.w=_,me.ha=P,_=[_],P=[P],me.gb=[me.gb];e:{var Be=_,ke=P,pe=me.gb;if(e(g!=null),e(ke!=null),e(pe!=null),pe[0]=0,12<=ke[0]&&!n(g,Be[0],"RIFF")){if(n(g,Be[0]+8,"WEBP")){pe=3;break e}var Ae=Ie(g,Be[0]+4);if(12>Ae||4294967286<Ae){pe=3;break e}if(we&&Ae>ke[0]-8){pe=7;break e}pe[0]=Ae,Be[0]+=12,ke[0]-=12}pe=0}if(pe!=0)return pe;for(Ae=0<me.gb[0],P=P[0];;){e:{var De=g;ke=_,pe=P;var $e=ne,Re=he,tt=Be=[0];if((Xe=xe=[xe])[0]=0,8>pe[0])pe=7;else{if(!n(De,ke[0],"VP8X")){if(Ie(De,ke[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Je=Ie(De,ke[0]+8),mt=1+fe(De,ke[0]+12);if(2147483648<=mt*(De=1+fe(De,ke[0]+15))){pe=3;break e}tt!=null&&(tt[0]=Je),$e!=null&&($e[0]=mt),Re!=null&&(Re[0]=De),ke[0]+=18,pe[0]-=18,Xe[0]=1}pe=0}}if(xe=xe[0],Be=Be[0],pe!=0)return pe;if(ke=!!(2&Be),!Ae&&xe)return 3;if(W!=null&&(W[0]=!!(16&Be)),Y!=null&&(Y[0]=ke),X!=null&&(X[0]=0),Y=ne[0],Be=he[0],xe&&ke&&Z==null){pe=0;break}if(4>P){pe=7;break}if(Ae&&xe||!Ae&&!xe&&!n(g,_[0],"ALPH")){P=[P],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Je=g,pe=_,Ae=P;var Xe=me.gb;$e=me.na,Re=me.P,tt=me.Sa,mt=22,e(Je!=null),e(Ae!=null),De=pe[0];var Kt=Ae[0];for(e($e!=null),e(tt!=null),$e[0]=null,Re[0]=null,tt[0]=0;;){if(pe[0]=De,Ae[0]=Kt,8>Kt){pe=7;break e}var en=Ie(Je,De+4);if(4294967286<en){pe=3;break e}var Vt=8+en+1&-2;if(mt+=Vt,0<Xe&&mt>Xe){pe=3;break e}if(!n(Je,De,"VP8 ")||!n(Je,De,"VP8L")){pe=0;break e}if(Kt[0]<Vt){pe=7;break e}n(Je,De,"ALPH")||($e[0]=Je,Re[0]=De+8,tt[0]=en),De+=Vt,Kt-=Vt}}if(P=P[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],pe!=0)break}P=[P],me.Ja=[me.Ja],me.xa=[me.xa];e:if(Xe=g,pe=_,Ae=P,$e=me.gb[0],Re=me.Ja,tt=me.xa,Je=pe[0],De=!n(Xe,Je,"VP8 "),mt=!n(Xe,Je,"VP8L"),e(Xe!=null),e(Ae!=null),e(Re!=null),e(tt!=null),8>Ae[0])pe=7;else{if(De||mt){if(Xe=Ie(Xe,Je+4),12<=$e&&Xe>$e-12){pe=3;break e}if(we&&Xe>Ae[0]-8){pe=7;break e}Re[0]=Xe,pe[0]+=8,Ae[0]-=8,tt[0]=mt}else tt[0]=5<=Ae[0]&&Xe[Je+0]==47&&!(Xe[Je+4]>>5),Re[0]=Ae[0];pe=0}if(P=P[0],me.Ja=me.Ja[0],me.xa=me.xa[0],_=_[0],pe!=0)break;if(4294967286<me.Ja)return 3;if(X==null||ke||(X[0]=me.xa?2:1),Y=[Y],Be=[Be],me.xa){if(5>P){pe=7;break}X=Y,we=Be,ke=W,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(Ae=[0],Xe=[0],$e=[0],V(Re=new j,g,_,P),ht(Re,Ae,Xe,$e)?(X!=null&&(X[0]=Ae[0]),we!=null&&(we[0]=Xe[0]),ke!=null&&(ke[0]=$e[0]),g=1):g=0):g=0}else{if(10>P){pe=7;break}X=Be,g==null||10>P||!ur(g,_+3,P-3)?g=0:(we=g[_+0]|g[_+1]<<8|g[_+2]<<16,ke=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=me.Ja||!ke||!g?g=0:(Y&&(Y[0]=ke),X&&(X[0]=g),g=1))}if(!g||(Y=Y[0],Be=Be[0],xe&&(ne[0]!=Y||he[0]!=Be)))return 3;Z!=null&&(Z[0]=me,Z.offset=_-Z.w,e(4294967286>_-Z.w),e(Z.offset==Z.ha-P));break}return pe==0||pe==7&&xe&&Z==null?(W!=null&&(W[0]|=me.na!=null&&0<me.na.length),L!=null&&(L[0]=Y),q!=null&&(q[0]=Be),0):pe}function Kd(g,_,P){var L=_.width,q=_.height,W=0,Y=0,X=L,Z=q;if(_.Da=g!=null&&0<g.Da,_.Da&&(X=g.cd,Z=g.bd,W=g.v,Y=g.j,11>P||(W&=-2,Y&=-2),0>W||0>Y||0>=X||0>=Z||W+X>L||Y+Z>q))return 0;if(_.v=W,_.j=Y,_.va=W+X,_.o=Y+Z,_.U=X,_.T=Z,_.da=g!=null&&0<g.da,_.da){if(!Te(X,Z,P=[g.ib],W=[g.hb]))return 0;_.ib=P[0],_.hb=W[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*q/4,_.Kb=0),1}function Jd(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function dc(g,_,P,L){if(L==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var q=P.cd,W=P.bd,Y=-2&P.v,X=-2&P.j;if(0>Y||0>X||0>=q||0>=W||Y+q>g||X+W>_)return 2;g=q,_=W}if(P.da){if(!Te(g,_,q=[P.ib],W=[P.hb]))return 2;g=q[0],_=W[0]}}L.width=g,L.height=_;e:{var Z=L.width,ne=L.height;if(g=L.S,0>=Z||0>=ne||!(g>=nm&&13>g))g=2;else{if(0>=L.Rd&&L.sd==null){Y=W=q=_=0;var he=(X=Z*U_[g])*ne;if(11>g||(W=(ne+1)/2*(_=(Z+1)/2),g==12&&(Y=(q=Z)*ne)),(ne=a(he+2*W+Y))==null){g=1;break e}L.sd=ne,11>g?((Z=L.f.RGBA).eb=ne,Z.fb=0,Z.A=X,Z.size=he):((Z=L.f.kb).y=ne,Z.O=0,Z.fa=X,Z.Fd=he,Z.f=ne,Z.N=0+he,Z.Ab=_,Z.Cd=W,Z.ea=ne,Z.W=0+he+W,Z.Db=_,Z.Ed=W,g==12&&(Z.F=ne,Z.J=0+he+2*W),Z.Tc=Y,Z.lb=q)}if(_=1,q=L.S,W=L.width,Y=L.height,q>=nm&&13>q)if(11>q)g=L.f.RGBA,_&=(X=Math.abs(g.A))*(Y-1)+W<=g.size,_&=X>=W*U_[q],_&=g.eb!=null;else{g=L.f.kb,X=(W+1)/2,he=(Y+1)/2,Z=Math.abs(g.fa),ne=Math.abs(g.Ab);var xe=Math.abs(g.Db),we=Math.abs(g.lb),me=we*(Y-1)+W;_&=Z*(Y-1)+W<=g.Fd,_&=ne*(he-1)+X<=g.Cd,_=(_&=xe*(he-1)+X<=g.Ed)&Z>=W&ne>=X&xe>=X,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,q==12&&(_&=we>=W,_&=me<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=Jd(L)),g}var Pr=64,hc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pc=24,Ac=32,Xd=8,fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(g){return g},I.Predictor2=function(g,_,P){return _[P+0]},I.Predictor3=function(g,_,P){return _[P+1]},I.Predictor4=function(g,_,P){return _[P-1]},I.Predictor5=function(g,_,P){return Ue(Ue(g,_[P+1]),_[P+0])},I.Predictor6=function(g,_,P){return Ue(g,_[P-1])},I.Predictor7=function(g,_,P){return Ue(g,_[P+0])},I.Predictor8=function(g,_,P){return Ue(_[P-1],_[P+0])},I.Predictor9=function(g,_,P){return Ue(_[P+0],_[P+1])},I.Predictor10=function(g,_,P){return Ue(Ue(g,_[P-1]),Ue(_[P+0],_[P+1]))},I.Predictor11=function(g,_,P){var L=_[P+0];return 0>=Oe(L>>24&255,g>>24&255,(_=_[P-1])>>24&255)+Oe(L>>16&255,g>>16&255,_>>16&255)+Oe(L>>8&255,g>>8&255,_>>8&255)+Oe(255&L,255&g,255&_)?L:g},I.Predictor12=function(g,_,P){var L=_[P+0];return(ge((g>>24&255)+(L>>24&255)-((_=_[P-1])>>24&255))<<24|ge((g>>16&255)+(L>>16&255)-(_>>16&255))<<16|ge((g>>8&255)+(L>>8&255)-(_>>8&255))<<8|ge((255&g)+(255&L)-(255&_)))>>>0},I.Predictor13=function(g,_,P){var L=_[P-1];return(Le((g=Ue(g,_[P+0]))>>24&255,L>>24&255)<<24|Le(g>>16&255,L>>16&255)<<16|Le(g>>8&255,L>>8&255)<<8|Le(g>>0&255,L>>0&255))>>>0};var Xy=I.PredictorAdd0;I.PredictorAdd1=Qe,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var Qd=I.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var JA,aa=I.ColorIndexInverseTransform,mc=I.MapARGB,XA=I.VP8LColorIndexInverseTransformAlpha,QA=I.MapAlpha,Ps=I.VP8LPredictorsAdd=[];Ps.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Hl,di,ei,Ms,ko,Po,gc,Mo,Vn,Zd,ti,oa,vc,ZA,eh,zl,Vl,Os,Gl,yc,Wl,Is,th,sa,la,gn,vn,Gn,cr=a(511),Oo=a(2041),nh=a(225),bc=a(767),em=0,Qy=Oo,tm=nh,ji=bc,ua=cr,nm=0,rm=1,P_=2,im=3,am=4,Zy=5,M_=6,eb=7,tb=8,om=9,nb=10,g8=[2,3,7],v8=[3,3,11],O_=[280,256,256,256,40],y8=[0,1,1,1,0],b8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],x8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],w8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],S8=8,rb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ib=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rh=null,_8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],T8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],I_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],C8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],N8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],E8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],k8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ds=[],Ba=[],Io=[],P8=1,D_=2,Ls=[],ca=[];Pe("UpsampleRgbLinePair",Ht,3),Pe("UpsampleBgrLinePair",Ln,3),Pe("UpsampleRgbaLinePair",Ra,4),Pe("UpsampleBgraLinePair",br,4),Pe("UpsampleArgbLinePair",Hr,4),Pe("UpsampleRgba4444LinePair",Qn,2),Pe("UpsampleRgb565LinePair",Bn,2);var M8=I.UpsampleRgbLinePair,O8=I.UpsampleBgrLinePair,L_=I.UpsampleRgbaLinePair,j_=I.UpsampleBgraLinePair,R_=I.UpsampleArgbLinePair,B_=I.UpsampleRgba4444LinePair,I8=I.UpsampleRgb565LinePair,sm=16,lm=1<<sm-1,ih=-227,ab=482,D8=6,$_=0,L8=a(256),j8=a(256),R8=a(256),B8=a(256),$8=a(ab-ih),F8=a(ab-ih);ao("YuvToRgbRow",Ht,3),ao("YuvToBgrRow",Ln,3),ao("YuvToRgbaRow",Ra,4),ao("YuvToBgraRow",br,4),ao("YuvToArgbRow",Hr,4),ao("YuvToRgba4444Row",Qn,2),ao("YuvToRgb565Row",Bn,2);var F_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],um=[0,2,8],U8=[8,7,6,4,4,2,2,2,1,1,1,1],q8=1;this.WebPDecodeRGBA=function(g,_,P,L,q){var W=rm,Y=new uc,X=new jn;Y.ba=X,X.S=W,X.width=[X.width],X.height=[X.height];var Z=X.width,ne=X.height,he=new Br;if(he==null||g==null)var xe=2;else e(he!=null),xe=fc(g,_,P,he.width,he.height,he.Pd,he.Qd,he.format,null);if(xe!=0?Z=0:(Z!=null&&(Z[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),q!=null&&(q[0]=X.height);e:{if(L=new Ut,(q=new Hd).data=g,q.w=_,q.ha=P,q.kd=1,_=[0],e(q!=null),((g=fc(q.data,q.w,q.ha,null,null,null,_,null,q))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(Y!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=Zr,L.ac=Dn,L.bc=Ei,L.ma=Y,q.xa){if((g=ui())==null){Y=1;break e}if(function(we,me){var Be=[0],ke=[0],pe=[0];t:for(;;){if(we==null)return 0;if(me==null)return we.a=2,0;if(we.l=me,we.a=0,V(we.m,me.data,me.w,me.ha),!ht(we.m,Be,ke,pe)){we.a=3;break t}if(we.xb=D_,me.width=Be[0],me.height=ke[0],!ra(Be[0],ke[0],1,we,null))break t;return 1}return e(we.a!=0),0}(g,L)){if(L=(_=dc(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=g;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((P=L.l)!=null),e((q=P.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,e(L.ca!=null),!Kd(q.Oa,P,im)){L.a=2;break n}if(!Co(L,P.width)||P.da)break n;if((P.da||rt(L.ca.S))&&ye(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&ye()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Fe(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Ii(L,L.V,L.Ba,L.c,L.i,P.o,ys))break n;q.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=g.a)}else _=g.a}else{if((g=new ft)==null){Y=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,Ur(g,L)){if((_=dc(L.width,L.height,Y.Oa,Y.ba))==0){if(g.Aa=0,P=Y.Oa,e((q=g)!=null),P!=null){if(0<(Z=0>(Z=P.Md)?0:100<Z?255:255*Z/100)){for(ne=he=0;4>ne;++ne)12>(xe=q.pb[ne]).lc&&(xe.ia=Z*U8[0>xe.lc?0:xe.lc]>>3),he|=xe.ia;he&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Dd(g,L)||(_=g.a)}}else _=g.a}_==0&&Y.Oa!=null&&Y.Oa.fd&&(_=Jd(Y.ba))}Y=_}W=Y!=0?null:11>W?X.f.RGBA.eb:X.f.kb.y}else W=null;return W};var U_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,D){for(var $="",O=0;O<4;O++)$+=String.fromCharCode(I[D++]);return $}function c(I,D){return(I[D+0]<<0|I[D+1]<<8|I[D+2]<<16)>>>0}function f(I,D){return(I[D+0]<<0|I[D+1]<<8|I[D+2]<<16|I[D+3]<<24)>>>0}new l;var h=[0],A=[0],v=[],b=new l,w=t,y=function(I,D){var $={},O=0,M=!1,B=0,F=0;if($.frames=[],!function(z,Q,te,J){for(var se=0;se<J;se++)if(z[Q+se]!=te.charCodeAt(se))return!0;return!1}(I,D,"RIFF",4)){var G,R;for(f(I,D+=4),D+=8;D<I.length;){var U=u(I,D),V=f(I,D+=4);D+=4;var K=V+(1&V);switch(U){case"VP8 ":case"VP8L":$.frames[O]===void 0&&($.frames[O]={}),(j=$.frames[O]).src_off=M?F:D-8,j.src_size=B+V+8,O++,M&&(M=!1,B=0,F=0);break;case"VP8X":(j=$.header={}).feature_flags=I[D];var ee=D+4;j.canvas_width=1+c(I,ee),ee+=3,j.canvas_height=1+c(I,ee),ee+=3;break;case"ALPH":M=!0,B=K+8,F=D-8;break;case"ANIM":(j=$.header).bgcolor=f(I,D),ee=D+4,j.loop_count=(G=I)[(R=ee)+0]<<0|G[R+1]<<8,ee+=2;break;case"ANMF":var le,j;(j=$.frames[O]={}).offset_x=2*c(I,D),D+=3,j.offset_y=2*c(I,D),D+=3,j.width=1+c(I,D),D+=3,j.height=1+c(I,D),D+=3,j.duration=c(I,D),D+=3,le=I[D++],j.dispose=1&le,j.blend=le>>1&1}U!="ANMF"&&(D+=K)}return $}}(w,0);y.response=w,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],A=[x.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],k=b.WebPDecodeRGBA(w,C.src_off,C.src_size,A,h);C.rgba=k,C.imgwidth=A[0],C.imgheight=h[0];for(var E=0;E<A[0]*h[0]*4;E++)v[E]=k[E];return this.width=A,this.height=h,this.data=v,this}(function(t){var e=function(){return typeof l2=="function"},n=function(h,A,v,b){var w=4,y=o;switch(b){case t.image_compression.FAST:w=1,y=a;break;case t.image_compression.MEDIUM:w=6,y=s;break;case t.image_compression.SLOW:w=9,y=l}h=r(h,A,v,y);var x=l2(h,{level:w});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(h,A,v,b){for(var w,y,x,S=h.length/A,T=new Uint8Array(h.length+S),C=c(),k=0;k<S;k+=1){if(x=k*A,w=h.subarray(x,x+A),b)T.set(b(w,v,y),x+k);else{for(var E,I=C.length,D=[];E<I;E+=1)D[E]=C[E](w,v,y);var $=f(D.concat());T.set(D[$],x+k)}y=w}return T},i=function(h){var A=Array.apply([],h);return A.unshift(0),A},a=function(h,A){var v,b=[],w=h.length;b[0]=1;for(var y=0;y<w;y+=1)v=h[y-A]||0,b[y+1]=h[y]-v+256&255;return b},o=function(h,A,v){var b,w=[],y=h.length;w[0]=2;for(var x=0;x<y;x+=1)b=v&&v[x]||0,w[x+1]=h[x]-b+256&255;return w},s=function(h,A,v){var b,w,y=[],x=h.length;y[0]=3;for(var S=0;S<x;S+=1)b=h[S-A]||0,w=v&&v[S]||0,y[S+1]=h[S]+256-(b+w>>>1)&255;return y},l=function(h,A,v){var b,w,y,x,S=[],T=h.length;S[0]=4;for(var C=0;C<T;C+=1)b=h[C-A]||0,w=v&&v[C]||0,y=v&&v[C-A]||0,x=u(b,w,y),S[C+1]=h[C]-x+256&255;return S},u=function(h,A,v){if(h===A&&A===v)return h;var b=Math.abs(A-v),w=Math.abs(h-v),y=Math.abs(h+A-v-v);return b<=w&&b<=y?h:w<=y?A:v},c=function(){return[i,a,o,s,l]},f=function(h){var A=h.map(function(v){return v.reduce(function(b,w){return b+Math.abs(w)},0)});return A.indexOf(Math.min.apply(null,A))};t.processPNG=function(h,A,v,b){var w,y,x,S,T,C,k,E,I,D,$,O,M,B,F,G=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(x=new JK(h)).imgData,y=x.bits,w=x.colorSpace,T=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){I=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,$=new Uint8Array(I*x.colors),D=new Uint8Array(I);var U,V=x.pixelBitlength-x.bits;for(B=0,F=0;B<I;B++){for(M=E[B],U=0;U<V;)$[F++]=M>>>U&255,U+=x.bits;D[B]=M>>>U&255}}if(x.bits===16){I=(E=new Uint32Array(x.decodePixels().buffer)).length,$=new Uint8Array(I*(32/x.pixelBitlength)*x.colors),D=new Uint8Array(I*(32/x.pixelBitlength)),O=x.colors>1,B=0,F=0;for(var K=0;B<I;)M=E[B++],$[F++]=M>>>0&255,O&&($[F++]=M>>>16&255,M=E[B++],$[F++]=M>>>0&255),D[K++]=M>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(h=n($,x.width*x.colors,x.colors,b),k=n(D,x.width,1,b)):(h=$,k=D,G=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,C=x.palette,x.transparency.indexed)){var ee=x.transparency.indexed,le=0;for(B=0,I=ee.length;B<I;++B)le+=ee[B];if((le/=255)===I-1&&ee.indexOf(0)!==-1)S=[ee.indexOf(0)];else if(le!==I){for(E=x.decodePixels(),D=new Uint8Array(E.length),B=0,I=E.length;B<I;B++)D[B]=ee[E[B]];k=n(D,x.width,1)}}var j=function(z){var Q;switch(z){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(b);return G===this.decode.FLATE_DECODE&&(R="/Predictor "+j+" "),R+="/Colors "+T+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:h,index:A,filter:G,decodeParameters:R,transparency:S,palette:C,sMask:k,predictor:j,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:w}}}})(At.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new XK(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new u1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(At.API),qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){pn.log("bit decode error:"+n)}},qa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},qa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},qa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},qa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},qa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},qa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},qa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},qa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new qa(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new u1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(At.API),xE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new xE(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new u1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(At.API),At.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],h=r[u+2],A=r[u+3];a[s++]=c,a[s++]=f,a[s++]=h,o[l++]=A}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ec=At.API,Hm=Ec.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,A=t.length,v=0,b=s[0]||l,w=[];for(n=0;n<A;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=f&&on(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,w.push((s[r]||b)/l+h)),v=r;return w},gE=Ec.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ec.processArabic&&(t=Ec.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Hm.apply(this,arguments).reduce(function(a,o){return a+o},0)},vE=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},yE=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],h=n.textIndent||0,A=0,v=0,b=t.split(" "),w=Hm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];b.map(function(T){(T=T.split(/\s*\n/)).length>1?x=x.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):x.push(T[0])}),b=x,l=gE.apply(this,[y,n])}for(a=0,o=b.length;a<o;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+A+(v=(i=Hm.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||S){if(v>e){for(s=vE.apply(this,[r,i,e-(h+A),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];f.push(c),h=v+l,A=w}else c.push(r),h+=A+v,A=w}return u=l?function(T,C){return(C?y:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},Ec.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(yE.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,A,v,b,w=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?A="'"+y+"'":(y=parseInt(y,10),A=(A=a(y).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof h=="number")h<0?(v=a(h).slice(3),b="-"):(v=a(h).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(on(h)!=="object")throw new Error("Don't know what to do with value type "+on(h)+".");v=o(h)}w.push(A+v)}return w.push("}"),w.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,A,v,b,w={},y=1,x=w,S=[],T="",C="",k=f.length-1,E=1;E<k;E+=1)(b=f[E])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(S.push([x,v]),x={},v=void 0):b=="}"?((A=S.pop())[0][A[1]]=x,v=void 0,x=A[0]):b=="-"?y=-1:v===void 0?n.hasOwnProperty(b)?(T+=n[b],v=parseInt(T,16)*y,y=1,T=""):T+=b:n.hasOwnProperty(b)?(C+=n[b],x[v]=parseInt(C,16)*y,y=1,v=void 0,C=""):C+=b;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,A=c.Unicode[h.postScriptName];A&&(h.metadata.Unicode={},h.metadata.Unicode.widths=A.widths,h.metadata.Unicode.kerning=A.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(At.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(Zh(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(At),function(t){function e(){return(yt.canvg?Promise.resolve(yt.canvg):Nl(()=>import("./index.es-Bjy6q-d-.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}At.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return e().then(function(v){return v.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),At.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},At.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function h(v,b){var w,y=!1;for(w=0;w<v.length;w+=1)v[w]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=s.length;for(f=0;f<A;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(on(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(a).sort(function(A,v){return A-v})).length;f<h;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),A="",v=0;v<h.length;v++)A+=String.fromCharCode(h[v]);var b=u();c({data:A,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+qc(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+qc(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+qc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",A=0;A<f.length;A++)h+=String.fromCharCode(f[A]);var v=u();c({data:h,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+qc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+qc(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,A=f.activeFontKey,v=f.fonts,b=A,w="",y=0,x="",S=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(x=s,b=A,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?w+=x[y]:w+="";var T="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?T=h(w,b).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=n(w,v[b])),f.isHex=!0,{text:T,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var T=function(O){var M=O.charCodeAt(),B=M>>8,F=b[B];return F!==void 0?f[256*F+(255&M)]:B===252||B===253?"AL":y.test(B)?"L":B===8?"R":"N"},C=function(O){for(var M,B=0;B<O.length;B++){if((M=T(O.charAt(B)))==="L")return!1;if(M==="R")return!0}return!1},k=function(O,M,B,F){var G,R,U,V,K=M[F];switch(K){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(K="AN");break;case"AL":x=!0,K="R";break;case"WS":K="N";break;case"CS":F<1||F+1>=M.length||(G=B[F-1])!=="EN"&&G!=="AN"||(R=M[F+1])!=="EN"&&R!=="AN"?K="N":x&&(R="AN"),K=R===G?R:"N";break;case"ES":K=(G=F>0?B[F-1]:"B")==="EN"&&F+1<M.length&&M[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&B[F-1]==="EN"){K="EN";break}if(x){K="N";break}for(U=F+1,V=M.length;U<V&&M[U]==="ET";)U++;K=U<V&&M[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(V=M.length,U=F+1;U<V&&M[U]==="NSM";)U++;if(U<V){var ee=O[F],le=ee>=1425&&ee<=2303||ee===64286;if(G=M[U],le&&(G==="R"||G==="AL")){K="R";break}}}K=F<1||(G=M[F-1])==="B"?"N":B[F-1];break;case"B":x=!1,i=!0,K=S;break;case"S":a=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":K="N"}return K},E=function(O,M,B){var F=O.split("");return B&&I(F,B,{hiLevel:S}),F.reverse(),M&&M.reverse(),F.join("")},I=function(O,M,B){var F,G,R,U,V,K=-1,ee=O.length,le=0,j=[],z=S?A:h,Q=[];for(x=!1,i=!1,a=!1,G=0;G<ee;G++)Q[G]=T(O[G]);for(R=0;R<ee;R++){if(V=le,j[R]=k(O,Q,j,R),F=240&(le=z[V][v[j[R]]]),le&=15,M[R]=U=z[le][5],F>0)if(F===16){for(G=K;G<R;G++)M[G]=1;K=-1}else K=-1;if(z[le][6])K===-1&&(K=R);else if(K>-1){for(G=K;G<R;G++)M[G]=U;K=-1}Q[R]==="B"&&(M[R]=0),B.hiLevel|=U}a&&function(te,J,se){for(var ue=0;ue<se;ue++)if(te[ue]==="S"){J[ue]=S;for(var ie=ue-1;ie>=0&&te[ie]==="WS";ie--)J[ie]=S}}(Q,M,ee)},D=function(O,M,B,F,G){if(!(G.hiLevel<O)){if(O===1&&S===1&&!i)return M.reverse(),void(B&&B.reverse());for(var R,U,V,K,ee=M.length,le=0;le<ee;){if(F[le]>=O){for(V=le+1;V<ee&&F[V]>=O;)V++;for(K=le,U=V-1;K<U;K++,U--)R=M[K],M[K]=M[U],M[U]=R,B&&(R=B[K],B[K]=B[U],B[U]=R);le=V}le++}}},$=function(O,M,B){var F=O.split(""),G={hiLevel:S};return B||(B=[]),I(F,B,G),function(R,U,V){if(V.hiLevel!==0&&c)for(var K,ee=0;ee<R.length;ee++)U[ee]===1&&(K=w.indexOf(R[ee]))>=0&&(R[ee]=w[K+1])}(F,B,G),D(2,F,M,B,G),D(1,F,M,B,G),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,B){if(function(G,R){if(R)for(var U=0;U<G.length;U++)R[U]=U;s===void 0&&(s=C(G)),u===void 0&&(u=C(G))}(O,M),o||!l||u)if(o&&l&&s^u)S=s?1:0,O=E(O,M,B);else if(!o&&l&&u)S=s?1:0,O=$(O,M,B),O=E(O,M);else if(!o||s||l||u){if(o&&!l&&s^u)O=E(O,M),s?(S=0,O=$(O,M,B)):(S=1,O=$(O,M,B),O=E(O,M));else if(o&&s&&!l&&u)S=1,O=$(O,M,B),O=E(O,M);else if(!o&&!l&&s^u){var F=c;s?(S=1,O=$(O,M,B),S=0,c=!1,O=$(O,M,B),c=F):(S=0,O=$(O,M,B),O=E(O,M),S=1,c=!1,O=$(O,M,B),c=F,O=E(O,M))}}else S=0,O=$(O,M,B);else S=s?1:0,O=$(O,M,B);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new kl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new dJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new QK(this.contents),this.head=new eJ(this),this.name=new aJ(this),this.cmap=new XI(this),this.toUnicode={},this.hhea=new tJ(this),this.maxp=new oJ(this),this.hmtx=new sJ(this),this.post=new rJ(this),this.os2=new nJ(this),this.loca=new fJ(this),this.glyf=new lJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var eo,kl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),QK=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,h,A,v,b;for(b in A=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(A)/l),o=Math.floor(f/l),c=16*A-f,(i=new kl).writeInt(this.scalarType),i.writeShort(A),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*A,u=i.pos+a,s=null,v=[],n)for(h=n[b],i.writeString(b),i.writeInt(t(h)),i.writeInt(u),i.writeInt(h.length),v=v.concat(h),b==="head"&&(s=u),u+=h.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=QI.call(n);n.length%4;)n.push(0);for(a=new kl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),ZK={}.hasOwnProperty,So=function(t,e){for(var n in e)ZK.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};eo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var eJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),wE=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,h,A,v,b,w,y,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(A=e.readUInt16(),h=A/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,b=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=y=0,S=a.length;y<S;l=++y)for(w=a[l],r=x=v=b[l];v<=w?x<=w:x>=w;r=v<=w?++x:--x)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,A,v,b,w,y,x,S,T,C,k,E,I,D,$,O,M,B,F,G,R,U,V,K,ee,le,j,z,Q,te,J,se,ue,ie,be,Se,fe;switch(F=new kl,o=Object.keys(e).sort(function(Ie,Fe){return Ie-Fe}),n){case"macroman":for(b=0,w=function(){var Ie=[];for(v=0;v<256;++v)Ie.push(0);return Ie}(),x={0:0},a={},G=0,K=o.length;G<K;G++)x[ie=e[i=o[G]]]==null&&(x[ie]=++b),a[i]={old:e[i],new:x[e[i]]},w[i]=x[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(w),{charMap:a,subtable:F.data,maxGlyphID:b+1};case"unicode":for(M=[],f=[],S=0,x={},r={},y=u=null,R=0,ee=o.length;R<ee;R++)x[C=e[i=o[R]]]==null&&(x[C]=++S),r[i]={old:C,new:x[C]},s=x[C]-i,y!=null&&s===u||(y&&f.push(y),M.push(i),u=s),y=i;for(y&&f.push(y),f.push(65535),M.push(65535),$=2*(D=M.length),I=2*Math.pow(Math.log(D)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,E=2*D-I,l=[],k=[],A=[],v=U=0,le=M.length;U<le;v=++U){if(O=M[v],c=f[v],O===65535){l.push(0),k.push(0);break}if(O-(B=r[O].new)>=32768)for(l.push(0),k.push(2*(A.length+D-v)),i=V=O;O<=c?V<=c:V>=c;i=O<=c?++V:--V)A.push(r[i].new);else l.push(B-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*D+2*A.length),F.writeUInt16(0),F.writeUInt16($),F.writeUInt16(I),F.writeUInt16(h),F.writeUInt16(E),se=0,j=f.length;se<j;se++)i=f[se],F.writeUInt16(i);for(F.writeUInt16(0),ue=0,z=M.length;ue<z;ue++)i=M[ue],F.writeUInt16(i);for(be=0,Q=l.length;be<Q;be++)s=l[be],F.writeUInt16(s);for(Se=0,te=k.length;Se<te;Se++)T=k[Se],F.writeUInt16(T);for(fe=0,J=A.length;fe<J;fe++)b=A[fe],F.writeUInt16(b);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},t}(),XI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new wE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=wE.encode(n,r),(a=new kl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),tJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),nJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),rJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),iJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,h,A;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,h=i.length;f<h;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new iJ(c,a),u[A=a.nameID]==null&&(u[A]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),oJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),sJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,h,A;for(A=[],c=0,f=(h=this.metrics).length;c<f;c++)o=h[c],A.push(o.advance);return A}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),QI=[].slice,lJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new kl(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new cJ(l,c,h,u,f):new uJ(l,s,c,h,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),uJ=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),cJ=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new kl(QI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),fJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,eo),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),dJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,A,v,b,w,y;for(i in r=XI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),A={0:0},y=r.charMap)A[(l=y[i]).old]=l.new;for(v in h=r.maxGlyphID,o)v in A||(A[v]=h++);return c=function(x){var S,T;for(S in T={},x)T[x[S]]=S;return T}(A),f=Object.keys(c).sort(function(x,S){return x-S}),b=function(){var x,S,T;for(T=[],x=0,S=f.length;x<S;x++)s=f[x],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,b,A),u=this.font.loca.encode(a.offsets,b),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const hJ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:zK,AcroFormAppearance:at,AcroFormButton:pr,AcroFormCheckBox:np,AcroFormChoiceField:Su,AcroFormComboBox:Tu,AcroFormEditBox:ep,AcroFormListBox:_u,AcroFormPasswordField:rp,AcroFormPushButton:tp,AcroFormRadioButton:Cu,AcroFormTextField:bl,GState:Ep,ShadingPattern:el,TilingPattern:du,default:At,jsPDF:At},Symbol.toStringTag,{value:"Module"}));var ZI={exports:{}};const pJ=UP(hJ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return pJ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof mr<"u"?mr:typeof window<"u"?window:typeof self<"u"?self:mr,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var h=function(A,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(b[y]=w[y])},h(A,v)};return function(A,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(A,v);function b(){this.constructor=A}A.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(A,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=A.getDocument()}return h}();l.HookData=c;var f=function(h){u(A,h);function A(v,b,w,y,x,S){var T=h.call(this,v,b,S)||this;return T.cell=w,T.row=y,T.column=x,T.section=y.section,T}return A}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),h=u(744),A=u(776),v=u(664),b=u(972);function w(y){y.API.autoTable=function(){for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];var T;x.length===1?T=x[0]:(console.error("Use of deprecated autoTable initiation"),T=x[2]||{},T.columns=x[0],T.body=x[1]);var C=(0,A.parseInput)(this,T),k=(0,b.createTable)(this,C);return(0,v.drawTable)(this,k),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(x,S,T,C){(0,f.default)(x,S,T,C,this)},y.API.autoTableSetDefaults=function(x){return h.DocHandler.setDefaults(x,this),this},y.autoTableSetDefaults=function(x,S){h.DocHandler.setDefaults(x,S)},y.API.autoTableHtmlToJson=function(x,S){var T;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),k=(0,c.parseHtml)(C,x,window,S,!1),E=k.head,I=k.body,D=((T=E[0])===null||T===void 0?void 0:T.map(function($){return $.content}))||[];return{columns:D,rows:I,data:I}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},y.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=x,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,h,A,v){A=A||{};var b=1.15,w=v.internal.scaleFactor,y=v.internal.getFontSize()/w,x=v.getLineHeightFactor?v.getLineHeightFactor():b,S=y*x,T=/\r\n|\r|\n/g,C="",k=1;if((A.valign==="middle"||A.valign==="bottom"||A.halign==="center"||A.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),h+=y*(2-b),A.valign==="middle"?h-=k/2*S:A.valign==="bottom"&&(h-=k*S),A.halign==="center"||A.halign==="right"){var E=y;if(A.halign==="center"&&(E*=.5),C&&k>=1){for(var I=0;I<C.length;I++)v.text(C[I],f-v.getStringUnitWidth(C[I])*E,h),h+=S;return v}f-=v.getStringUnitWidth(c)*E}return A.halign==="justify"?v.text(c,f,h,{maxWidth:A.maxWidth||100,align:"justify"}):v.text(c,f,h),v}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(v,b,w){w.applyStyles(b,!0);var y=Array.isArray(v)?v:[v],x=y.map(function(S){return w.getTextWidth(S)}).reduce(function(S,T){return Math.max(S,T)},0);return x}l.getStringWidth=u;function c(v,b,w,y){var x=b.settings.tableLineWidth,S=b.settings.tableLineColor;v.applyStyles({lineWidth:x,lineColor:S});var T=f(x,!1);T&&v.rect(w.x,w.y,b.getWidth(v.pageSize().width),y.y-w.y,T)}l.addTableBorder=c;function f(v,b){var w=v>0,y=b||b===0;return w&&y?"DF":w?"S":y?"F":null}l.getFillStyle=f;function h(v,b){var w,y,x,S;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(w=v.left)!==null&&w!==void 0?w:b,top:(y=v.top)!==null&&y!==void 0?y:b,right:(x=v.right)!==null&&x!==void 0?x:b,bottom:(S=v.bottom)!==null&&S!==void 0?S:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=h;function A(v,b){var w=h(b.settings.margin,0);return v.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=A},796:function(s,l){var u=this&&this.__extends||function(){var A=function(v,b){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,y){w.__proto__=y}||function(w,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(w[x]=y[x])},A(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");A(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(A){u(v,A);function v(b){var w=A.call(this)||this;return w._element=b,w}return v}(Array);l.HtmlRowInput=c;function f(A){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/A,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(A){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[A]}l.getTheme=h},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(w,y,x,S,T){var C={},k=1.3333333333333333,E=A(y,function(K){return T.getComputedStyle(K).backgroundColor});E!=null&&(C.fillColor=E);var I=A(y,function(K){return T.getComputedStyle(K).color});I!=null&&(C.textColor=I);var D=b(S,x);D&&(C.cellPadding=D);var $="borderTopColor",O=k*x,M=S.borderTopWidth;if(S.borderBottomWidth===M&&S.borderRightWidth===M&&S.borderLeftWidth===M){var B=(parseFloat(M)||0)/O;B&&(C.lineWidth=B)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/O,right:(parseFloat(S.borderRightWidth)||0)/O,bottom:(parseFloat(S.borderBottomWidth)||0)/O,left:(parseFloat(S.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?$="borderRightColor":C.lineWidth.bottom?$="borderBottomColor":C.lineWidth.left&&($="borderLeftColor"));var F=A(y,function(K){return T.getComputedStyle(K)[$]});F!=null&&(C.lineColor=F);var G=["left","right","center","justify"];G.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),G=["middle","bottom","top"],G.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var R=parseInt(S.fontSize||"");isNaN(R)||(C.fontSize=R/k);var U=h(S);U&&(C.fontStyle=U);var V=(S.fontFamily||"").toLowerCase();return w.indexOf(V)!==-1&&(C.font=V),C}l.parseCss=f;function h(w){var y="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(y="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(y+="italic"),y}function A(w,y){var x=v(w,y);if(!x)return null;var S=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var T=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function v(w,y){var x=y(w);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?w.parentElement==null?null:v(w.parentElement,y):x}function b(w,y){var x=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],S=96/(72/y),T=(parseInt(w.lineHeight)-parseInt(w.fontSize))/y/2,C=x.map(function(E){return parseInt(E||"0")/S}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,A){A===void 0&&(A=null),A?A.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,A){var v,b,w;A===void 0&&(A=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var y=this.jsPDFDocument.internal.getFont(),x=y.fontStyle,S=y.fontName;if(h.font&&(S=h.font),h.fontStyle){x=h.fontStyle;var T=this.getFontList()[S];T&&T.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),x=T[0])}if(this.jsPDFDocument.setFont(S,x),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!A){var C=f.unifyColor(h.fillColor);C&&(v=this.jsPDFDocument).setFillColor.apply(v,C),C=f.unifyColor(h.textColor),C&&(b=this.jsPDFDocument).setTextColor.apply(b,C),C=f.unifyColor(h.lineColor),C&&(w=this.jsPDFDocument).setDrawColor.apply(w,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,A,v){return this.jsPDFDocument.splitTextToSize(h,A,v)},f.prototype.rect=function(h,A,v,b,w){return this.jsPDFDocument.rect(h,A,v,b,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function h(b,w,y,x,S){var T,C;x===void 0&&(x=!1),S===void 0&&(S=!1);var k;typeof w=="string"?k=y.document.querySelector(w):k=w;var E=Object.keys(b.getFontList()),I=b.scaleFactor(),D=[],$=[],O=[];if(!k)return console.error("Html table could not be found with input: ",w),{head:D,body:$,foot:O};for(var M=0;M<k.rows.length;M++){var B=k.rows[M],F=(C=(T=B==null?void 0:B.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),G=A(E,I,y,B,x,S);G&&(F==="thead"?D.push(G):F==="tfoot"?O.push(G):$.push(G))}return{head:D,body:$,foot:O}}l.parseHtml=h;function A(b,w,y,x,S,T){for(var C=new f.HtmlRowInput(x),k=0;k<x.cells.length;k++){var E=x.cells[k],I=y.getComputedStyle(E);if(S||I.display!=="none"){var D=void 0;T&&(D=(0,c.parseCss)(b,E,w,I,y)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:D,_element:E,content:v(E)})}}var $=y.getComputedStyle(x);if(C.length>0&&(S||$.display!=="none"))return C}function v(b){var w=b.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),h=u(420),A=u(744),v=u(792);function b(k,E){var I=new A.DocHandler(k),D=I.getDocumentOptions(),$=I.getGlobalOptions();(0,v.default)(I,$,D,E);var O=(0,f.assign)({},$,D,E),M;typeof window<"u"&&(M=window);var B=w($,D,E),F=y($,D,E),G=x(I,O),R=T(I,O,M);return{id:E.tableId,content:R,hooks:F,styles:B,settings:G}}l.parseInput=b;function w(k,E,I){for(var D={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},$=function(F){if(F==="columnStyles"){var G=k[F],R=E[F],U=I[F];D.columnStyles=(0,f.assign)({},G,R,U)}else{var V=[k,E,I],K=V.map(function(ee){return ee[F]||{}});D[F]=(0,f.assign)({},K[0],K[1],K[2])}},O=0,M=Object.keys(D);O<M.length;O++){var B=M[O];$(B)}return D}function y(k,E,I){for(var D=[k,E,I],$={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,M=D;O<M.length;O++){var B=M[O];B.didParseCell&&$.didParseCell.push(B.didParseCell),B.willDrawCell&&$.willDrawCell.push(B.willDrawCell),B.didDrawCell&&$.didDrawCell.push(B.didDrawCell),B.willDrawPage&&$.willDrawPage.push(B.willDrawPage),B.didDrawPage&&$.didDrawPage.push(B.didDrawPage)}return $}function x(k,E){var I,D,$,O,M,B,F,G,R,U,V,K,ee=(0,h.parseSpacing)(E.margin,40/k.scaleFactor()),le=(I=S(k,E.startY))!==null&&I!==void 0?I:ee.top,j;E.showFoot===!0?j="everyPage":E.showFoot===!1?j="never":j=(D=E.showFoot)!==null&&D!==void 0?D:"everyPage";var z;E.showHead===!0?z="everyPage":E.showHead===!1?z="never":z=($=E.showHead)!==null&&$!==void 0?$:"everyPage";var Q=(O=E.useCss)!==null&&O!==void 0?O:!1,te=E.theme||(Q?"plain":"striped"),J=!!E.horizontalPageBreak,se=(M=E.horizontalPageBreakRepeat)!==null&&M!==void 0?M:null;return{includeHiddenHtml:(B=E.includeHiddenHtml)!==null&&B!==void 0?B:!1,useCss:Q,theme:te,startY:le,margin:ee,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(G=E.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:z,showFoot:j,tableLineWidth:(U=E.tableLineWidth)!==null&&U!==void 0?U:0,tableLineColor:(V=E.tableLineColor)!==null&&V!==void 0?V:200,horizontalPageBreak:J,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(K=E.horizontalPageBreakBehaviour)!==null&&K!==void 0?K:"afterAllRows"}}function S(k,E){var I=k.getLastAutoTable(),D=k.scaleFactor(),$=k.pageNumber(),O=!1;if(I&&I.startPageNumber){var M=I.startPageNumber+I.pageNumber-1;O=M===$}return typeof E=="number"?E:(E==null||E===!1)&&O&&(I==null?void 0:I.finalY)!=null?I.finalY+20/D:null}function T(k,E,I){var D=E.head||[],$=E.body||[],O=E.foot||[];if(E.html){var M=E.includeHiddenHtml;if(I){var B=(0,c.parseHtml)(k,E.html,I,M,E.useCss)||{};D=B.head||D,$=B.body||D,O=B.foot||D}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(D,$,O);return{columns:F,head:D,body:$,foot:O}}function C(k,E,I){var D=k[0]||E[0]||I[0]||[],$=[];return Object.keys(D).filter(function(O){return O!=="_element"}).forEach(function(O){var M=1,B;Array.isArray(D)?B=D[parseInt(O)]:B=D[O],typeof B=="object"&&!Array.isArray(B)&&(M=(B==null?void 0:B.colSpan)||1);for(var F=0;F<M;F++){var G=void 0;Array.isArray(D)?G=$.length:G=O+(F>0?"_".concat(F):"");var R={dataKey:G};$.push(R)}}),$}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,A,v){for(var b=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(O){f.applyStyles(f.userStyles),S.beforePageContent&&S.beforePageContent(O),f.applyStyles(f.userStyles),S.afterPageContent&&S.afterPageContent(O),f.applyStyles(f.userStyles),S.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){S[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var M=O[0],B=O[1];S[B]&&(console.error("Use of deprecated option ".concat(B,". Use ").concat(M," instead")),S[M]=S[B])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var M=typeof O=="string"?O:O[0],B=typeof O=="string"?O:O[1];typeof S[M]<"u"&&(typeof S.styles[B]>"u"&&(S.styles[B]=S[M]),console.error("Use of deprecated option: "+M+", use the style "+B+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(S[k]||{})}for(var E=S.columnStyles||{},I=0,D=Object.keys(E);I<D.length;I++){var $=D[I];c(E[$]||{})}},w=0,y=[h,A,v];w<y.length;w++){var x=y[w];b(x)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),h=u(420),A=function(){function y(x,S){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return y.prototype.getHeadHeight=function(x){return this.head.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.getFootHeight=function(x){return this.foot.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(x,S,T,C,k,E){for(var I=0,D=S;I<D.length;I++){var $=D[I],O=new f.CellHookData(x,this,T,C,k,E),M=$(O)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],M)return!1}return!0},y.prototype.callEndPageHooks=function(x,S){x.applyStyles(x.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.callWillDrawPageHooks=function(x,S){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return S}else{var T=this.settings.margin;return x-T.left-T.right}},y}();l.Table=A;var v=function(){function y(x,S,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=x,x instanceof c.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=S,this.section=T,this.cells=C,this.spansMultiplePages=k}return y.prototype.getMaxCellHeight=function(x){var S=this;return x.reduce(function(T,C){var k;return Math.max(T,((k=S.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},y.prototype.hasRowSpan=function(x){var S=this;return x.filter(function(T){var C=S.cells[T.index];return C?C.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(x,S){return this.getMaxCellHeight(S)<=x},y.prototype.getMinimumRowHeight=function(x,S){var T=this;return x.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var I=S.getLineHeight(E.styles.fontSize),D=E.padding("vertical"),$=D+I;return $>C?$:C},0)},y}();l.Row=v;var b=function(){function y(x,S,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=T,this.raw=x;var E=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,E=(k=(C=x.content)!==null&&C!==void 0?C:x.title)!==null&&k!==void 0?k:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var I=E!=null?""+E:"",D=/\r\n|\r|\n/g;this.text=I.split(D)}return y.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");x=this.y+S/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:x}},y.prototype.getContentHeight=function(x,S){S===void 0&&(S=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/x*S,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},y.prototype.padding=function(x){var S=(0,h.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?S.top+S.bottom:x==="horizontal"?S.left+S.right:S[x]},y}();l.Cell=b;var w=function(){function y(x,S,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=S,this.index=T}return y.prototype.getMaxCustomCellWidth=function(x){for(var S=0,T=0,C=x.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(S=Math.max(S,E.styles.cellWidth))}return S},y}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,h,A,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(c),w=1;w<arguments.length;w++){var y=arguments[w];if(y!=null)for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])}return b}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),h=u(324),A=u(796),v=u(356);function b(k,E){var I=new c.DocHandler(k),D=w(E,I.scaleFactor()),$=new f.Table(E,D);return(0,h.calculateWidths)(I,$),I.applyStyles(I.userStyles),$}l.createTable=b;function w(k,E){var I=k.content,D=T(I.columns);if(I.head.length===0){var $=x(D,"head");$&&I.head.push($)}if(I.foot.length===0){var $=x(D,"foot");$&&I.foot.push($)}var O=k.settings.theme,M=k.styles;return{columns:D,head:y("head",I.head,D,M,O,E),body:y("body",I.body,D,M,O,E),foot:y("foot",I.foot,D,M,O,E)}}function y(k,E,I,D,$,O){var M={},B=E.map(function(F,G){for(var R=0,U={},V=0,K=0,ee=0,le=I;ee<le.length;ee++){var j=le[ee];if(M[j.index]==null||M[j.index].left===0)if(K===0){var z=void 0;Array.isArray(F)?z=F[j.index-V-R]:z=F[j.dataKey];var Q={};typeof z=="object"&&!Array.isArray(z)&&(Q=(z==null?void 0:z.styles)||{});var te=C(k,j,G,$,D,O,Q),J=new f.Cell(z,te,k);U[j.dataKey]=J,U[j.index]=J,K=J.colSpan-1,M[j.index]={left:J.rowSpan-1,times:K}}else K--,V++;else M[j.index].left--,K=M[j.index].times,R++}return new f.Row(F,G,k,U)});return B}function x(k,E){var I={};return k.forEach(function(D){if(D.raw!=null){var $=S(E,D.raw);$!=null&&(I[D.dataKey]=$)}}),Object.keys(I).length>0?I:null}function S(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,I){var D,$,O;return typeof E=="object"?O=($=(D=E.dataKey)!==null&&D!==void 0?D:E.key)!==null&&$!==void 0?$:I:O=I,new f.Column(O,E,I)})}function C(k,E,I,D,$,O,M){var B=(0,A.getTheme)(D),F;k==="head"?F=$.headStyles:k==="body"?F=$.bodyStyles:k==="foot"&&(F=$.footStyles);var G=(0,v.assign)({},B.table,B[k],$.styles,F),R=$.columnStyles[E.dataKey]||$.columnStyles[E.index]||{},U=k==="body"?R:{},V=k==="body"&&I%2===0?(0,v.assign)({},B.alternateRow,$.alternateRowStyles):{},K=(0,A.defaultStyles)(O),ee=(0,v.assign)({},K,G,V,U);return(0,v.assign)(ee,M)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),h=u(744),A=u(356),v=u(136),b=u(224);function w(R,U){var V=U.settings,K=V.startY,ee=V.margin,le={x:ee.left,y:K},j=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns),z=K+ee.bottom+j;if(V.pageBreak==="avoid"){var Q=U.body,te=Q.reduce(function(ue,ie){return ue+ie.height},0);z+=te}var J=new h.DocHandler(R);(V.pageBreak==="always"||V.startY!=null&&z>J.pageSize().height)&&(G(J),le.y=ee.top),U.callWillDrawPageHooks(J,le);var se=(0,A.assign)({},le);U.startPageNumber=J.pageNumber(),V.horizontalPageBreak?y(J,U,se,le):(J.applyStyles(J.userStyles),(V.showHead==="firstPage"||V.showHead==="everyPage")&&U.head.forEach(function(ue){return $(J,U,ue,le,U.columns)}),J.applyStyles(J.userStyles),U.body.forEach(function(ue,ie){var be=ie===U.body.length-1;D(J,U,ue,be,se,le,U.columns)}),J.applyStyles(J.userStyles),(V.showFoot==="lastPage"||V.showFoot==="everyPage")&&U.foot.forEach(function(ue){return $(J,U,ue,le,U.columns)})),(0,c.addTableBorder)(J,U,se,le),U.callEndPageHooks(J,le),U.finalY=le.y,R.lastAutoTable=U,R.previousAutoTable=U,R.autoTable&&(R.autoTable.previous=U),J.applyStyles(J.userStyles)}l.drawTable=w;function y(R,U,V,K){var ee=(0,b.calculateAllColumnsCanFitInPage)(R,U),le=U.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")ee.forEach(function(te,J){R.applyStyles(R.userStyles),J>0?F(R,U,V,K,te.columns,!0):x(R,U,K,te.columns),S(R,U,V,K,te.columns),C(R,U,K,te.columns)});else for(var j=-1,z=ee[0],Q=function(){var te=j;if(z){R.applyStyles(R.userStyles);var J=z.columns;j>=0?F(R,U,V,K,J,!0):x(R,U,K,J),te=T(R,U,j+1,K,J),C(R,U,K,J)}var se=te-j;ee.slice(1).forEach(function(ue){R.applyStyles(R.userStyles),F(R,U,V,K,ue.columns,!0),T(R,U,j+1,K,ue.columns,se),C(R,U,K,ue.columns)}),j=te};j<U.body.length-1;)Q()}function x(R,U,V,K){var ee=U.settings;R.applyStyles(R.userStyles),(ee.showHead==="firstPage"||ee.showHead==="everyPage")&&U.head.forEach(function(le){return $(R,U,le,V,K)})}function S(R,U,V,K,ee){R.applyStyles(R.userStyles),U.body.forEach(function(le,j){var z=j===U.body.length-1;D(R,U,le,z,V,K,ee)})}function T(R,U,V,K,ee,le){R.applyStyles(R.userStyles),le=le??U.body.length;var j=Math.min(V+le,U.body.length),z=-1;return U.body.slice(V,j).forEach(function(Q,te){var J=V+te===U.body.length-1,se=B(R,U,J,K);Q.canEntireRowFit(se,ee)&&($(R,U,Q,K,ee),z=V+te)}),z}function C(R,U,V,K){var ee=U.settings;R.applyStyles(R.userStyles),(ee.showFoot==="lastPage"||ee.showFoot==="everyPage")&&U.foot.forEach(function(le){return $(R,U,le,V,K)})}function k(R,U,V){var K=V.getLineHeight(R.styles.fontSize),ee=R.padding("vertical"),le=Math.floor((U-ee)/K);return Math.max(0,le)}function E(R,U,V,K){var ee={};R.spansMultiplePages=!0,R.height=0;for(var le=0,j=0,z=V.columns;j<z.length;j++){var Q=z[j],te=R.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var J=new f.Cell(te.raw,te.styles,te.section);J=(0,A.assign)(J,te),J.text=[];var se=k(te,U,K);te.text.length>se&&(J.text=te.text.splice(se,te.text.length));var ue=K.scaleFactor(),ie=K.getLineHeightFactor();te.contentHeight=te.getContentHeight(ue,ie),te.contentHeight>=U&&(te.contentHeight=U,J.styles.minCellHeight-=U),te.contentHeight>R.height&&(R.height=te.contentHeight),J.contentHeight=J.getContentHeight(ue,ie),J.contentHeight>le&&(le=J.contentHeight),ee[Q.index]=J}}var be=new f.Row(R.raw,-1,R.section,ee,!0);be.height=le;for(var Se=0,fe=V.columns;Se<fe.length;Se++){var Q=fe[Se],J=be.cells[Q.index];J&&(J.height=be.height);var te=R.cells[Q.index];te&&(te.height=R.height)}return be}function I(R,U,V,K){var ee=R.pageSize().height,le=K.settings.margin,j=le.top+le.bottom,z=ee-j;U.section==="body"&&(z-=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns));var Q=U.getMinimumRowHeight(K.columns,R),te=Q<V;if(Q>z)return console.error("Will not be able to print row ".concat(U.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var J=U.hasRowSpan(K.columns),se=U.getMaxCellHeight(K.columns)>z;return se?(J&&console.error("The content of row ".concat(U.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(J||K.settings.rowPageBreak==="avoid")}function D(R,U,V,K,ee,le,j){var z=B(R,U,K,le);if(V.canEntireRowFit(z,j))$(R,U,V,le,j);else if(I(R,V,z,U)){var Q=E(V,z,U,R);$(R,U,V,le,j),F(R,U,ee,le,j),D(R,U,Q,K,ee,le,j)}else F(R,U,ee,le,j),D(R,U,V,K,ee,le,j)}function $(R,U,V,K,ee){K.x=U.settings.margin.left;for(var le=0,j=ee;le<j.length;le++){var z=j[le],Q=V.cells[z.index];if(!Q){K.x+=z.width;continue}R.applyStyles(Q.styles),Q.x=K.x,Q.y=K.y;var te=U.callCellHooks(R,U.hooks.willDrawCell,Q,V,z,K);if(te===!1){K.x+=z.width;continue}O(R,Q,K);var J=Q.getTextPos();(0,v.default)(Q.text,J.x,J.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},R.getDocument()),U.callCellHooks(R,U.hooks.didDrawCell,Q,V,z,K),K.x+=z.width}K.y+=V.height}function O(R,U,V){var K=U.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof K.lineWidth=="number"){var ee=(0,c.getFillStyle)(K.lineWidth,K.fillColor);ee&&R.rect(U.x,V.y,U.width,U.height,ee)}else typeof K.lineWidth=="object"&&(K.fillColor&&R.rect(U.x,V.y,U.width,U.height,"F"),M(R,U,V,K.lineWidth))}function M(R,U,V,K){var ee,le,j,z;K.top&&(ee=V.x,le=V.y,j=V.x+U.width,z=V.y,K.right&&(j+=.5*K.right),K.left&&(ee-=.5*K.left),Q(K.top,ee,le,j,z)),K.bottom&&(ee=V.x,le=V.y+U.height,j=V.x+U.width,z=V.y+U.height,K.right&&(j+=.5*K.right),K.left&&(ee-=.5*K.left),Q(K.bottom,ee,le,j,z)),K.left&&(ee=V.x,le=V.y,j=V.x,z=V.y+U.height,K.top&&(le-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.left,ee,le,j,z)),K.right&&(ee=V.x+U.width,le=V.y,j=V.x+U.width,z=V.y+U.height,K.top&&(le-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.right,ee,le,j,z));function Q(te,J,se,ue,ie){R.getDocument().setLineWidth(te),R.getDocument().line(J,se,ue,ie,"S")}}function B(R,U,V,K){var ee=U.settings.margin.bottom,le=U.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&V)&&(ee+=U.getFootHeight(U.columns)),R.pageSize().height-K.y-ee}function F(R,U,V,K,ee,le){ee===void 0&&(ee=[]),le===void 0&&(le=!1),R.applyStyles(R.userStyles),U.settings.showFoot==="everyPage"&&!le&&U.foot.forEach(function(z){return $(R,U,z,K,ee)}),U.callEndPageHooks(R,K);var j=U.settings.margin;(0,c.addTableBorder)(R,U,V,K),G(R),U.pageNumber++,U.pageCount++,K.x=j.left,K.y=j.top,V.y=j.top,U.callWillDrawPageHooks(R,K),U.settings.showHead==="everyPage"&&(U.head.forEach(function(z){return $(R,U,z,K,ee)}),R.applyStyles(R.userStyles))}l.addPage=F;function G(R){var U=R.pageNumber();R.setPage(U+1);var V=R.pageNumber();return V===U?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(A,v,b){var w;b===void 0&&(b={});var y=(0,c.getPageAvailableWidth)(A,v),x=new Map,S=[],T=[],C=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?C=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(C=[v.settings.horizontalPageBreakRepeat]),C.forEach(function(D){var $=v.columns.find(function(O){return O.dataKey===D||O.index===D});$&&!x.has($.index)&&(x.set($.index,!0),S.push($.index),T.push(v.columns[$.index]),y-=$.wrappedWidth)});for(var k=!0,E=(w=b==null?void 0:b.start)!==null&&w!==void 0?w:0;E<v.columns.length;){if(x.has(E)){E++;continue}var I=v.columns[E].wrappedWidth;if(k||y>=I)k=!1,S.push(E),T.push(v.columns[E]),y-=I;else break;E++}return{colIndexes:S,columns:T,lastIndex:E-1}}function h(A,v){for(var b=[],w=0;w<v.columns.length;w++){var y=f(A,v,{start:w});y.columns.length&&(b.push(y),w=y.lastIndex)}return b}l.calculateAllColumnsCanFitInPage=h},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(S,T){h(S,T);var C=[],k=0;T.columns.forEach(function(I){var D=I.getMaxCustomCellWidth(T);D?I.width=D:(I.width=I.wrappedWidth,C.push(I)),k+=I.width});var E=T.getWidth(S.pageSize().width)-k;E&&(E=A(C,E,function(I){return Math.max(I.minReadableWidth,I.minWidth)})),E&&(E=A(C,E,function(I){return I.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/S.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),b(T),w(T,S),v(T)}l.calculateWidths=f;function h(S,T){var C=S.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(S,T);T.allRows().forEach(function(I){for(var D=0,$=T.columns;D<$.length;D++){var O=$[D],M=I.cells[O.index];if(M){var B=T.hooks.didParseCell;T.callCellHooks(S,B,M,I,O,null);var F=M.padding("horizontal");M.contentWidth=(0,c.getStringWidth)(M.text,M.styles,S)+F;var G=(0,c.getStringWidth)(M.text.join(" ").split(/[^\S\u00A0]+/),M.styles,S);if(M.minReadableWidth=G+M.padding("horizontal"),typeof M.styles.cellWidth=="number")M.minWidth=M.styles.cellWidth,M.wrappedWidth=M.styles.cellWidth;else if(M.styles.cellWidth==="wrap"||k===!0)M.contentWidth>E?(M.minWidth=E,M.wrappedWidth=E):(M.minWidth=M.contentWidth,M.wrappedWidth=M.contentWidth);else{var R=10/C;M.minWidth=M.styles.minCellWidth||R,M.wrappedWidth=M.contentWidth,M.minWidth>M.wrappedWidth&&(M.wrappedWidth=M.minWidth)}}}}),T.allRows().forEach(function(I){for(var D=0,$=T.columns;D<$.length;D++){var O=$[D],M=I.cells[O.index];if(M&&M.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,M.wrappedWidth),O.minWidth=Math.max(O.minWidth,M.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,M.minReadableWidth);else{var B=T.styles.columnStyles[O.dataKey]||T.styles.columnStyles[O.index]||{},F=B.cellWidth||B.minCellWidth;F&&typeof F=="number"&&(O.minWidth=F,O.wrappedWidth=F)}M&&(M.colSpan>1&&!O.minWidth&&(O.minWidth=M.minWidth),M.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=M.minWidth))}})}function A(S,T,C){for(var k=T,E=S.reduce(function(R,U){return R+U.wrappedWidth},0),I=0;I<S.length;I++){var D=S[I],$=D.wrappedWidth/E,O=k*$,M=D.width+O,B=C(D),F=M<B?B:M;T-=F-D.width,D.width=F}if(T=Math.round(T*1e10)/1e10,T){var G=S.filter(function(R){return T<0?R.width>C(R):!0});G.length&&(T=A(G,T,C))}return T}l.resizeColumns=A;function v(S){for(var T={},C=1,k=S.allRows(),E=0;E<k.length;E++)for(var I=k[E],D=0,$=S.columns;D<$.length;D++){var O=$[D],M=T[O.index];if(C>1)C--,delete I.cells[O.index];else if(M)M.cell.height+=I.height,C=M.cell.colSpan,delete I.cells[O.index],M.left--,M.left<=1&&delete T[O.index];else{var B=I.cells[O.index];if(!B)continue;if(B.height=I.height,B.rowSpan>1){var F=k.length-E,G=B.rowSpan>F?F:B.rowSpan;T[O.index]={cell:B,left:G,row:I}}}}}function b(S){for(var T=S.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,I=0,D=0,$=0;$<S.columns.length;$++){var O=S.columns[$];if(D-=1,D>1&&S.columns[$+1])I+=O.width,delete k.cells[O.index];else if(E){var M=E;delete k.cells[O.index],E=null,M.width=O.width+I}else{var M=k.cells[O.index];if(!M)continue;if(D=M.colSpan,I=0,M.colSpan>1){E=M,I+=O.width;continue}M.width=O.width+I}}}function w(S,T){for(var C={count:0,height:0},k=0,E=S.allRows();k<E.length;k++){for(var I=E[k],D=0,$=S.columns;D<$.length;D++){var O=$[D],M=I.cells[O.index];if(M){T.applyStyles(M.styles,!0);var B=M.width-M.padding("horizontal");if(M.styles.overflow==="linebreak")M.text=T.splitTextToSize(M.text,B+1/T.scaleFactor(),{fontSize:M.styles.fontSize});else if(M.styles.overflow==="ellipsize")M.text=y(M.text,B,M.styles,T,"...");else if(M.styles.overflow==="hidden")M.text=y(M.text,B,M.styles,T,"");else if(typeof M.styles.overflow=="function"){var F=M.styles.overflow(M.text,B);typeof F=="string"?M.text=[F]:M.text=F}M.contentHeight=M.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var G=M.contentHeight/M.rowSpan;M.rowSpan>1&&C.count*C.height<G*M.rowSpan?C={height:G,count:M.rowSpan}:C&&C.count>0&&C.height>G&&(G=C.height),G>I.height&&(I.height=G)}}C.count--}}function y(S,T,C,k,E){return S.map(function(I){return x(I,T,C,k,E)})}l.ellipsize=y;function x(S,T,C,k,E){var I=1e4*k.scaleFactor();if(T=Math.ceil(T*I)/I,T>=(0,c.getStringWidth)(S,C,k))return S;for(;T<(0,c.getStringWidth)(S+E,C,k)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),h=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return h.Table}});var A=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return A.CellHookData}});var v=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return v.Row}});function b(T){(0,l.default)(T)}s.applyPlugin=b;function w(T,C){var k=(0,u.parseInput)(T,C),E=(0,f.createTable)(T,k);(0,c.drawTable)(T,E)}function y(T,C){var k=(0,u.parseInput)(T,C);return(0,f.createTable)(T,k)}s.__createTable=y;function x(T,C){(0,c.drawTable)(T,C)}s.__drawTable=x;try{var S=a(964);S.jsPDF&&(S=S.jsPDF),b(S)}catch{}s.default=w}(),o}()})})(ZI);var AJ=ZI.exports;const eD=Qt(AJ),c1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",tD=(t,e)=>{try{if(!c1||!c1.includes(","))throw new Error("Invalid font data URI");const n=c1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},hu=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new At;tD(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),eD(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},zm=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},mJ=({variant:t,product:e,onDone:n,t:r})=>(ae.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?m.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:m.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[m.jsxs("div",{className:"w-full",children:[m.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),m.jsx("p",{className:"text-sm truncate",children:t.name})]}),m.jsxs("div",{className:"w-full my-1",children:[m.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>m.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),m.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),m.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),gJ=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=ae.useState(""),[s,l]=ae.useState(1),[u,c]=ae.useState(0),[f,h]=ae.useState(0);ae.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),ae.useEffect(()=>{const v=e.find(b=>b.id===a);v?(c(v.purchasePrice),h(v.price),l(1)):(c(0),h(0),l(1))},[a,e]);const A=v=>{if(v.preventDefault(),!a||s===""||s<=0||u===""||u<0||f===""||f<=0){alert(i("fillAllFieldsError"));return}if(f<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:f})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("selectVariant")}),m.jsxs("select",{id:"variant",value:a,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[m.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(v=>m.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),m.jsx("input",{id:"quantity",type:"number",value:s,onChange:v=>l(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),m.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:v=>c(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),m.jsx("input",{id:"sellingPrice",type:"number",value:f,onChange:v=>h(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},f1=20,vJ=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:f})=>{const[h,A]=ae.useState(!1),[v,b]=ae.useState(null),[w,y]=ae.useState(null),[x,S]=ae.useState(""),[T,C]=ae.useState(""),[k,E]=ae.useState(""),[I,D]=ae.useState(""),[$,O]=ae.useState([]),[M,B]=ae.useState([]),[F,G]=ae.useState(""),[R,U]=ae.useState(null),[V,K]=ae.useState({}),ee=ae.useMemo(()=>{const Te=new Map;return n.forEach(Ce=>{const ve=Te.get(Ce.productId)||[];ve.push(Ce),Te.set(Ce.productId,ve)}),Te},[n]),le=ae.useMemo(()=>{if(!F)return e;const Te=F.toLowerCase(),Ce=new Set(e.filter(Ne=>Ne.name.toLowerCase().includes(Te)).map(Ne=>Ne.id)),ve=new Set(i.filter(Ne=>Ne.name.toLowerCase().includes(Te)).map(Ne=>Ne.id));return e.filter(Ne=>Ce.has(Ne.id)||Ne.categoryId&&ve.has(Ne.categoryId))},[F,e,i]);ae.useEffect(()=>{if(F){const Te=new Set(le.map(Ce=>Ce.categoryId||"uncategorized"));B(Array.from(Te))}else B([]);K({})},[F,le]);const j=Te=>{B(Ce=>Ce.includes(Te)?Ce.filter(ve=>ve!==Te):[...Ce,Te])},z=()=>{A(!1),b(null),S(""),C(""),E(""),D(""),O([]);const Te=document.getElementById("productImageFile");Te&&(Te.value="")},Q=Te=>{var Ce;A(!0),b(Te),S(Te.name),C(Te.categoryId||""),E(Te.supplierId||""),D(Te.image),O(((Ce=ee.get(Te.id))==null?void 0:Ce.map(ve=>({...ve,priceSemiWholesale:ve.priceSemiWholesale||0,priceWholesale:ve.priceWholesale||0,stockQuantity:a.get(ve.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},te=Te=>{if(Te.target.files&&Te.target.files[0]){const Ce=Te.target.files[0],ve=new FileReader;ve.onloadend=()=>D(ve.result),ve.readAsDataURL(Ce)}},J=(Te,Ce,ve)=>{const Ne=[...$];Ne[Te][Ce]=ve,O(Ne)},se=(Te,Ce)=>{if(Ce.target.files&&Ce.target.files[0]){const ve=Ce.target.files[0],Ne=new FileReader;Ne.onloadend=()=>{const He=[...$];He[Te].image=Ne.result,O(He)},Ne.readAsDataURL(ve)}},ue=()=>{O([...$,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},ie=Te=>{O($.filter((Ce,ve)=>ve!==Te))},be=async Te=>{if(Te.preventDefault(),!x||$.length===0){alert(c("fillNameAndPriceError"));return}for(const Ce of $){if(!Ce.name||Ce.price<=0){alert(c("fillNameAndPriceError"));return}if(Ce.price<=Ce.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(h&&v){const Ce={...v,name:x,categoryId:T||void 0,supplierId:k||void 0,image:I||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`};await s(Ce,$)}else{const Ce={storeId:t,name:x,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:I||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`,createdAt:new Date().toISOString()},ve=$.map(({stockQuantity:Ne,...He})=>He);await o(Ce,ve)}z()},Se=async Te=>{window.confirm(c("confirmProductDelete"))&&await l(Te)},fe=()=>{const Te=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("categories"),c("suppliers")],Ce=n.map(ve=>{var He,Ue;const Ne=e.find(ge=>ge.id===ve.productId);return[(Ne==null?void 0:Ne.name)||"N/A",ve.name,ve.price,ve.purchasePrice,a.get(ve.id)||0,ve.barcode||"N/A",((He=i.find(ge=>ge.id===(Ne==null?void 0:Ne.categoryId)))==null?void 0:He.name)||"N/A",((Ue=r.find(ge=>ge.id===(Ne==null?void 0:Ne.supplierId)))==null?void 0:Ue.name)||"N/A"]});hu(c("productList"),Te,Ce,"products_with_variants",f,c("noDataToExport"))},Ie=async Te=>{w&&(await u({...Te,supplierId:w.supplierId}),y(null))},Fe=R?e.find(Te=>Te.id===R.productId):null,_e=Te=>Te.map(Ce=>{const ve=ee.get(Ce.id)||[];return m.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[m.jsx("img",{src:Ce.image,alt:Ce.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),m.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:Ce.name})]}),m.jsx("div",{className:"md:col-span-5",children:ve.length>0?m.jsxs("details",{children:[m.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[ve.length," ",c("variants")]}),m.jsx("ul",{className:"mt-2 space-y-2",children:ve.map(Ne=>m.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[m.jsx("img",{src:Ne.image,alt:Ne.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),m.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Ne.name}),m.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Ne.price.toFixed(2)," DH"]}),m.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Ne.id)||0)>Ne.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Ne.id)||0]}),Ne.barcode&&m.jsx("button",{onClick:()=>U(Ne),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:m.jsx(VO,{className:"w-5 h-5"})})]},Ne.id))})]}):m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),m.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[m.jsx("button",{onClick:()=>y(Ce),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:m.jsx(gf,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Q(Ce),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Cv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Se(Ce.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(Qi,{className:"w-5 h-5"})})]})]},Ce.id)}),re=(Te,Ce)=>{const ve=Te.length;if(ve===0&&Ce==="uncategorized")return null;if(ve===0)return m.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Ne=V[Ce]||1,He=Math.ceil(ve/f1),Ue=(Ne-1)*f1,ge=Ue+f1,Le=Te.slice(Ue,ge),Oe=Qe=>{Qe<1||Qe>He||K(lt=>({...lt,[Ce]:Qe}))};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:_e(Le)}),He>1&&m.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[m.jsx("button",{onClick:()=>Oe(Ne-1),disabled:Ne===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:m.jsx(_A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Ne," / ",He]}),m.jsx("button",{onClick:()=>Oe(Ne+1),disabled:Ne===He,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:m.jsx(SA,{className:"w-5 h-5"})})]})]})};return m.jsxs("div",{className:"space-y-6",children:[R&&Fe&&m.jsx(mJ,{variant:R,product:Fe,onDone:()=>U(null),t:c}),w&&m.jsx(gJ,{product:w,variants:ee.get(w.id)||[],onClose:()=>y(null),onSave:Ie,t:c}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(h?"editProduct":"addNewProduct")}),h&&m.jsx("button",{onClick:z,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),m.jsxs("form",{onSubmit:be,className:"space-y-6",children:[m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:I||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),m.jsx("input",{type:"text",value:x,onChange:Te=>S(Te.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("categories")}),m.jsxs("select",{value:T,onChange:Te=>C(Te.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectCategory")}),i.map(Te=>m.jsx("option",{value:Te.id,children:Te.name},Te.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("suppliers")}),m.jsxs("select",{value:k,onChange:Te=>E(Te.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Te=>m.jsx("option",{value:Te.id,children:Te.name},Te.id))]})]})]})]})]}),m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),m.jsxs("button",{type:"button",onClick:ue,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(gf,{className:"w-5 h-5"}),c("addVariant")]})]}),m.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:$.map((Te,Ce)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[m.jsx("button",{type:"button",onClick:()=>ie(Ce),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:m.jsx(Qi,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:Te.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${encodeURIComponent(c("variants"))}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ve=>se(Ce,ve),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),m.jsx("input",{type:"text",value:Te.name,onChange:ve=>J(Ce,"name",ve.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),m.jsx("input",{type:"number",value:Te.purchasePrice,onChange:ve=>J(Ce,"purchasePrice",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),m.jsx("input",{type:"number",value:Te.price,onChange:ve=>J(Ce,"price",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),m.jsx("input",{type:"number",value:Te.priceSemiWholesale||"",onChange:ve=>J(Ce,"priceSemiWholesale",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),m.jsx("input",{type:"number",value:Te.priceWholesale||"",onChange:ve=>J(Ce,"priceWholesale",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),m.jsx("input",{type:"number",value:Te.stockQuantity,onChange:ve=>J(Ce,"stockQuantity",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),m.jsx("input",{type:"number",value:Te.lowStockThreshold,onChange:ve=>J(Ce,"lowStockThreshold",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),m.jsx("input",{type:"text",value:Te.barcode||"",onChange:ve=>J(Ce,"barcode",ve.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},Ce))})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(h?"saveChanges":"saveProduct")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),m.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>{z(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(gf,{className:"w-4 h-4"})," ",c("addNewProduct")]}),m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:m.jsx(sF,{className:"w-5 h-5 text-slate-400"})}),m.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Te=>G(Te.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),m.jsxs("button",{onClick:fe,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(va,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),m.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Te=>{const Ce=le.filter(Ne=>Ne.categoryId===Te.id);if(Ce.length===0)return null;const ve=M.includes(Te.id);return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>j(Te.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":ve,"aria-controls":`category-panel-${Te.id}`,children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Te.name," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ce.length,")"]})]}),m.jsx(OC,{className:`w-6 h-6 text-slate-500 transition-transform ${ve?"rotate-180":""}`})]}),ve&&m.jsx("div",{id:`category-panel-${Te.id}`,children:re(Ce,Te.id)})]},Te.id)}),(()=>{const Te=le.filter(ve=>!ve.categoryId);if(Te.length===0)return null;const Ce=M.includes("uncategorized");return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>j("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":Ce,"aria-controls":"category-panel-uncategorized",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Te.length,")"]})]}),m.jsx(OC,{className:`w-6 h-6 text-slate-500 transition-transform ${Ce?"rotate-180":""}`})]}),Ce&&m.jsx("div",{id:"category-panel-uncategorized",children:re(Te,"uncategorized")})]})})(),e.length>0&&le.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})},yJ=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=ae.useState(t),o=l=>{const{id:u,value:c}=l.target;a(f=>({...f,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),m.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),m.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},bJ=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=ae.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=ae.useState(null),[c,f]=ae.useState(null),h=w=>{const{id:y,value:x}=w.target;s(S=>({...S,[y]:w.target.type==="number"?parseFloat(x)||0:x}))},A=async w=>{if(w.preventDefault(),f(null),!o.name||o.price<=0){f({type:"error",message:a("fillNameAndPriceError")});return}const y={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("services"))}`,createdAt:new Date().toISOString()};await n(y),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),f({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>f(null),4e3)},v=async w=>{window.confirm(a("confirmServiceDelete"))&&await i(w)},b=async w=>{if(f(null),!w.name||(w.price??0)<=0){f({type:"error",message:a("fillNameAndPriceError")});return}await r(w),u(null),f({type:"success",message:a("serviceUpdatedSuccess",{name:w.name})}),setTimeout(()=>f(null),4e3)};return m.jsxs(m.Fragment,{children:[l&&m.jsx(yJ,{service:l,onClose:()=>u(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(yl,{}),a("addNewService")]}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),m.jsx("input",{type:"text",id:"name",value:o.name,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),m.jsx("input",{type:"number",id:"price",value:o.price,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(w=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:w.name}),m.jsxs("td",{className:"px-6 py-4",children:[(w.price??0).toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:()=>u(w),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Cv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(Qi,{className:"w-5 h-5"})})]})})]},w.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})};function nD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nD(t))&&(r&&(r+=" "),r+=e);return r}var xJ=Array.isArray,Ni=xJ,wJ=typeof mr=="object"&&mr&&mr.Object===Object&&mr,rD=wJ,SJ=rD,_J=typeof self=="object"&&self&&self.Object===Object&&self,TJ=SJ||_J||Function("return this")(),_o=TJ,CJ=_o,NJ=CJ.Symbol,CA=NJ,SE=CA,iD=Object.prototype,EJ=iD.hasOwnProperty,kJ=iD.toString,yh=SE?SE.toStringTag:void 0;function PJ(t){var e=EJ.call(t,yh),n=t[yh];try{t[yh]=void 0;var r=!0}catch{}var i=kJ.call(t);return r&&(e?t[yh]=n:delete t[yh]),i}var MJ=PJ,OJ=Object.prototype,IJ=OJ.toString;function DJ(t){return IJ.call(t)}var LJ=DJ,_E=CA,jJ=MJ,RJ=LJ,BJ="[object Null]",$J="[object Undefined]",TE=_E?_E.toStringTag:void 0;function FJ(t){return t==null?t===void 0?$J:BJ:TE&&TE in Object(t)?jJ(t):RJ(t)}var As=FJ;function UJ(t){return t!=null&&typeof t=="object"}var ms=UJ,qJ=As,HJ=ms,zJ="[object Symbol]";function VJ(t){return typeof t=="symbol"||HJ(t)&&qJ(t)==zJ}var vd=VJ,GJ=Ni,WJ=vd,YJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KJ=/^\w*$/;function JJ(t,e){if(GJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||WJ(t)?!0:KJ.test(t)||!YJ.test(t)||e!=null&&t in Object(e)}var gS=JJ;function XJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ol=XJ;const yd=Qt(Ol);var QJ=As,ZJ=Ol,eX="[object AsyncFunction]",tX="[object Function]",nX="[object GeneratorFunction]",rX="[object Proxy]";function iX(t){if(!ZJ(t))return!1;var e=QJ(t);return e==tX||e==nX||e==eX||e==rX}var vS=iX;const wt=Qt(vS);var aX=_o,oX=aX["__core-js_shared__"],sX=oX,d1=sX,CE=function(){var t=/[^.]+$/.exec(d1&&d1.keys&&d1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lX(t){return!!CE&&CE in t}var uX=lX,cX=Function.prototype,fX=cX.toString;function dX(t){if(t!=null){try{return fX.call(t)}catch{}try{return t+""}catch{}}return""}var aD=dX,hX=vS,pX=uX,AX=Ol,mX=aD,gX=/[\\^$.*+?()[\]{}|]/g,vX=/^\[object .+?Constructor\]$/,yX=Function.prototype,bX=Object.prototype,xX=yX.toString,wX=bX.hasOwnProperty,SX=RegExp("^"+xX.call(wX).replace(gX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _X(t){if(!AX(t)||pX(t))return!1;var e=hX(t)?SX:vX;return e.test(mX(t))}var TX=_X;function CX(t,e){return t==null?void 0:t[e]}var NX=CX,EX=TX,kX=NX;function PX(t,e){var n=kX(t,e);return EX(n)?n:void 0}var Ju=PX,MX=Ju,OX=MX(Object,"create"),Iv=OX,NE=Iv;function IX(){this.__data__=NE?NE(null):{},this.size=0}var DX=IX;function LX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var jX=LX,RX=Iv,BX="__lodash_hash_undefined__",$X=Object.prototype,FX=$X.hasOwnProperty;function UX(t){var e=this.__data__;if(RX){var n=e[t];return n===BX?void 0:n}return FX.call(e,t)?e[t]:void 0}var qX=UX,HX=Iv,zX=Object.prototype,VX=zX.hasOwnProperty;function GX(t){var e=this.__data__;return HX?e[t]!==void 0:VX.call(e,t)}var WX=GX,YX=Iv,KX="__lodash_hash_undefined__";function JX(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=YX&&e===void 0?KX:e,this}var XX=JX,QX=DX,ZX=jX,eQ=qX,tQ=WX,nQ=XX;function bd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bd.prototype.clear=QX;bd.prototype.delete=ZX;bd.prototype.get=eQ;bd.prototype.has=tQ;bd.prototype.set=nQ;var rQ=bd;function iQ(){this.__data__=[],this.size=0}var aQ=iQ;function oQ(t,e){return t===e||t!==t&&e!==e}var yS=oQ,sQ=yS;function lQ(t,e){for(var n=t.length;n--;)if(sQ(t[n][0],e))return n;return-1}var Dv=lQ,uQ=Dv,cQ=Array.prototype,fQ=cQ.splice;function dQ(t){var e=this.__data__,n=uQ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fQ.call(e,n,1),--this.size,!0}var hQ=dQ,pQ=Dv;function AQ(t){var e=this.__data__,n=pQ(e,t);return n<0?void 0:e[n][1]}var mQ=AQ,gQ=Dv;function vQ(t){return gQ(this.__data__,t)>-1}var yQ=vQ,bQ=Dv;function xQ(t,e){var n=this.__data__,r=bQ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var wQ=xQ,SQ=aQ,_Q=hQ,TQ=mQ,CQ=yQ,NQ=wQ;function xd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xd.prototype.clear=SQ;xd.prototype.delete=_Q;xd.prototype.get=TQ;xd.prototype.has=CQ;xd.prototype.set=NQ;var Lv=xd,EQ=Ju,kQ=_o,PQ=EQ(kQ,"Map"),bS=PQ,EE=rQ,MQ=Lv,OQ=bS;function IQ(){this.size=0,this.__data__={hash:new EE,map:new(OQ||MQ),string:new EE}}var DQ=IQ;function LQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jQ=LQ,RQ=jQ;function BQ(t,e){var n=t.__data__;return RQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jv=BQ,$Q=jv;function FQ(t){var e=$Q(this,t).delete(t);return this.size-=e?1:0,e}var UQ=FQ,qQ=jv;function HQ(t){return qQ(this,t).get(t)}var zQ=HQ,VQ=jv;function GQ(t){return VQ(this,t).has(t)}var WQ=GQ,YQ=jv;function KQ(t,e){var n=YQ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var JQ=KQ,XQ=DQ,QQ=UQ,ZQ=zQ,eZ=WQ,tZ=JQ;function wd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wd.prototype.clear=XQ;wd.prototype.delete=QQ;wd.prototype.get=ZQ;wd.prototype.has=eZ;wd.prototype.set=tZ;var xS=wd,oD=xS,nZ="Expected a function";function wS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nZ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(wS.Cache||oD),n}wS.Cache=oD;var sD=wS;const rZ=Qt(sD);var iZ=sD,aZ=500;function oZ(t){var e=iZ(t,function(r){return n.size===aZ&&n.clear(),r}),n=e.cache;return e}var sZ=oZ,lZ=sZ,uZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cZ=/\\(\\)?/g,fZ=lZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(uZ,function(n,r,i,a){e.push(i?a.replace(cZ,"$1"):r||n)}),e}),dZ=fZ;function hZ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var SS=hZ,kE=CA,pZ=SS,AZ=Ni,mZ=vd,PE=kE?kE.prototype:void 0,ME=PE?PE.toString:void 0;function lD(t){if(typeof t=="string")return t;if(AZ(t))return pZ(t,lD)+"";if(mZ(t))return ME?ME.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gZ=lD,vZ=gZ;function yZ(t){return t==null?"":vZ(t)}var uD=yZ,bZ=Ni,xZ=gS,wZ=dZ,SZ=uD;function _Z(t,e){return bZ(t)?t:xZ(t,e)?[t]:wZ(SZ(t))}var cD=_Z,TZ=vd;function CZ(t){if(typeof t=="string"||TZ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Rv=CZ,NZ=cD,EZ=Rv;function kZ(t,e){e=NZ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[EZ(e[n++])];return n&&n==r?t:void 0}var _S=kZ,PZ=_S;function MZ(t,e,n){var r=t==null?void 0:PZ(t,e);return r===void 0?n:r}var fD=MZ;const Zi=Qt(fD);function OZ(t){return t==null}var IZ=OZ;const Lt=Qt(IZ);var DZ=As,LZ=Ni,jZ=ms,RZ="[object String]";function BZ(t){return typeof t=="string"||!LZ(t)&&jZ(t)&&DZ(t)==RZ}var $Z=BZ;const ju=Qt($Z);var dD={exports:{}},sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=Symbol.for("react.element"),CS=Symbol.for("react.portal"),Bv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Fv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),qv=Symbol.for("react.context"),FZ=Symbol.for("react.server_context"),Hv=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Wv=Symbol.for("react.lazy"),UZ=Symbol.for("react.offscreen"),hD;hD=Symbol.for("react.module.reference");function Ia(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case TS:switch(t=t.type,t){case Bv:case Fv:case $v:case zv:case Vv:return t;default:switch(t=t&&t.$$typeof,t){case FZ:case qv:case Hv:case Wv:case Gv:case Uv:return t;default:return e}}case CS:return e}}}sn.ContextConsumer=qv;sn.ContextProvider=Uv;sn.Element=TS;sn.ForwardRef=Hv;sn.Fragment=Bv;sn.Lazy=Wv;sn.Memo=Gv;sn.Portal=CS;sn.Profiler=Fv;sn.StrictMode=$v;sn.Suspense=zv;sn.SuspenseList=Vv;sn.isAsyncMode=function(){return!1};sn.isConcurrentMode=function(){return!1};sn.isContextConsumer=function(t){return Ia(t)===qv};sn.isContextProvider=function(t){return Ia(t)===Uv};sn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===TS};sn.isForwardRef=function(t){return Ia(t)===Hv};sn.isFragment=function(t){return Ia(t)===Bv};sn.isLazy=function(t){return Ia(t)===Wv};sn.isMemo=function(t){return Ia(t)===Gv};sn.isPortal=function(t){return Ia(t)===CS};sn.isProfiler=function(t){return Ia(t)===Fv};sn.isStrictMode=function(t){return Ia(t)===$v};sn.isSuspense=function(t){return Ia(t)===zv};sn.isSuspenseList=function(t){return Ia(t)===Vv};sn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bv||t===Fv||t===$v||t===zv||t===Vv||t===UZ||typeof t=="object"&&t!==null&&(t.$$typeof===Wv||t.$$typeof===Gv||t.$$typeof===Uv||t.$$typeof===qv||t.$$typeof===Hv||t.$$typeof===hD||t.getModuleId!==void 0)};sn.typeOf=Ia;dD.exports=sn;var qZ=dD.exports,HZ=As,zZ=ms,VZ="[object Number]";function GZ(t){return typeof t=="number"||zZ(t)&&HZ(t)==VZ}var pD=GZ;const WZ=Qt(pD);var YZ=pD;function KZ(t){return YZ(t)&&t!=+t}var JZ=KZ;const NA=Qt(JZ);var ai=function(e){return e===0?0:e>0?1:-1},pu=function(e){return ju(e)&&e.indexOf("%")===e.length-1},We=function(e){return WZ(e)&&!NA(e)},XZ=function(e){return Lt(e)},gr=function(e){return We(e)||ju(e)},QZ=0,EA=function(e){var n=++QZ;return"".concat(e||"").concat(n)},oi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(e)&&!ju(e))return r;var a;if(pu(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return NA(a)&&(a=r),i&&a>n&&(a=n),a},tl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ZZ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ys=function(e,n){return We(e)&&We(n)?function(r){return e+r*(n-e)}:function(){return n}};function A2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Zi(r,e))===n})}var eee=function(e,n){return We(e)&&We(n)?e-n:ju(e)&&ju(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function xf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function m2(t){"@babel/helpers - typeof";return m2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m2(t)}var tee=["viewBox","children"],nee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OE=["points","pathLength"],h1={svg:tee,polygon:OE,polyline:OE},NS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],o0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ae.isValidElement(e)&&(r=e.props),!yd(r))return null;var i={};return Object.keys(r).forEach(function(a){NS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},ree=function(e,n,r){return function(i){return e(n,r,i),null}},Ru=function(e,n,r){if(!yd(e)||m2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];NS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=ree(o,n,r))}),i},iee=["children"],aee=["children"];function IE(t,e){if(t==null)return{};var n=oee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ns=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LE=null,p1=null,ES=function t(e){if(e===LE&&Array.isArray(p1))return p1;var n=[];return ae.Children.forEach(e,function(r){Lt(r)||(qZ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),p1=n,LE=e,n};function Pa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ns(i)}):r=[ns(e)],ES(t).forEach(function(i){var a=Zi(i,"type.displayName")||Zi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ui(t,e){var n=Pa(t,e);return n&&n[0]}var jE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!We(r)||r<=0||!We(i)||i<=0)},see=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lee=function(e){return e&&e.type&&ju(e.type)&&see.indexOf(e.type)>=0},uee=function(e,n,r,i){var a,o=(a=h1==null?void 0:h1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!wt(e)&&(i&&o.includes(n)||nee.includes(n))||r&&NS.includes(n)},bt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ae.isValidElement(e)&&(i=e.props),!yd(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;uee((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},g2=function t(e,n){if(e===n)return!0;var r=ae.Children.count(e);if(r!==ae.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!RE(a,o))return!1}return!0},RE=function(e,n){if(Lt(e)&&Lt(n))return!0;if(!Lt(e)&&!Lt(n)){var r=e.props||{},i=r.children,a=IE(r,iee),o=n.props||{},s=o.children,l=IE(o,aee);return i&&s?xf(a,l)&&g2(i,s):!i&&!s?xf(a,l):!1}return!1},BE=function(e,n){var r=[],i={};return ES(e).forEach(function(a,o){if(lee(a))r.push(a);else if(a){var s=ns(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},cee=function(e){var n=e&&e.type;return n&&DE[n]?DE[n]:null},fee=function(e,n){return ES(n).indexOf(e)},dee=["children","width","height","viewBox","className","style","title","desc"];function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v2.apply(this,arguments)}function hee(t,e){if(t==null)return{};var n=pee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=hee(t,dee),c=i||{width:n,height:r,x:0,y:0},f=It("recharts-surface",a);return de.createElement("svg",v2({},bt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var Aee=["children","className"];function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b2.apply(this,arguments)}function mee(t,e){if(t==null)return{};var n=gee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var an=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=mee(t,Aee),a=It("recharts-layer",r);return de.createElement("g",b2({className:a},bt(i,!0),{ref:e}),n)}),Ja=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function vee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var yee=vee,bee=yee;function xee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:bee(t,e,n)}var wee=xee,See="\\ud800-\\udfff",_ee="\\u0300-\\u036f",Tee="\\ufe20-\\ufe2f",Cee="\\u20d0-\\u20ff",Nee=_ee+Tee+Cee,Eee="\\ufe0e\\ufe0f",kee="\\u200d",Pee=RegExp("["+kee+See+Nee+Eee+"]");function Mee(t){return Pee.test(t)}var AD=Mee;function Oee(t){return t.split("")}var Iee=Oee,mD="\\ud800-\\udfff",Dee="\\u0300-\\u036f",Lee="\\ufe20-\\ufe2f",jee="\\u20d0-\\u20ff",Ree=Dee+Lee+jee,Bee="\\ufe0e\\ufe0f",$ee="["+mD+"]",x2="["+Ree+"]",w2="\\ud83c[\\udffb-\\udfff]",Fee="(?:"+x2+"|"+w2+")",gD="[^"+mD+"]",vD="(?:\\ud83c[\\udde6-\\uddff]){2}",yD="[\\ud800-\\udbff][\\udc00-\\udfff]",Uee="\\u200d",bD=Fee+"?",xD="["+Bee+"]?",qee="(?:"+Uee+"(?:"+[gD,vD,yD].join("|")+")"+xD+bD+")*",Hee=xD+bD+qee,zee="(?:"+[gD+x2+"?",x2,vD,yD,$ee].join("|")+")",Vee=RegExp(w2+"(?="+w2+")|"+zee+Hee,"g");function Gee(t){return t.match(Vee)||[]}var Wee=Gee,Yee=Iee,Kee=AD,Jee=Wee;function Xee(t){return Kee(t)?Jee(t):Yee(t)}var Qee=Xee,Zee=wee,ete=AD,tte=Qee,nte=uD;function rte(t){return function(e){e=nte(e);var n=ete(e)?tte(e):void 0,r=n?n[0]:e.charAt(0),i=n?Zee(n,1).join(""):e.slice(1);return r[t]()+i}}var ite=rte,ate=ite,ote=ate("toUpperCase"),ste=ote;const Yv=Qt(ste);function xn(t){return function(){return t}}const wD=Math.cos,s0=Math.sin,to=Math.sqrt,l0=Math.PI,Kv=2*l0,S2=Math.PI,_2=2*S2,ou=1e-6,lte=_2-ou;function SD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ute(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SD:ute(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ou)if(!(Math.abs(f*l-u*c)>ou)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-o,v=i-s,b=l*l+u*u,w=A*A+v*v,y=Math.sqrt(b),x=Math.sqrt(h),S=a*Math.tan((S2-Math.acos((b+h-w)/(2*y*x)))/2),T=S/x,C=S/y;Math.abs(T-1)>ou&&this._append`L${e+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*A>c*v)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ou||Math.abs(this._y1-c)>ou)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%_2+_2),h>lte?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>ou&&this._append`A${r},${r},0,${+(h>=S2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cte(e)}function PS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _D(t){this._context=t}_D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jv(t){return new _D(t)}function TD(t){return t[0]}function CD(t){return t[1]}function ND(t,e){var n=xn(!0),r=null,i=Jv,a=null,o=kS(s);t=typeof t=="function"?t:t===void 0?TD:xn(t),e=typeof e=="function"?e:e===void 0?CD:xn(e);function s(l){var u,c=(l=PS(l)).length,f,h=!1,A;for(r==null&&(a=i(A=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(A)return a=null,A+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Vm(t,e,n){var r=null,i=xn(!0),a=null,o=Jv,s=null,l=kS(u);t=typeof t=="function"?t:t===void 0?TD:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?CD:xn(+n);function u(f){var h,A,v,b=(f=PS(f)).length,w,y=!1,x,S=new Array(b),T=new Array(b);for(a==null&&(s=o(x=l())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===y)if(y=!y)A=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=A;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}y&&(S[h]=+t(w,h,f),T[h]=+e(w,h,f),s.point(r?+r(w,h,f):S[h],n?+n(w,h,f):T[h]))}if(x)return s=null,x+""||null}function c(){return ND().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:xn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class ED{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fte(t){return new ED(t,!0)}function dte(t){return new ED(t,!1)}const MS={draw(t,e){const n=to(e/l0);t.moveTo(n,0),t.arc(0,0,n,0,Kv)}},hte={draw(t,e){const n=to(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},kD=to(1/3),pte=kD*2,Ate={draw(t,e){const n=to(e/pte),r=n*kD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mte={draw(t,e){const n=to(e),r=-n/2;t.rect(r,r,n,n)}},gte=.8908130915292852,PD=s0(l0/10)/s0(7*l0/10),vte=s0(Kv/10)*PD,yte=-wD(Kv/10)*PD,bte={draw(t,e){const n=to(e*gte),r=vte*n,i=yte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Kv*a/5,s=wD(o),l=s0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},A1=to(3),xte={draw(t,e){const n=-to(e/(A1*3));t.moveTo(0,n*2),t.lineTo(-A1*n,-n),t.lineTo(A1*n,-n),t.closePath()}},ha=-.5,pa=to(3)/2,T2=1/to(12),wte=(T2/2+1)*3,Ste={draw(t,e){const n=to(e/wte),r=n/2,i=n*T2,a=r,o=n*T2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ha*r-pa*i,pa*r+ha*i),t.lineTo(ha*a-pa*o,pa*a+ha*o),t.lineTo(ha*s-pa*l,pa*s+ha*l),t.lineTo(ha*r+pa*i,ha*i-pa*r),t.lineTo(ha*a+pa*o,ha*o-pa*a),t.lineTo(ha*s+pa*l,ha*l-pa*s),t.closePath()}};function _te(t,e){let n=null,r=kS(i);t=typeof t=="function"?t:xn(t||MS),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function u0(){}function c0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function MD(t){this._context=t}MD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tte(t){return new MD(t)}function OD(t){this._context=t}OD.prototype={areaStart:u0,areaEnd:u0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:c0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cte(t){return new OD(t)}function ID(t){this._context=t}ID.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:c0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nte(t){return new ID(t)}function DD(t){this._context=t}DD.prototype={areaStart:u0,areaEnd:u0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ete(t){return new DD(t)}function $E(t){return t<0?-1:1}function FE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return($E(a)+$E(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function UE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function m1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function f0(t){this._context=t}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m1(this,this._t0,UE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,m1(this,UE(this,n=FE(this,t,e)),n);break;default:m1(this,this._t0,n=FE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LD(t){this._context=new jD(t)}(LD.prototype=Object.create(f0.prototype)).point=function(t,e){f0.prototype.point.call(this,e,t)};function jD(t){this._context=t}jD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function kte(t){return new f0(t)}function Pte(t){return new LD(t)}function RD(t){this._context=t}RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qE(t),i=qE(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qE(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Mte(t){return new RD(t)}function Xv(t,e){this._context=t,this._t=e}Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ote(t){return new Xv(t,.5)}function Ite(t){return new Xv(t,0)}function Dte(t){return new Xv(t,1)}function Lf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function C2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Lte(t,e){return t[e]}function jte(t){const e=[];return e.key=t,e}function Rte(){var t=xn([]),e=C2,n=Lf,r=Lte;function i(a){var o=Array.from(t.apply(this,arguments),jte),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=PS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?C2:typeof a=="function"?a:xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Lf,i):n},i}function Bte(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Lf(t,e)}}function $te(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Lf(t,e)}}function Fte(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,A=(f-h)/2,v=0;v<s;++v){var b=t[e[v]],w=b[r][1]||0,y=b[r-1][1]||0;A+=w-y}l+=f,u+=A*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Lf(t,e)}}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}var Ute=["type","size","sizeType"];function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N2.apply(this,arguments)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qte(t,e,n){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=zte(t,"string");return kp(e)=="symbol"?e:e+""}function zte(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vte(t,e){if(t==null)return{};var n=Gte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var BD={symbolCircle:MS,symbolCross:hte,symbolDiamond:Ate,symbolSquare:mte,symbolStar:bte,symbolTriangle:xte,symbolWye:Ste},Wte=Math.PI/180,Yte=function(e){var n="symbol".concat(Yv(e));return BD[n]||MS},Kte=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Wte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Jte=function(e,n){BD["symbol".concat(Yv(e))]=n},OS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Vte(e,Ute),u=zE(zE({},l),{},{type:r,size:a,sizeType:s}),c=function(){var w=Yte(r),y=_te().type(w).size(Kte(a,s,r));return y()},f=u.className,h=u.cx,A=u.cy,v=bt(u,!0);return h===+h&&A===+A&&a===+a?de.createElement("path",N2({},v,{className:It("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(A,")"),d:c()})):null};OS.registerSymbol=Jte;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E2.apply(this,arguments)}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){Pp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function ene(t,e,n){return e&&Zte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tne(t,e,n){return e=d0(e),nne(t,$D()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function nne(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rne(t)}function rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k2(t,e)}function k2(t,e){return k2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k2(t,e)}function Pp(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=ane(t,"string");return jf(e)=="symbol"?e:e+""}function ane(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aa=32,IS=function(t){function e(){return Qte(this,e),tne(this,e,arguments)}return ine(e,t),ene(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Aa/2,o=Aa/6,s=Aa/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Aa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Aa,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Aa/8,"h").concat(Aa,"v").concat(Aa*3/4,"h").concat(-Aa,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var u=Xte({},r);return delete u.legendIcon,de.cloneElement(r.legendIcon,u)}return de.createElement(OS,{fill:l,cx:a,cy:a,size:Aa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Aa,height:Aa},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(A,v){var b=A.formatter||l,w=It(Pp(Pp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",A.inactive));if(A.type==="none")return null;var y=wt(A.value)?null:A.value;Ja(!wt(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=A.inactive?u:A.color;return de.createElement("li",E2({className:w,style:f,key:"legend-item-".concat(v)},Ru(r.props,A,v)),de.createElement(y2,{width:o,height:o,viewBox:c,style:h},r.renderIcon(A)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(y,A,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(ae.PureComponent);Pp(IS,"displayName","Legend");Pp(IS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var one=Lv;function sne(){this.__data__=new one,this.size=0}var lne=sne;function une(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var cne=une;function fne(t){return this.__data__.get(t)}var dne=fne;function hne(t){return this.__data__.has(t)}var pne=hne,Ane=Lv,mne=bS,gne=xS,vne=200;function yne(t,e){var n=this.__data__;if(n instanceof Ane){var r=n.__data__;if(!mne||r.length<vne-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gne(r)}return n.set(t,e),this.size=n.size,this}var bne=yne,xne=Lv,wne=lne,Sne=cne,_ne=dne,Tne=pne,Cne=bne;function Sd(t){var e=this.__data__=new xne(t);this.size=e.size}Sd.prototype.clear=wne;Sd.prototype.delete=Sne;Sd.prototype.get=_ne;Sd.prototype.has=Tne;Sd.prototype.set=Cne;var UD=Sd,Nne="__lodash_hash_undefined__";function Ene(t){return this.__data__.set(t,Nne),this}var kne=Ene;function Pne(t){return this.__data__.has(t)}var Mne=Pne,One=xS,Ine=kne,Dne=Mne;function h0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new One;++e<n;)this.add(t[e])}h0.prototype.add=h0.prototype.push=Ine;h0.prototype.has=Dne;var qD=h0;function Lne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var HD=Lne;function jne(t,e){return t.has(e)}var zD=jne,Rne=qD,Bne=HD,$ne=zD,Fne=1,Une=2;function qne(t,e,n,r,i,a){var o=n&Fne,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,A=n&Une?new Rne:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,a):r(v,b,f,t,e,a);if(w!==void 0){if(w)continue;h=!1;break}if(A){if(!Bne(e,function(y,x){if(!$ne(A,x)&&(v===y||i(v,y,n,r,a)))return A.push(x)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var VD=qne,Hne=_o,zne=Hne.Uint8Array,Vne=zne;function Gne(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Wne=Gne;function Yne(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var DS=Yne,GE=CA,WE=Vne,Kne=yS,Jne=VD,Xne=Wne,Qne=DS,Zne=1,ere=2,tre="[object Boolean]",nre="[object Date]",rre="[object Error]",ire="[object Map]",are="[object Number]",ore="[object RegExp]",sre="[object Set]",lre="[object String]",ure="[object Symbol]",cre="[object ArrayBuffer]",fre="[object DataView]",YE=GE?GE.prototype:void 0,g1=YE?YE.valueOf:void 0;function dre(t,e,n,r,i,a,o){switch(n){case fre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cre:return!(t.byteLength!=e.byteLength||!a(new WE(t),new WE(e)));case tre:case nre:case are:return Kne(+t,+e);case rre:return t.name==e.name&&t.message==e.message;case ore:case lre:return t==e+"";case ire:var s=Xne;case sre:var l=r&Zne;if(s||(s=Qne),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=ere,o.set(t,e);var c=Jne(s(t),s(e),r,i,a,o);return o.delete(t),c;case ure:if(g1)return g1.call(t)==g1.call(e)}return!1}var hre=dre;function pre(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var GD=pre,Are=GD,mre=Ni;function gre(t,e,n){var r=e(t);return mre(t)?r:Are(r,n(t))}var vre=gre;function yre(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var bre=yre;function xre(){return[]}var wre=xre,Sre=bre,_re=wre,Tre=Object.prototype,Cre=Tre.propertyIsEnumerable,KE=Object.getOwnPropertySymbols,Nre=KE?function(t){return t==null?[]:(t=Object(t),Sre(KE(t),function(e){return Cre.call(t,e)}))}:_re,Ere=Nre;function kre(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Pre=kre,Mre=As,Ore=ms,Ire="[object Arguments]";function Dre(t){return Ore(t)&&Mre(t)==Ire}var Lre=Dre,JE=Lre,jre=ms,WD=Object.prototype,Rre=WD.hasOwnProperty,Bre=WD.propertyIsEnumerable,$re=JE(function(){return arguments}())?JE:function(t){return jre(t)&&Rre.call(t,"callee")&&!Bre.call(t,"callee")},LS=$re,p0={exports:{}};function Fre(){return!1}var Ure=Fre;p0.exports;(function(t,e){var n=_o,r=Ure,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(p0,p0.exports);var YD=p0.exports,qre=9007199254740991,Hre=/^(?:0|[1-9]\d*)$/;function zre(t,e){var n=typeof t;return e=e??qre,!!e&&(n=="number"||n!="symbol"&&Hre.test(t))&&t>-1&&t%1==0&&t<e}var jS=zre,Vre=9007199254740991;function Gre(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Vre}var RS=Gre,Wre=As,Yre=RS,Kre=ms,Jre="[object Arguments]",Xre="[object Array]",Qre="[object Boolean]",Zre="[object Date]",eie="[object Error]",tie="[object Function]",nie="[object Map]",rie="[object Number]",iie="[object Object]",aie="[object RegExp]",oie="[object Set]",sie="[object String]",lie="[object WeakMap]",uie="[object ArrayBuffer]",cie="[object DataView]",fie="[object Float32Array]",die="[object Float64Array]",hie="[object Int8Array]",pie="[object Int16Array]",Aie="[object Int32Array]",mie="[object Uint8Array]",gie="[object Uint8ClampedArray]",vie="[object Uint16Array]",yie="[object Uint32Array]",Cn={};Cn[fie]=Cn[die]=Cn[hie]=Cn[pie]=Cn[Aie]=Cn[mie]=Cn[gie]=Cn[vie]=Cn[yie]=!0;Cn[Jre]=Cn[Xre]=Cn[uie]=Cn[Qre]=Cn[cie]=Cn[Zre]=Cn[eie]=Cn[tie]=Cn[nie]=Cn[rie]=Cn[iie]=Cn[aie]=Cn[oie]=Cn[sie]=Cn[lie]=!1;function bie(t){return Kre(t)&&Yre(t.length)&&!!Cn[Wre(t)]}var xie=bie;function wie(t){return function(e){return t(e)}}var KD=wie,A0={exports:{}};A0.exports;(function(t,e){var n=rD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(A0,A0.exports);var Sie=A0.exports,_ie=xie,Tie=KD,XE=Sie,QE=XE&&XE.isTypedArray,Cie=QE?Tie(QE):_ie,JD=Cie,Nie=Pre,Eie=LS,kie=Ni,Pie=YD,Mie=jS,Oie=JD,Iie=Object.prototype,Die=Iie.hasOwnProperty;function Lie(t,e){var n=kie(t),r=!n&&Eie(t),i=!n&&!r&&Pie(t),a=!n&&!r&&!i&&Oie(t),o=n||r||i||a,s=o?Nie(t.length,String):[],l=s.length;for(var u in t)(e||Die.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mie(u,l)))&&s.push(u);return s}var jie=Lie,Rie=Object.prototype;function Bie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Rie;return t===n}var $ie=Bie;function Fie(t,e){return function(n){return t(e(n))}}var XD=Fie,Uie=XD,qie=Uie(Object.keys,Object),Hie=qie,zie=$ie,Vie=Hie,Gie=Object.prototype,Wie=Gie.hasOwnProperty;function Yie(t){if(!zie(t))return Vie(t);var e=[];for(var n in Object(t))Wie.call(t,n)&&n!="constructor"&&e.push(n);return e}var Kie=Yie,Jie=vS,Xie=RS;function Qie(t){return t!=null&&Xie(t.length)&&!Jie(t)}var kA=Qie,Zie=jie,eae=Kie,tae=kA;function nae(t){return tae(t)?Zie(t):eae(t)}var Qv=nae,rae=vre,iae=Ere,aae=Qv;function oae(t){return rae(t,aae,iae)}var sae=oae,ZE=sae,lae=1,uae=Object.prototype,cae=uae.hasOwnProperty;function fae(t,e,n,r,i,a){var o=n&lae,s=ZE(t),l=s.length,u=ZE(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:cae.call(e,h)))return!1}var A=a.get(t),v=a.get(e);if(A&&v)return A==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){h=s[f];var y=t[h],x=e[h];if(r)var S=o?r(x,y,h,e,t,a):r(y,x,h,t,e,a);if(!(S===void 0?y===x||i(y,x,n,r,a):S)){b=!1;break}w||(w=h=="constructor")}if(b&&!w){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(b=!1)}return a.delete(t),a.delete(e),b}var dae=fae,hae=Ju,pae=_o,Aae=hae(pae,"DataView"),mae=Aae,gae=Ju,vae=_o,yae=gae(vae,"Promise"),bae=yae,xae=Ju,wae=_o,Sae=xae(wae,"Set"),QD=Sae,_ae=Ju,Tae=_o,Cae=_ae(Tae,"WeakMap"),Nae=Cae,P2=mae,M2=bS,O2=bae,I2=QD,D2=Nae,ZD=As,_d=aD,e4="[object Map]",Eae="[object Object]",t4="[object Promise]",n4="[object Set]",r4="[object WeakMap]",i4="[object DataView]",kae=_d(P2),Pae=_d(M2),Mae=_d(O2),Oae=_d(I2),Iae=_d(D2),su=ZD;(P2&&su(new P2(new ArrayBuffer(1)))!=i4||M2&&su(new M2)!=e4||O2&&su(O2.resolve())!=t4||I2&&su(new I2)!=n4||D2&&su(new D2)!=r4)&&(su=function(t){var e=ZD(t),n=e==Eae?t.constructor:void 0,r=n?_d(n):"";if(r)switch(r){case kae:return i4;case Pae:return e4;case Mae:return t4;case Oae:return n4;case Iae:return r4}return e});var Dae=su,v1=UD,Lae=VD,jae=hre,Rae=dae,a4=Dae,o4=Ni,s4=YD,Bae=JD,$ae=1,l4="[object Arguments]",u4="[object Array]",Gm="[object Object]",Fae=Object.prototype,c4=Fae.hasOwnProperty;function Uae(t,e,n,r,i,a){var o=o4(t),s=o4(e),l=o?u4:a4(t),u=s?u4:a4(e);l=l==l4?Gm:l,u=u==l4?Gm:u;var c=l==Gm,f=u==Gm,h=l==u;if(h&&s4(t)){if(!s4(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new v1),o||Bae(t)?Lae(t,e,n,r,i,a):jae(t,e,l,n,r,i,a);if(!(n&$ae)){var A=c&&c4.call(t,"__wrapped__"),v=f&&c4.call(e,"__wrapped__");if(A||v){var b=A?t.value():t,w=v?e.value():e;return a||(a=new v1),i(b,w,n,r,a)}}return h?(a||(a=new v1),Rae(t,e,n,r,i,a)):!1}var qae=Uae,Hae=qae,f4=ms;function eL(t,e,n,r,i){return t===e?!0:t==null||e==null||!f4(t)&&!f4(e)?t!==t&&e!==e:Hae(t,e,n,r,eL,i)}var BS=eL,zae=UD,Vae=BS,Gae=1,Wae=2;function Yae(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new zae;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Vae(c,u,Gae|Wae,r,f):h))return!1}}return!0}var Kae=Yae,Jae=Ol;function Xae(t){return t===t&&!Jae(t)}var tL=Xae,Qae=tL,Zae=Qv;function eoe(t){for(var e=Zae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Qae(i)]}return e}var toe=eoe;function noe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nL=noe,roe=Kae,ioe=toe,aoe=nL;function ooe(t){var e=ioe(t);return e.length==1&&e[0][2]?aoe(e[0][0],e[0][1]):function(n){return n===t||roe(n,t,e)}}var soe=ooe;function loe(t,e){return t!=null&&e in Object(t)}var uoe=loe,coe=cD,foe=LS,doe=Ni,hoe=jS,poe=RS,Aoe=Rv;function moe(t,e,n){e=coe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Aoe(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&poe(i)&&hoe(o,i)&&(doe(t)||foe(t)))}var goe=moe,voe=uoe,yoe=goe;function boe(t,e){return t!=null&&yoe(t,e,voe)}var xoe=boe,woe=BS,Soe=fD,_oe=xoe,Toe=gS,Coe=tL,Noe=nL,Eoe=Rv,koe=1,Poe=2;function Moe(t,e){return Toe(t)&&Coe(e)?Noe(Eoe(t),e):function(n){var r=Soe(n,t);return r===void 0&&r===e?_oe(n,t):woe(e,r,koe|Poe)}}var Ooe=Moe;function Ioe(t){return t}var Td=Ioe;function Doe(t){return function(e){return e==null?void 0:e[t]}}var Loe=Doe,joe=_S;function Roe(t){return function(e){return joe(e,t)}}var Boe=Roe,$oe=Loe,Foe=Boe,Uoe=gS,qoe=Rv;function Hoe(t){return Uoe(t)?$oe(qoe(t)):Foe(t)}var zoe=Hoe,Voe=soe,Goe=Ooe,Woe=Td,Yoe=Ni,Koe=zoe;function Joe(t){return typeof t=="function"?t:t==null?Woe:typeof t=="object"?Yoe(t)?Goe(t[0],t[1]):Voe(t):Koe(t)}var To=Joe;function Xoe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var rL=Xoe;function Qoe(t){return t!==t}var Zoe=Qoe;function ese(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var tse=ese,nse=rL,rse=Zoe,ise=tse;function ase(t,e,n){return e===e?ise(t,e,n):nse(t,rse,n)}var ose=ase,sse=ose;function lse(t,e){var n=t==null?0:t.length;return!!n&&sse(t,e,0)>-1}var use=lse;function cse(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var fse=cse;function dse(){}var hse=dse,y1=QD,pse=hse,Ase=DS,mse=1/0,gse=y1&&1/Ase(new y1([,-0]))[1]==mse?function(t){return new y1(t)}:pse,vse=gse,yse=qD,bse=use,xse=fse,wse=zD,Sse=vse,_se=DS,Tse=200;function Cse(t,e,n){var r=-1,i=bse,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=xse;else if(a>=Tse){var u=e?null:Sse(t);if(u)return _se(u);o=!1,i=wse,l=new yse}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Nse=Cse,Ese=To,kse=Nse;function Pse(t,e){return t&&t.length?kse(t,Ese(e)):[]}var Mse=Pse;const d4=Qt(Mse);function iL(t,e,n){return e===!0?d4(t,n):wt(e)?d4(t,e):t}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var Ose=["ref"];function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function Dse(t,e,n){return e&&p4(t.prototype,e),n&&p4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lse(t,e,n){return e=m0(e),jse(t,aL()?Reflect.construct(e,n||[],m0(t).constructor):e.apply(t,n))}function jse(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rse(t)}function Rse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m0(t)}function Bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L2(t,e)}function Zv(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=$se(t,"string");return Rf(e)=="symbol"?e:e+""}function $se(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fse(t,e){if(t==null)return{};var n=Use(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Use(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qse(t){return t.value}function Hse(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=Fse(e,Ose);return de.createElement(IS,n)}var A4=1,Nu=function(t){function e(){var n;Ise(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Lse(this,e,[].concat(i)),Zv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Bse(e,t),Dse(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A4||Math.abs(i.height-this.lastBoundingBox.height)>A4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var A=this.getBBoxSnapshot();f={left:((u||0)-A.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Uo(Uo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Uo(Uo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(A){r.wrapperNode=A}},Hse(a,Uo(Uo({},this.props),{},{payload:iL(c,u,qse)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Uo(Uo({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&We(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(ae.PureComponent);Zv(Nu,"displayName","Legend");Zv(Nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var m4=CA,zse=LS,Vse=Ni,g4=m4?m4.isConcatSpreadable:void 0;function Gse(t){return Vse(t)||zse(t)||!!(g4&&t&&t[g4])}var Wse=Gse,Yse=GD,Kse=Wse;function sL(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Kse),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?sL(s,e-1,n,r,i):Yse(i,s):r||(i[i.length]=s)}return i}var lL=sL;function Jse(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Xse=Jse,Qse=Xse,Zse=Qse(),ele=Zse,tle=ele,nle=Qv;function rle(t,e){return t&&tle(t,e,nle)}var uL=rle,ile=kA;function ale(t,e){return function(n,r){if(n==null)return n;if(!ile(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ole=ale,sle=uL,lle=ole,ule=lle(sle),$S=ule,cle=$S,fle=kA;function dle(t,e){var n=-1,r=fle(t)?Array(t.length):[];return cle(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var cL=dle;function hle(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ple=hle,v4=vd;function Ale(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=v4(t),o=e!==void 0,s=e===null,l=e===e,u=v4(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var mle=Ale,gle=mle;function vle(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=gle(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var yle=vle,b1=SS,ble=_S,xle=To,wle=cL,Sle=ple,_le=KD,Tle=yle,Cle=Td,Nle=Ni;function Ele(t,e,n){e.length?e=b1(e,function(a){return Nle(a)?function(o){return ble(o,a.length===1?a[0]:a)}:a}):e=[Cle];var r=-1;e=b1(e,_le(xle));var i=wle(t,function(a,o,s){var l=b1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Sle(i,function(a,o){return Tle(a,o,n)})}var kle=Ele;function Ple(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Mle=Ple,Ole=Mle,y4=Math.max;function Ile(t,e,n){return e=y4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=y4(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ole(t,this,s)}}var Dle=Ile;function Lle(t){return function(){return t}}var jle=Lle,Rle=Ju,Ble=function(){try{var t=Rle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fL=Ble,$le=jle,b4=fL,Fle=Td,Ule=b4?function(t,e){return b4(t,"toString",{configurable:!0,enumerable:!1,value:$le(e),writable:!0})}:Fle,qle=Ule,Hle=800,zle=16,Vle=Date.now;function Gle(t){var e=0,n=0;return function(){var r=Vle(),i=zle-(r-n);if(n=r,i>0){if(++e>=Hle)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Wle=Gle,Yle=qle,Kle=Wle,Jle=Kle(Yle),Xle=Jle,Qle=Td,Zle=Dle,eue=Xle;function tue(t,e){return eue(Zle(t,e,Qle),t+"")}var nue=tue,rue=yS,iue=kA,aue=jS,oue=Ol;function sue(t,e,n){if(!oue(n))return!1;var r=typeof e;return(r=="number"?iue(n)&&aue(e,n.length):r=="string"&&e in n)?rue(n[e],t):!1}var ey=sue,lue=lL,uue=kle,cue=nue,x4=ey,fue=cue(function(t,e){if(t==null)return[];var n=e.length;return n>1&&x4(t,e[0],e[1])?e=[]:n>2&&x4(e[0],e[1],e[2])&&(e=[e[0]]),uue(t,lue(e,1),[])}),due=fue;const FS=Qt(due);function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function hue(t,e){return gue(t)||mue(t,e)||Aue(t,e)||pue()}function pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(t,e){if(t){if(typeof t=="string")return w4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w4(t,e)}}function w4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gue(t){if(Array.isArray(t))return t}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vue(t,e,n){return e=yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yue(t){var e=bue(t,"string");return Mp(e)=="symbol"?e:e+""}function bue(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xue(t){return Array.isArray(t)&&gr(t[0])&&gr(t[1])?t.join(" ~ "):t}var wue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,A=e.wrapperClassName,v=e.labelClassName,b=e.label,w=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,S=function(){if(c&&c.length){var M={padding:0,margin:0},B=(h?FS(c,h):c).map(function(F,G){if(F.type==="none")return null;var R=x1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),U=F.formatter||f||xue,V=F.value,K=F.name,ee=V,le=K;if(U&&ee!=null&&le!=null){var j=U(V,K,F,G,c);if(Array.isArray(j)){var z=hue(j,2);ee=z[0],le=z[1]}else ee=j}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:R},gr(le)?de.createElement("span",{className:"recharts-tooltip-item-name"},le):null,gr(le)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},ee),de.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:M},B)}return null},T=x1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=x1({margin:0},u),k=!Lt(b),E=k?b:"",I=It("recharts-default-tooltip",A),D=It("recharts-tooltip-label",v);k&&w&&c!==void 0&&c!==null&&(E=w(b,c));var $=x?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",j2({className:I,style:T},$),de.createElement("p",{className:D,style:C},de.isValidElement(E)?E:"".concat(E)),S())};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function Wm(t,e,n){return e=Sue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sue(t){var e=_ue(t,"string");return Op(e)=="symbol"?e:e+""}function _ue(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bh="recharts-tooltip-wrapper",Tue={visibility:"hidden"};function Cue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return It(bh,Wm(Wm(Wm(Wm({},"".concat(bh,"-right"),We(n)&&e&&We(e.x)&&n>=e.x),"".concat(bh,"-left"),We(n)&&e&&We(e.x)&&n<e.x),"".concat(bh,"-bottom"),We(r)&&e&&We(e.y)&&r>=e.y),"".concat(bh,"-top"),We(r)&&e&&We(e.y)&&r<e.y))}function _4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&We(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,A=l[r];return h<A?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function Nue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Eue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=_4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=_4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Nue({translateX:c,translateY:f,useTranslate3d:s})):u=Tue,{cssProperties:u,cssClasses:Cue({translateX:c,translateY:f,coordinate:n})}}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){B2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function Mue(t,e,n){return e&&Pue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oue(t,e,n){return e=g0(e),Iue(t,dL()?Reflect.construct(e,n||[],g0(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Due(t)}function Due(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(t)}function Lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R2(t,e)}function B2(t,e,n){return e=hL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=jue(t,"string");return Bf(e)=="symbol"?e:e+""}function jue(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var N4=1,Rue=function(t){function e(){var n;kue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oue(this,e,[].concat(i)),B2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),B2(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Lue(e,t),Mue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>N4||Math.abs(r.height-this.state.lastBoundingBox.height)>N4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,A=i.offset,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,S=Eue({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:A,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),T=S.cssClasses,C=S.cssProperties,k=C4(C4({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return de.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(I){r.wrapperNode=I}},u)}}])}(ae.PureComponent),Bue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cd={isSsr:Bue()};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){US(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AL(r.key),r)}}function Uue(t,e,n){return e&&Fue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function que(t,e,n){return e=v0(e),Hue(t,pL()?Reflect.construct(e,n||[],v0(t).constructor):e.apply(t,n))}function Hue(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zue(t)}function zue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v0(t)}function Vue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$2(t,e)}function US(t,e,n){return e=AL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AL(t){var e=Gue(t,"string");return $f(e)=="symbol"?e:e+""}function Gue(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wue(t){return t.dataKey}function Yue(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(wue,e)}var Ga=function(t){function e(){return $ue(this,e),que(this,e,arguments)}return Vue(e,t),Uue(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,A=i.offset,v=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=v??[];f&&C.length&&(C=iL(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,Wue));var k=C.length>0;return de.createElement(Rue,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:k,offset:A,position:w,reverseDirection:y,useTranslate3d:x,viewBox:S,wrapperStyle:T},Yue(u,k4(k4({},this.props),{},{payload:C})))}}])}(ae.PureComponent);US(Ga,"displayName","Tooltip");US(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kue=_o,Jue=function(){return Kue.Date.now()},Xue=Jue,Que=/\s/;function Zue(t){for(var e=t.length;e--&&Que.test(t.charAt(e)););return e}var ece=Zue,tce=ece,nce=/^\s+/;function rce(t){return t&&t.slice(0,tce(t)+1).replace(nce,"")}var ice=rce,ace=ice,P4=Ol,oce=vd,M4=NaN,sce=/^[-+]0x[0-9a-f]+$/i,lce=/^0b[01]+$/i,uce=/^0o[0-7]+$/i,cce=parseInt;function fce(t){if(typeof t=="number")return t;if(oce(t))return M4;if(P4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=P4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ace(t);var n=lce.test(t);return n||uce.test(t)?cce(t.slice(2),n?2:8):sce.test(t)?M4:+t}var mL=fce,dce=Ol,w1=Xue,O4=mL,hce="Expected a function",pce=Math.max,Ace=Math.min;function mce(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(hce);e=O4(e)||0,dce(n)&&(c=!!n.leading,f="maxWait"in n,a=f?pce(O4(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function A(k){var E=r,I=i;return r=i=void 0,u=k,o=t.apply(I,E),o}function v(k){return u=k,s=setTimeout(y,e),c?A(k):o}function b(k){var E=k-l,I=k-u,D=e-E;return f?Ace(D,a-I):D}function w(k){var E=k-l,I=k-u;return l===void 0||E>=e||E<0||f&&I>=a}function y(){var k=w1();if(w(k))return x(k);s=setTimeout(y,b(k))}function x(k){return s=void 0,h&&r?A(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:x(w1())}function C(){var k=w1(),E=w(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),A(l)}return s===void 0&&(s=setTimeout(y,e)),o}return C.cancel=S,C.flush=T,C}var gce=mce,vce=gce,yce=Ol,bce="Expected a function";function xce(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bce);return yce(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vce(t,e,{leading:r,maxWait:e,trailing:i})}var wce=xce;const gL=Qt(wce);function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=Tce(t,"string");return Ip(e)=="symbol"?e:e+""}function Tce(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){return Pce(t)||kce(t,e)||Ece(t,e)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(t,e){if(t){if(typeof t=="string")return D4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D4(t,e)}}function D4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pce(t){if(Array.isArray(t))return t}var L4=ae.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,A=t.children,v=t.debounce,b=v===void 0?0:v,w=t.id,y=t.className,x=t.onResize,S=t.style,T=S===void 0?{}:S,C=ae.useRef(null),k=ae.useRef();k.current=x,ae.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=ae.useState({containerWidth:i.width,containerHeight:i.height}),I=Cce(E,2),D=I[0],$=I[1],O=ae.useCallback(function(B,F){$(function(G){var R=Math.round(B),U=Math.round(F);return G.containerWidth===R&&G.containerHeight===U?G:{containerWidth:R,containerHeight:U}})},[]);ae.useEffect(function(){var B=function(K){var ee,le=K[0].contentRect,j=le.width,z=le.height;O(j,z),(ee=k.current)===null||ee===void 0||ee.call(k,j,z)};b>0&&(B=gL(B,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(B),G=C.current.getBoundingClientRect(),R=G.width,U=G.height;return O(R,U),F.observe(C.current),function(){F.disconnect()}},[O,b]);var M=ae.useMemo(function(){var B=D.containerWidth,F=D.containerHeight;if(B<0||F<0)return null;Ja(pu(o)||pu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ja(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=pu(o)?B:o,R=pu(l)?F:l;n&&n>0&&(G?R=G/n:R&&(G=R*n),h&&R>h&&(R=h)),Ja(G>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,R,o,l,c,f,n);var U=!Array.isArray(A)&&ns(A.type).endsWith("Chart");return de.Children.map(A,function(V){return de.isValidElement(V)?ae.cloneElement(V,Ym({width:G,height:R},U?{style:Ym({height:"100%",width:"100%",maxHeight:R,maxWidth:G},V.props.style)}:{})):V})},[n,A,l,h,f,c,D,o]);return de.createElement("div",{id:w?"".concat(w):void 0,className:It("recharts-responsive-container",y),style:Ym(Ym({},T),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:C},M)}),ty=function(e){return null};ty.displayName="Cell";function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){Mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mce(t,e,n){return e=Oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Ice(t,"string");return Dp(e)=="symbol"?e:e+""}function Ice(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kc={widthCache:{},cacheCount:0},Dce=2e3,Lce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R4="recharts_measurement_span";function jce(t){var e=F2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ip=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cd.isSsr)return{width:0,height:0};var r=jce(n),i=JSON.stringify({text:e,copyStyle:r});if(kc.widthCache[i])return kc.widthCache[i];try{var a=document.getElementById(R4);a||(a=document.createElement("span"),a.setAttribute("id",R4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=F2(F2({},Lce),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return kc.widthCache[i]=l,++kc.cacheCount>Dce&&(kc.cacheCount=0,kc.widthCache={}),l}catch{return{width:0,height:0}}},Rce=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function y0(t,e){return Uce(t)||Fce(t,e)||$ce(t,e)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(t,e){if(t){if(typeof t=="string")return B4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B4(t,e)}}function B4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uce(t){if(Array.isArray(t))return t}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zce(r.key),r)}}function Hce(t,e,n){return e&&$4(t.prototype,e),n&&$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zce(t){var e=Vce(t,"string");return Lp(e)=="symbol"?e:e+""}function Vce(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yce=Object.keys(vL),af="NaN";function Kce(t,e){return t*vL[e]}var Km=function(){function t(e,n){qce(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Gce.test(n)&&(this.num=NaN,this.unit=""),Yce.includes(n)&&(this.num=Kce(e,n),this.unit="px")}return Hce(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Wce.exec(n))!==null&&r!==void 0?r:[],a=y0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function yL(t){if(t.includes(af))return af;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=F4.exec(e))!==null&&n!==void 0?n:[],i=y0(r,4),a=i[1],o=i[2],s=i[3],l=Km.parse(a??""),u=Km.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return af;e=e.replace(F4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=U4.exec(e))!==null&&f!==void 0?f:[],A=y0(h,4),v=A[1],b=A[2],w=A[3],y=Km.parse(v??""),x=Km.parse(w??""),S=b==="+"?y.add(x):y.subtract(x);if(S.isNaN())return af;e=e.replace(U4,S.toString())}return e}var q4=/\(([^()]*)\)/;function Jce(t){for(var e=t;e.includes("(");){var n=q4.exec(e),r=y0(n,2),i=r[1];e=e.replace(q4,yL(i))}return e}function Xce(t){var e=t.replace(/\s+/g,"");return e=Jce(e),e=yL(e),e}function Qce(t){try{return Xce(t)}catch{return af}}function S1(t){var e=Qce(t.slice(5,-1));return e===af?"":e}var Zce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],efe=["dx","dy","angle","className","breakAll"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(this,arguments)}function H4(t,e){if(t==null)return{};var n=tfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z4(t,e){return afe(t)||ife(t,e)||rfe(t,e)||nfe()}function nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(t,e){if(t){if(typeof t=="string")return V4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V4(t,e)}}function V4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ife(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function afe(t){if(Array.isArray(t))return t}var bL=/[ \f\n\r\t\v\u2028\u2029]+/,xL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Lt(n)||(r?a=n.toString().split(""):a=n.toString().split(bL));var o=a.map(function(l){return{word:l,width:ip(l,i).width}}),s=r?0:ip(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},ofe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=We(o),f=s,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(R,U){var V=U.word,K=U.width,ee=R[R.length-1];if(ee&&(i==null||a||ee.width+K+r<Number(i)))ee.words.push(V),ee.width+=K+r;else{var le={words:[V],width:K};R.push(le)}return R},[])},A=h(n),v=function(G){return G.reduce(function(R,U){return R.width>U.width?R:U})};if(!c)return A;for(var b="…",w=function(G){var R=f.slice(0,G),U=xL({breakAll:u,style:l,children:R+b}).wordsWithComputedWidth,V=h(U),K=V.length>o||v(V).width>Number(i);return[K,V]},y=0,x=f.length-1,S=0,T;y<=x&&S<=f.length-1;){var C=Math.floor((y+x)/2),k=C-1,E=w(k),I=z4(E,2),D=I[0],$=I[1],O=w(C),M=z4(O,1),B=M[0];if(!D&&!B&&(y=C+1),D&&B&&(x=C-1),!D&&B){T=$;break}S++}return T||A},G4=function(e){var n=Lt(e)?[]:e.toString().split(bL);return[{words:n}]},sfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Cd.isSsr){var l,u,c=xL({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return G4(i);return ofe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return G4(i)},W4="#808080",Bu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,A=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,w=e.fill,y=w===void 0?W4:w,x=H4(e,Zce),S=ae.useMemo(function(){return sfe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),T=x.dx,C=x.dy,k=x.angle,E=x.className,I=x.breakAll,D=H4(x,efe);if(!gr(r)||!gr(a))return null;var $=r+(We(T)?T:0),O=a+(We(C)?C:0),M;switch(b){case"start":M=S1("calc(".concat(u,")"));break;case"middle":M=S1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=S1("calc(".concat(S.length-1," * -").concat(s,")"));break}var B=[];if(f){var F=S[0].width,G=x.width;B.push("scale(".concat((We(G)?G/F:1)/F,")"))}return k&&B.push("rotate(".concat(k,", ").concat($,", ").concat(O,")")),B.length&&(D.transform=B.join(" ")),de.createElement("text",U2({},bt(D,!0),{x:$,y:O,className:It("recharts-text",E),textAnchor:A,fill:y.includes("url")?W4:y}),S.map(function(R,U){var V=R.words.join(I?"":" ");return de.createElement("tspan",{x:$,dy:U===0?M:s,key:"".concat(V,"-").concat(U)},V)}))};function xl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lfe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qS(t){let e,n,r;t.length!==2?(e=xl,n=(s,l)=>xl(t(s),l),r=(s,l)=>t(s)-l):(e=t===xl||t===lfe?t:ufe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function ufe(){return 0}function wL(t){return t===null?NaN:+t}function*cfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ffe=qS(xl),PA=ffe.right;qS(wL).center;class Y4 extends Map{constructor(e,n=pfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(K4(this,e))}has(e){return super.has(K4(this,e))}set(e,n){return super.set(dfe(this,e),n)}delete(e){return super.delete(hfe(this,e))}}function K4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Afe(t=xl){if(t===xl)return SL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mfe=Math.sqrt(50),gfe=Math.sqrt(10),vfe=Math.sqrt(2);function b0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=mfe?10:a>=gfe?5:a>=vfe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?b0(t,e,n*2):[s,l,u]}function q2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?b0(e,t,n):b0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function H2(t,e,n){return e=+e,t=+t,n=+n,b0(t,e,n)[2]}function z2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?H2(e,t,n):H2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function J4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function X4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _L(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?SL:Afe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),A=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));_L(t,e,A,v,i)}const a=t[e];let o=n,s=r;for(xh(t,n,e),i(t[r],a)>0&&xh(t,n,r);o<s;){for(xh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?xh(t,n,s):(++s,xh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function xh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yfe(t,e,n){if(t=Float64Array.from(cfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return X4(t);if(e>=1)return J4(t);var r,i=(r-1)*e,a=Math.floor(i),o=J4(_L(t,a).subarray(0,a+1)),s=X4(t.subarray(a+1));return o+(s-o)*(i-a)}}function bfe(t,e,n=wL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function xfe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const V2=Symbol("implicit");function HS(){var t=new Y4,e=[],n=[],r=V2;function i(a){let o=t.get(a);if(o===void 0){if(r!==V2)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Y4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return HS(e,n).unknown(r)},Da.apply(i,arguments),i}function jp(){var t=HS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,A=i<r,v=A?i:r,b=A?r:i;a=(b-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(h-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var w=xfe(h).map(function(y){return v+a*y});return n(A?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return jp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Da.apply(f(),arguments)}function TL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TL(e())},t}function ap(){return TL(jp.apply(null,arguments).paddingInner(1))}function zS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function MA(){}var Rp=.7,x0=1/Rp,wf="\\s*([+-]?\\d+)\\s*",Bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wfe=/^#([0-9a-f]{3,8})$/,Sfe=new RegExp(`^rgb\\(${wf},${wf},${wf}\\)$`),_fe=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),Tfe=new RegExp(`^rgba\\(${wf},${wf},${wf},${Bp}\\)$`),Cfe=new RegExp(`^rgba\\(${vo},${vo},${vo},${Bp}\\)$`),Nfe=new RegExp(`^hsl\\(${Bp},${vo},${vo}\\)$`),Efe=new RegExp(`^hsla\\(${Bp},${vo},${vo},${Bp}\\)$`),Q4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zS(MA,$p,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Z4,formatHex:Z4,formatHex8:kfe,formatHsl:Pfe,formatRgb:e3,toString:e3});function Z4(){return this.rgb().formatHex()}function kfe(){return this.rgb().formatHex8()}function Pfe(){return NL(this).formatHsl()}function e3(){return this.rgb().formatRgb()}function $p(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?t3(e):n===3?new xi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sfe.exec(t))?new xi(e[1],e[2],e[3],1):(e=_fe.exec(t))?new xi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tfe.exec(t))?Jm(e[1],e[2],e[3],e[4]):(e=Cfe.exec(t))?Jm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nfe.exec(t))?i3(e[1],e[2]/100,e[3]/100,1):(e=Efe.exec(t))?i3(e[1],e[2]/100,e[3]/100,e[4]):Q4.hasOwnProperty(t)?t3(Q4[t]):t==="transparent"?new xi(NaN,NaN,NaN,0):null}function t3(t){return new xi(t>>16&255,t>>8&255,t&255,1)}function Jm(t,e,n,r){return r<=0&&(t=e=n=NaN),new xi(t,e,n,r)}function Mfe(t){return t instanceof MA||(t=$p(t)),t?(t=t.rgb(),new xi(t.r,t.g,t.b,t.opacity)):new xi}function G2(t,e,n,r){return arguments.length===1?Mfe(t):new xi(t,e,n,r??1)}function xi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}zS(xi,G2,CL(MA,{brighter(t){return t=t==null?x0:Math.pow(x0,t),new xi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new xi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xi(Eu(this.r),Eu(this.g),Eu(this.b),w0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n3,formatHex:n3,formatHex8:Ofe,formatRgb:r3,toString:r3}));function n3(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}`}function Ofe(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}${Au((isNaN(this.opacity)?1:this.opacity)*255)}`}function r3(){const t=w0(this.opacity);return`${t===1?"rgb(":"rgba("}${Eu(this.r)}, ${Eu(this.g)}, ${Eu(this.b)}${t===1?")":`, ${t})`}`}function w0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Eu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Au(t){return t=Eu(t),(t<16?"0":"")+t.toString(16)}function i3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ka(t,e,n,r)}function NL(t){if(t instanceof Ka)return new Ka(t.h,t.s,t.l,t.opacity);if(t instanceof MA||(t=$p(t)),!t)return new Ka;if(t instanceof Ka)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ka(o,s,l,t.opacity)}function Ife(t,e,n,r){return arguments.length===1?NL(t):new Ka(t,e,n,r??1)}function Ka(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zS(Ka,Ife,CL(MA,{brighter(t){return t=t==null?x0:Math.pow(x0,t),new Ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new Ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xi(_1(t>=240?t-240:t+120,i,r),_1(t,i,r),_1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ka(a3(this.h),Xm(this.s),Xm(this.l),w0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=w0(this.opacity);return`${t===1?"hsl(":"hsla("}${a3(this.h)}, ${Xm(this.s)*100}%, ${Xm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a3(t){return t=(t||0)%360,t<0?t+360:t}function Xm(t){return Math.max(0,Math.min(1,t||0))}function _1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VS=t=>()=>t;function Dfe(t,e){return function(n){return t+n*e}}function Lfe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jfe(t){return(t=+t)==1?EL:function(e,n){return n-e?Lfe(e,n,t):VS(isNaN(e)?n:e)}}function EL(t,e){var n=e-t;return n?Dfe(t,n):VS(isNaN(t)?e:t)}const o3=function t(e){var n=jfe(e);function r(i,a){var o=n((i=G2(i)).r,(a=G2(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=EL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Rfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Bfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $fe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Nd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Ffe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function S0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ufe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var W2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T1=new RegExp(W2.source,"g");function qfe(t){return function(){return t}}function Hfe(t){return function(e){return t(e)+""}}function zfe(t,e){var n=W2.lastIndex=T1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=W2.exec(t))&&(i=T1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:S0(r,i)})),n=T1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Hfe(l[0].x):qfe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Nd(t,e){var n=typeof e,r;return e==null||n==="boolean"?VS(e):(n==="number"?S0:n==="string"?(r=$p(e))?(e=r,o3):zfe:e instanceof $p?o3:e instanceof Date?Ffe:Bfe(e)?Rfe:Array.isArray(e)?$fe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ufe:S0)(t,e)}function GS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Vfe(t,e){e===void 0&&(e=t,t=Nd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Gfe(t){return function(){return t}}function _0(t){return+t}var s3=[0,1];function si(t){return t}function Y2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gfe(isNaN(e)?NaN:.5)}function Wfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Yfe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Y2(i,r),a=n(o,a)):(r=Y2(r,i),a=n(a,o)),function(s){return a(r(s))}}function Kfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Y2(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=PA(t,s,1,r)-1;return a[l](i[l](s))}}function OA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ny(){var t=s3,e=s3,n=Nd,r,i,a,o=si,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==si&&(o=Wfe(t[0],t[h-1])),s=h>2?Kfe:Yfe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),S0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,_0),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=GS,c()},f.clamp=function(h){return arguments.length?(o=h?!0:si,c()):o!==si},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,A){return r=h,i=A,c()}}function WS(){return ny()(si,si)}function Jfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function T0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ff(t){return t=T0(Math.abs(t)),t?t[1]:NaN}function Xfe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Qfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fp(t){if(!(e=Zfe.exec(t)))throw new Error("invalid format: "+t);var e;return new YS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fp.prototype=YS.prototype;function YS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}YS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ede(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kL;function tde(t,e){var n=T0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(kL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+T0(t,Math.max(0,e+a-1))[0]}function l3(t,e){var n=T0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const u3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>l3(t*100,e),r:l3,s:tde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function c3(t){return t}var f3=Array.prototype.map,d3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nde(t){var e=t.grouping===void 0||t.thousands===void 0?c3:Xfe(f3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?c3:Qfe(f3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Fp(f);var h=f.fill,A=f.align,v=f.sign,b=f.symbol,w=f.zero,y=f.width,x=f.comma,S=f.precision,T=f.trim,C=f.type;C==="n"?(x=!0,C="g"):u3[C]||(S===void 0&&(S=12),T=!0,C="g"),(w||h==="0"&&A==="=")&&(w=!0,h="0",A="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=b==="$"?r:/[%p]/.test(C)?o:"",I=u3[C],D=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function $(O){var M=k,B=E,F,G,R;if(C==="c")B=I(O)+B,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?l:I(Math.abs(O),S),T&&(O=ede(O)),U&&+O==0&&v!=="+"&&(U=!1),M=(U?v==="("?v:s:v==="-"||v==="("?"":v)+M,B=(C==="s"?d3[8+kL/3]:"")+B+(U&&v==="("?")":""),D){for(F=-1,G=O.length;++F<G;)if(R=O.charCodeAt(F),48>R||R>57){B=(R===46?i+O.slice(F+1):O.slice(F))+B,O=O.slice(0,F);break}}}x&&!w&&(O=e(O,1/0));var V=M.length+O.length+B.length,K=V<y?new Array(y-V+1).join(h):"";switch(x&&w&&(O=e(K+O,K.length?y-B.length:1/0),K=""),A){case"<":O=M+O+B+K;break;case"=":O=M+K+O+B;break;case"^":O=K.slice(0,V=K.length>>1)+M+O+B+K.slice(V);break;default:O=K+M+O+B;break}return a(O)}return $.toString=function(){return f+""},$}function c(f,h){var A=u((f=Fp(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Ff(h)/3)))*3,b=Math.pow(10,-v),w=d3[8+v/3];return function(y){return A(b*y)+w}}return{format:u,formatPrefix:c}}var Qm,KS,PL;rde({thousands:",",grouping:[3],currency:["$",""]});function rde(t){return Qm=nde(t),KS=Qm.format,PL=Qm.formatPrefix,Qm}function ide(t){return Math.max(0,-Ff(Math.abs(t)))}function ade(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ff(e)/3)))*3-Ff(Math.abs(t)))}function ode(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ff(e)-Ff(t))+1}function ML(t,e,n,r){var i=z2(t,e,n),a;switch(r=Fp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ade(i,o))&&(r.precision=a),PL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ode(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ide(i))&&(r.precision=a-(r.type==="%")*2);break}}return KS(r)}function Il(t){var e=t.domain;return t.ticks=function(n){var r=e();return q2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ML(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=H2(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function C0(){var t=WS();return t.copy=function(){return OA(t,C0())},Da.apply(t,arguments),Il(t)}function OL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OL(t).unknown(e)},t=arguments.length?Array.from(t,_0):[0,1],Il(n)}function IL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function h3(t){return Math.log(t)}function p3(t){return Math.exp(t)}function sde(t){return-Math.log(-t)}function lde(t){return-Math.exp(-t)}function ude(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cde(t){return t===10?ude:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function A3(t){return(e,n)=>-t(-e,n)}function JS(t){const e=t(h3,p3),n=e.domain;let r=10,i,a;function o(){return i=fde(r),a=cde(r),n()[0]<0?(i=A3(i),a=A3(a),t(sde,lde)):t(h3,p3),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),A=i(c),v,b;const w=s==null?10:+s;let y=[];if(!(r%1)&&A-h<w){if(h=Math.floor(h),A=Math.ceil(A),u>0){for(;h<=A;++h)for(v=1;v<r;++v)if(b=h<0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}}else for(;h<=A;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}y.length*2<w&&(y=q2(u,c,w))}else y=q2(h,A,Math.min(A-h,w)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fp(l)).precision==null&&(l.trim=!0),l=KS(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(IL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function DL(){const t=JS(ny()).domain([1,10]);return t.copy=()=>OA(t,DL()).base(t.base()),Da.apply(t,arguments),t}function m3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function g3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function XS(t){var e=1,n=t(m3(e),g3(e));return n.constant=function(r){return arguments.length?t(m3(e=+r),g3(e)):e},Il(n)}function LL(){var t=XS(ny());return t.copy=function(){return OA(t,LL()).constant(t.constant())},Da.apply(t,arguments)}function v3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hde(t){return t<0?-t*t:t*t}function QS(t){var e=t(si,si),n=1;function r(){return n===1?t(si,si):n===.5?t(dde,hde):t(v3(n),v3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Il(e)}function ZS(){var t=QS(ny());return t.copy=function(){return OA(t,ZS()).exponent(t.exponent())},Da.apply(t,arguments),t}function pde(){return ZS.apply(null,arguments).exponent(.5)}function y3(t){return Math.sign(t)*t*t}function Ade(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jL(){var t=WS(),e=[0,1],n=!1,r;function i(a){var o=Ade(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(y3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,_0)).map(y3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Da.apply(i,arguments),Il(i)}function RL(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=bfe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[PA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return RL().domain(t).range(e).unknown(r)},Da.apply(a,arguments)}function BL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[PA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return BL().domain([t,e]).range(i).unknown(a)},Da.apply(Il(o),arguments)}function $L(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[PA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $L().domain(t).range(e).unknown(n)},Da.apply(i,arguments)}const C1=new Date,N1=new Date;function yr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>yr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(C1.setTime(+a),N1.setTime(+o),t(C1),t(N1),Math.floor(n(C1,N1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const N0=yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);N0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):N0);N0.range;const Jo=1e3,Ca=Jo*60,Xo=Ca*60,us=Xo*24,e_=us*7,b3=us*30,E1=us*365,mu=yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCSeconds());mu.range;const t_=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getMinutes());t_.range;const n_=yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCMinutes());n_.range;const r_=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo-t.getMinutes()*Ca)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getHours());r_.range;const i_=yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCHours());i_.range;const IA=yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/us,t=>t.getDate()-1);IA.range;const ry=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/us,t=>t.getUTCDate()-1);ry.range;const FL=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/us,t=>Math.floor(t/us));FL.range;function Xu(t){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/e_)}const iy=Xu(0),E0=Xu(1),mde=Xu(2),gde=Xu(3),Uf=Xu(4),vde=Xu(5),yde=Xu(6);iy.range;E0.range;mde.range;gde.range;Uf.range;vde.range;yde.range;function Qu(t){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/e_)}const ay=Qu(0),k0=Qu(1),bde=Qu(2),xde=Qu(3),qf=Qu(4),wde=Qu(5),Sde=Qu(6);ay.range;k0.range;bde.range;xde.range;qf.range;wde.range;Sde.range;const a_=yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());a_.range;const o_=yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());o_.range;const cs=yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cs.range;const fs=yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fs.range;function UL(t,e,n,r,i,a){const o=[[mu,1,Jo],[mu,5,5*Jo],[mu,15,15*Jo],[mu,30,30*Jo],[a,1,Ca],[a,5,5*Ca],[a,15,15*Ca],[a,30,30*Ca],[i,1,Xo],[i,3,3*Xo],[i,6,6*Xo],[i,12,12*Xo],[r,1,us],[r,2,2*us],[n,1,e_],[e,1,b3],[e,3,3*b3],[t,1,E1]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const A=f&&typeof f.range=="function"?f:l(u,c,f),v=A?A.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,A=qS(([,,w])=>w).right(o,h);if(A===o.length)return t.every(z2(u/E1,c/E1,f));if(A===0)return N0.every(Math.max(z2(u,c,f),1));const[v,b]=o[h/o[A-1][2]<o[A][2]/h?A-1:A];return v.every(b)}return[s,l]}const[_de,Tde]=UL(fs,o_,ay,FL,i_,n_),[Cde,Nde]=UL(cs,a_,iy,IA,r_,t_);function k1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ede(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Sh(i),c=_h(i),f=Sh(a),h=_h(a),A=Sh(o),v=_h(o),b=Sh(s),w=_h(s),y=Sh(l),x=_h(l),S={a:U,A:V,b:K,B:ee,c:null,d:C3,e:C3,f:Xde,g:she,G:uhe,H:Yde,I:Kde,j:Jde,L:qL,m:Qde,M:Zde,p:le,q:j,Q:k3,s:P3,S:ehe,u:the,U:nhe,V:rhe,w:ihe,W:ahe,x:null,X:null,y:ohe,Y:lhe,Z:che,"%":E3},T={a:z,A:Q,b:te,B:J,c:null,d:N3,e:N3,f:phe,g:_he,G:Che,H:fhe,I:dhe,j:hhe,L:zL,m:Ahe,M:mhe,p:se,q:ue,Q:k3,s:P3,S:ghe,u:vhe,U:yhe,V:bhe,w:xhe,W:whe,x:null,X:null,y:She,Y:The,Z:Nhe,"%":E3},C={a:$,A:O,b:M,B,c:F,d:_3,e:_3,f:zde,g:S3,G:w3,H:T3,I:T3,j:Fde,L:Hde,m:$de,M:Ude,p:D,q:Bde,Q:Gde,s:Wde,S:qde,u:Ide,U:Dde,V:Lde,w:Ode,W:jde,x:G,X:R,y:S3,Y:w3,Z:Rde,"%":Vde};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(ie,be){return function(Se){var fe=[],Ie=-1,Fe=0,_e=ie.length,re,Te,Ce;for(Se instanceof Date||(Se=new Date(+Se));++Ie<_e;)ie.charCodeAt(Ie)===37&&(fe.push(ie.slice(Fe,Ie)),(Te=x3[re=ie.charAt(++Ie)])!=null?re=ie.charAt(++Ie):Te=re==="e"?" ":"0",(Ce=be[re])&&(re=Ce(Se,Te)),fe.push(re),Fe=Ie+1);return fe.push(ie.slice(Fe,Ie)),fe.join("")}}function E(ie,be){return function(Se){var fe=wh(1900,void 0,1),Ie=I(fe,ie,Se+="",0),Fe,_e;if(Ie!=Se.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(be&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Fe=P1(wh(fe.y,0,1)),_e=Fe.getUTCDay(),Fe=_e>4||_e===0?k0.ceil(Fe):k0(Fe),Fe=ry.offset(Fe,(fe.V-1)*7),fe.y=Fe.getUTCFullYear(),fe.m=Fe.getUTCMonth(),fe.d=Fe.getUTCDate()+(fe.w+6)%7):(Fe=k1(wh(fe.y,0,1)),_e=Fe.getDay(),Fe=_e>4||_e===0?E0.ceil(Fe):E0(Fe),Fe=IA.offset(Fe,(fe.V-1)*7),fe.y=Fe.getFullYear(),fe.m=Fe.getMonth(),fe.d=Fe.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),_e="Z"in fe?P1(wh(fe.y,0,1)).getUTCDay():k1(wh(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(_e+5)%7:fe.w+fe.U*7-(_e+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,P1(fe)):k1(fe)}}function I(ie,be,Se,fe){for(var Ie=0,Fe=be.length,_e=Se.length,re,Te;Ie<Fe;){if(fe>=_e)return-1;if(re=be.charCodeAt(Ie++),re===37){if(re=be.charAt(Ie++),Te=C[re in x3?be.charAt(Ie++):re],!Te||(fe=Te(ie,Se,fe))<0)return-1}else if(re!=Se.charCodeAt(fe++))return-1}return fe}function D(ie,be,Se){var fe=u.exec(be.slice(Se));return fe?(ie.p=c.get(fe[0].toLowerCase()),Se+fe[0].length):-1}function $(ie,be,Se){var fe=A.exec(be.slice(Se));return fe?(ie.w=v.get(fe[0].toLowerCase()),Se+fe[0].length):-1}function O(ie,be,Se){var fe=f.exec(be.slice(Se));return fe?(ie.w=h.get(fe[0].toLowerCase()),Se+fe[0].length):-1}function M(ie,be,Se){var fe=y.exec(be.slice(Se));return fe?(ie.m=x.get(fe[0].toLowerCase()),Se+fe[0].length):-1}function B(ie,be,Se){var fe=b.exec(be.slice(Se));return fe?(ie.m=w.get(fe[0].toLowerCase()),Se+fe[0].length):-1}function F(ie,be,Se){return I(ie,e,be,Se)}function G(ie,be,Se){return I(ie,n,be,Se)}function R(ie,be,Se){return I(ie,r,be,Se)}function U(ie){return o[ie.getDay()]}function V(ie){return a[ie.getDay()]}function K(ie){return l[ie.getMonth()]}function ee(ie){return s[ie.getMonth()]}function le(ie){return i[+(ie.getHours()>=12)]}function j(ie){return 1+~~(ie.getMonth()/3)}function z(ie){return o[ie.getUTCDay()]}function Q(ie){return a[ie.getUTCDay()]}function te(ie){return l[ie.getUTCMonth()]}function J(ie){return s[ie.getUTCMonth()]}function se(ie){return i[+(ie.getUTCHours()>=12)]}function ue(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var be=k(ie+="",S);return be.toString=function(){return ie},be},parse:function(ie){var be=E(ie+="",!1);return be.toString=function(){return ie},be},utcFormat:function(ie){var be=k(ie+="",T);return be.toString=function(){return ie},be},utcParse:function(ie){var be=E(ie+="",!0);return be.toString=function(){return ie},be}}}var x3={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,kde=/^%/,Pde=/[\\^$*+?|[\]().{}]/g;function Yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Mde(t){return t.replace(Pde,"\\$&")}function Sh(t){return new RegExp("^(?:"+t.map(Mde).join("|")+")","i")}function _h(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ode(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ide(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Dde(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Lde(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jde(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function w3(t,e,n){var r=Er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function S3(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bde(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $de(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _3(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Fde(t,e,n){var r=Er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T3(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ude(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qde(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hde(t,e,n){var r=Er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zde(t,e,n){var r=Er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vde(t,e,n){var r=kde.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gde(t,e,n){var r=Er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Wde(t,e,n){var r=Er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function C3(t,e){return Yt(t.getDate(),e,2)}function Yde(t,e){return Yt(t.getHours(),e,2)}function Kde(t,e){return Yt(t.getHours()%12||12,e,2)}function Jde(t,e){return Yt(1+IA.count(cs(t),t),e,3)}function qL(t,e){return Yt(t.getMilliseconds(),e,3)}function Xde(t,e){return qL(t,e)+"000"}function Qde(t,e){return Yt(t.getMonth()+1,e,2)}function Zde(t,e){return Yt(t.getMinutes(),e,2)}function ehe(t,e){return Yt(t.getSeconds(),e,2)}function the(t){var e=t.getDay();return e===0?7:e}function nhe(t,e){return Yt(iy.count(cs(t)-1,t),e,2)}function HL(t){var e=t.getDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function rhe(t,e){return t=HL(t),Yt(Uf.count(cs(t),t)+(cs(t).getDay()===4),e,2)}function ihe(t){return t.getDay()}function ahe(t,e){return Yt(E0.count(cs(t)-1,t),e,2)}function ohe(t,e){return Yt(t.getFullYear()%100,e,2)}function she(t,e){return t=HL(t),Yt(t.getFullYear()%100,e,2)}function lhe(t,e){return Yt(t.getFullYear()%1e4,e,4)}function uhe(t,e){var n=t.getDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),Yt(t.getFullYear()%1e4,e,4)}function che(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yt(e/60|0,"0",2)+Yt(e%60,"0",2)}function N3(t,e){return Yt(t.getUTCDate(),e,2)}function fhe(t,e){return Yt(t.getUTCHours(),e,2)}function dhe(t,e){return Yt(t.getUTCHours()%12||12,e,2)}function hhe(t,e){return Yt(1+ry.count(fs(t),t),e,3)}function zL(t,e){return Yt(t.getUTCMilliseconds(),e,3)}function phe(t,e){return zL(t,e)+"000"}function Ahe(t,e){return Yt(t.getUTCMonth()+1,e,2)}function mhe(t,e){return Yt(t.getUTCMinutes(),e,2)}function ghe(t,e){return Yt(t.getUTCSeconds(),e,2)}function vhe(t){var e=t.getUTCDay();return e===0?7:e}function yhe(t,e){return Yt(ay.count(fs(t)-1,t),e,2)}function VL(t){var e=t.getUTCDay();return e>=4||e===0?qf(t):qf.ceil(t)}function bhe(t,e){return t=VL(t),Yt(qf.count(fs(t),t)+(fs(t).getUTCDay()===4),e,2)}function xhe(t){return t.getUTCDay()}function whe(t,e){return Yt(k0.count(fs(t)-1,t),e,2)}function She(t,e){return Yt(t.getUTCFullYear()%100,e,2)}function _he(t,e){return t=VL(t),Yt(t.getUTCFullYear()%100,e,2)}function The(t,e){return Yt(t.getUTCFullYear()%1e4,e,4)}function Che(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qf(t):qf.ceil(t),Yt(t.getUTCFullYear()%1e4,e,4)}function Nhe(){return"+0000"}function E3(){return"%"}function k3(t){return+t}function P3(t){return Math.floor(+t/1e3)}var Pc,GL,WL;Ehe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ehe(t){return Pc=Ede(t),GL=Pc.format,Pc.parse,WL=Pc.utcFormat,Pc.utcParse,Pc}function khe(t){return new Date(t)}function Phe(t){return t instanceof Date?+t:+new Date(+t)}function s_(t,e,n,r,i,a,o,s,l,u){var c=WS(),f=c.invert,h=c.domain,A=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),x=u("%b %d"),S=u("%B"),T=u("%Y");function C(k){return(l(k)<k?A:s(k)<k?v:o(k)<k?b:a(k)<k?w:r(k)<k?i(k)<k?y:x:n(k)<k?S:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,Phe)):h().map(khe)},c.ticks=function(k){var E=h();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?h(IL(E,k)):c},c.copy=function(){return OA(c,s_(t,e,n,r,i,a,o,s,l,u))},c}function Mhe(){return Da.apply(s_(Cde,Nde,cs,a_,iy,IA,r_,t_,mu,GL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ohe(){return Da.apply(s_(_de,Tde,fs,o_,ay,ry,i_,n_,mu,WL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oy(){var t=0,e=1,n,r,i,a,o=si,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var A,v;return arguments.length?([A,v]=h,o=f(A,v),u):[o(0),o(1)]}}return u.range=c(Nd),u.rangeRound=c(GS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YL(){var t=Il(oy()(si));return t.copy=function(){return Dl(t,YL())},gs.apply(t,arguments)}function KL(){var t=JS(oy()).domain([1,10]);return t.copy=function(){return Dl(t,KL()).base(t.base())},gs.apply(t,arguments)}function JL(){var t=XS(oy());return t.copy=function(){return Dl(t,JL()).constant(t.constant())},gs.apply(t,arguments)}function l_(){var t=QS(oy());return t.copy=function(){return Dl(t,l_()).exponent(t.exponent())},gs.apply(t,arguments)}function Ihe(){return l_.apply(null,arguments).exponent(.5)}function XL(){var t=[],e=si;function n(r){if(r!=null&&!isNaN(r=+r))return e((PA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>yfe(t,a/r))},n.copy=function(){return XL(e).domain(t)},gs.apply(n,arguments)}function sy(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=si,c,f=!1,h;function A(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-a)*(r*b<r*a?s:l),u(f?Math.max(0,Math.min(1,b)):b))}A.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,A):[t,e,n]},A.clamp=function(b){return arguments.length?(f=!!b,A):f},A.interpolator=function(b){return arguments.length?(u=b,A):u};function v(b){return function(w){var y,x,S;return arguments.length?([y,x,S]=w,u=Vfe(b,[y,x,S]),A):[u(0),u(.5),u(1)]}}return A.range=v(Nd),A.rangeRound=v(GS),A.unknown=function(b){return arguments.length?(h=b,A):h},function(b){return c=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,A}}function QL(){var t=Il(sy()(si));return t.copy=function(){return Dl(t,QL())},gs.apply(t,arguments)}function ZL(){var t=JS(sy()).domain([.1,1,10]);return t.copy=function(){return Dl(t,ZL()).base(t.base())},gs.apply(t,arguments)}function ej(){var t=XS(sy());return t.copy=function(){return Dl(t,ej()).constant(t.constant())},gs.apply(t,arguments)}function u_(){var t=QS(sy());return t.copy=function(){return Dl(t,u_()).exponent(t.exponent())},gs.apply(t,arguments)}function Dhe(){return u_.apply(null,arguments).exponent(.5)}const M3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jp,scaleDiverging:QL,scaleDivergingLog:ZL,scaleDivergingPow:u_,scaleDivergingSqrt:Dhe,scaleDivergingSymlog:ej,scaleIdentity:OL,scaleImplicit:V2,scaleLinear:C0,scaleLog:DL,scaleOrdinal:HS,scalePoint:ap,scalePow:ZS,scaleQuantile:RL,scaleQuantize:BL,scaleRadial:jL,scaleSequential:YL,scaleSequentialLog:KL,scaleSequentialPow:l_,scaleSequentialQuantile:XL,scaleSequentialSqrt:Ihe,scaleSequentialSymlog:JL,scaleSqrt:pde,scaleSymlog:LL,scaleThreshold:$L,scaleTime:Mhe,scaleUtc:Ohe,tickFormat:ML},Symbol.toStringTag,{value:"Module"}));var Lhe=vd;function jhe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Lhe(o):n(o,s)))var s=o,l=a}return l}var ly=jhe;function Rhe(t,e){return t>e}var tj=Rhe,Bhe=ly,$he=tj,Fhe=Td;function Uhe(t){return t&&t.length?Bhe(t,Fhe,$he):void 0}var qhe=Uhe;const uy=Qt(qhe);function Hhe(t,e){return t<e}var nj=Hhe,zhe=ly,Vhe=nj,Ghe=Td;function Whe(t){return t&&t.length?zhe(t,Ghe,Vhe):void 0}var Yhe=Whe;const cy=Qt(Yhe);var Khe=SS,Jhe=To,Xhe=cL,Qhe=Ni;function Zhe(t,e){var n=Qhe(t)?Khe:Xhe;return n(t,Jhe(e))}var epe=Zhe,tpe=lL,npe=epe;function rpe(t,e){return tpe(npe(t,e),1)}var ipe=rpe;const ape=Qt(ipe);var ope=BS;function spe(t,e){return ope(t,e)}var lpe=spe;const fy=Qt(lpe);var Ed=1e9,upe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},f_,In=!0,Oa="[DecimalError] ",ku=Oa+"Invalid argument: ",c_=Oa+"Exponent out of range: ",kd=Math.floor,lu=Math.pow,cpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vi,Sr=1e7,Nn=7,rj=9007199254740991,P0=kd(rj/Nn),it={};it.absoluteValue=it.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};it.comparedTo=it.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};it.decimalPlaces=it.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};it.dividedBy=it.div=function(t){return rs(this,new this.constructor(t))};it.dividedToIntegerBy=it.idiv=function(t){var e=this,n=e.constructor;return An(rs(e,new n(t),0,1),n.precision)};it.equals=it.eq=function(t){return!this.cmp(t)};it.exponent=function(){return lr(this)};it.greaterThan=it.gt=function(t){return this.cmp(t)>0};it.greaterThanOrEqualTo=it.gte=function(t){return this.cmp(t)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(t){return this.cmp(t)<0};it.lessThanOrEqualTo=it.lte=function(t){return this.cmp(t)<1};it.logarithm=it.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vi))throw Error(Oa+"NaN");if(n.s<1)throw Error(Oa+(n.s?"NaN":"-Infinity"));return n.eq(Vi)?new r(0):(In=!1,e=rs(Up(n,a),Up(t,a),a),In=!0,An(e,i))};it.minus=it.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oj(e,t):ij(e,(t.s=-t.s,t))};it.modulo=it.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oa+"NaN");return n.s?(In=!1,e=rs(n,t,0,1).times(t),In=!0,n.minus(e)):An(new r(n),i)};it.naturalExponential=it.exp=function(){return aj(this)};it.naturalLogarithm=it.ln=function(){return Up(this)};it.negated=it.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};it.plus=it.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ij(e,t):oj(e,(t.s=-t.s,t))};it.precision=it.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ku+t);if(e=lr(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};it.squareRoot=it.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Oa+"NaN")}for(t=lr(s),In=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ao(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(rs(s,a,o+2)).times(.5),Ao(a.d).slice(0,o)===(e=Ao(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(An(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return In=!0,An(r,n)};it.times=it.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,A=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=A.length,l<u&&(a=h,h=A,A=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+A[r]*h[i-r-1]+e,a[i--]=s%Sr|0,e=s/Sr|0;a[i]=(a[i]+e)%Sr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,In?An(t,f.precision):t};it.toDecimalPlaces=it.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bo(t,0,Ed),e===void 0?e=r.rounding:bo(e,0,8),An(n,t+lr(n)+1,e))};it.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$u(r,!0):(bo(t,0,Ed),e===void 0?e=i.rounding:bo(e,0,8),r=An(new i(r),t+1,e),n=$u(r,!0,t+1)),n};it.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?$u(i):(bo(t,0,Ed),e===void 0?e=a.rounding:bo(e,0,8),r=An(new a(i),t+lr(i)+1,e),n=$u(r.abs(),!1,t+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};it.toInteger=it.toint=function(){var t=this,e=t.constructor;return An(new e(t),lr(t)+1,e.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Vi);if(s=new l(s),!s.s){if(t.s<1)throw Error(Oa+"Infinity");return s}if(s.eq(Vi))return s;if(r=l.precision,t.eq(Vi))return An(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=rj){for(i=new l(Vi),e=Math.ceil(r/Nn+4),In=!1;n%2&&(i=i.times(s),I3(i.d,e)),n=kd(n/2),n!==0;)s=s.times(s),I3(s.d,e);return In=!0,t.s<0?new l(Vi).div(i):An(i,r)}}else if(a<0)throw Error(Oa+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,In=!1,i=t.times(Up(s,r+u)),In=!0,i=aj(i),i.s=a,i};it.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=lr(i),r=$u(i,n<=a.toExpNeg||n>=a.toExpPos)):(bo(t,1,Ed),e===void 0?e=a.rounding:bo(e,0,8),i=An(new a(i),t,e),n=lr(i),r=$u(i,t<=n||n<=a.toExpNeg,t)),r};it.toSignificantDigits=it.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bo(t,1,Ed),e===void 0?e=r.rounding:bo(e,0,8)),An(new r(n),t,e)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),n=t.constructor;return $u(t,e<=n.toExpNeg||e>=n.toExpPos)};function ij(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),In?An(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Sr|0,l[a]%=Sr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,In?An(e,f):e}function bo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ku+t)}function Ao(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(a+=Ks(n)),a+=r;o=t[e],r=o+"",n=Nn-r.length,n&&(a+=Ks(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var rs=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Sr|0,o=a/Sr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,A,v,b,w,y,x,S,T,C,k,E,I,D=r.constructor,$=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Oa+"Division by zero");for(l=r.e-i.e,E=M.length,C=O.length,A=new D($),v=A.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--l,a==null?x=a=D.precision:o?x=a+(lr(r)-lr(i))+1:x=a,x<0)return new D(0);if(x=x/Nn+2|0,u=0,E==1)for(c=0,M=M[0],x++;(u<C||c)&&x--;u++)S=c*Sr+(O[u]||0),v[u]=S/M|0,c=S%M|0;else{for(c=Sr/(M[0]+1)|0,c>1&&(M=t(M,c),O=t(O,c),E=M.length,C=O.length),T=E,b=O.slice(0,E),w=b.length;w<E;)b[w++]=0;I=M.slice(),I.unshift(0),k=M[0],M[1]>=Sr/2&&++k;do c=0,s=e(M,b,E,w),s<0?(y=b[0],E!=w&&(y=y*Sr+(b[1]||0)),c=y/k|0,c>1?(c>=Sr&&(c=Sr-1),f=t(M,c),h=f.length,w=b.length,s=e(f,b,h,w),s==1&&(c--,n(f,E<h?I:M,h))):(c==0&&(s=c=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),n(b,f,w),s==-1&&(w=b.length,s=e(M,b,E,w),s<1&&(c++,n(b,E<w?I:M,w))),w=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[w++]=O[T]||0:(b=[O[T]],w=1);while((T++<C||b[0]!==void 0)&&x--)}return v[0]||v.shift(),A.e=l,An(A,o?a+lr(A)+1:a)}}();function aj(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(lr(t)>16)throw Error(c_+lr(t));if(!t.s)return new c(Vi);for(In=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(lu(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Vi),c.precision=s;;){if(i=An(i.times(t),s),n=n.times(++l),o=a.plus(rs(i,n,s)),Ao(o.d).slice(0,s)===Ao(a.d).slice(0,s)){for(;u--;)a=An(a.times(a),s);return c.precision=f,e==null?(In=!0,An(a,f)):a}a=o}}function lr(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function M1(t,e,n){if(e>t.LN10.sd())throw In=!0,n&&(t.precision=n),Error(Oa+"LN10 precision limit exceeded");return An(new t(t.LN10),e)}function Ks(t){for(var e="";t--;)e+="0";return e}function Up(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,A=t,v=A.d,b=A.constructor,w=b.precision;if(A.s<1)throw Error(Oa+(A.s?"NaN":"-Infinity"));if(A.eq(Vi))return new b(0);if(e==null?(In=!1,u=w):u=e,A.eq(10))return e==null&&(In=!0),M1(b,u);if(u+=h,b.precision=u,n=Ao(v),r=n.charAt(0),a=lr(A),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=Ao(A.d),r=n.charAt(0),f++;a=lr(A),r>1?(A=new b("0."+n),a++):A=new b(r+"."+n.slice(1))}else return l=M1(b,u+2,w).times(a+""),A=Up(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=w,e==null?(In=!0,An(A,w)):A;for(s=o=A=rs(A.minus(Vi),A.plus(Vi),u),c=An(A.times(A),u),i=3;;){if(o=An(o.times(c),u),l=s.plus(rs(o,new b(i),u)),Ao(l.d).slice(0,u)===Ao(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(M1(b,u+2,w).times(a+""))),s=rs(s,new b(f),u),b.precision=w,e==null?(In=!0,An(s,w)):s;s=l,i+=2}}function O3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=kd(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),In&&(t.e>P0||t.e<-P0))throw Error(c_+n)}else t.s=0,t.e=0,t.d=[0];return t}function An(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Nn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Nn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Nn,i=r-Nn+o}if(n!==void 0&&(a=lu(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/lu(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=lr(t),f.length=1,e=e-a-1,f[0]=lu(10,(Nn-e%Nn)%Nn),t.e=kd(-e/Nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=lu(10,Nn-r),f[c]=i>0?(u/lu(10,o-i)%lu(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Sr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Sr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(In&&(t.e>P0||t.e<-P0))throw Error(c_+lr(t));return t}function oj(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,A=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),In?An(e,A):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(A/Nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Sr-1;--l[a],l[i]+=Sr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,In?An(e,A):e):new h(0)}function $u(t,e,n){var r,i=lr(t),a=Ao(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ks(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ks(-i-1)+a,n&&(r=n-o)>0&&(a+=Ks(r))):i>=o?(a+=Ks(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ks(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ks(r))),t.s<0?"-"+a:a}function I3(t,e){if(t.length>e)return t.length=e,!0}function sj(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ku+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return O3(o,a.toString())}else if(typeof a!="string")throw Error(ku+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,cpe.test(a))O3(o,a);else throw Error(ku+a)}if(i.prototype=it,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sj,i.config=i.set=fpe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fpe(t){if(!t||typeof t!="object")throw Error(Oa+"Object expected");var e,n,r,i=["precision",1,Ed,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(kd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ku+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ku+n+": "+r);return this}var f_=sj(upe);Vi=new f_(1);const fn=f_;function dpe(t){return mpe(t)||Ape(t)||ppe(t)||hpe()}function hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppe(t,e){if(t){if(typeof t=="string")return K2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K2(t,e)}}function Ape(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mpe(t){if(Array.isArray(t))return K2(t)}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gpe=function(e){return e},lj={},uj=function(e){return e===lj},D3=function(e){return function n(){return arguments.length===0||arguments.length===1&&uj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vpe=function t(e,n){return e===1?n:D3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==lj}).length;return o>=e?n.apply(void 0,i):t(e-o,D3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return uj(f)?l.shift():f});return n.apply(void 0,dpe(c).concat(l))}))})},dy=function(e){return vpe(e.length,e)},J2=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ype=dy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bpe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gpe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},X2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cj=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function xpe(t){var e;return t===0?e=1:e=Math.floor(new fn(t).abs().log(10).toNumber())+1,e}function wpe(t,e,n){for(var r=new fn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Spe=dy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_pe=dy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Tpe=dy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const hy={rangeStep:wpe,getDigitCount:xpe,interpolateNumber:Spe,uninterpolateNumber:_pe,uninterpolateTruncation:Tpe};function Q2(t){return Epe(t)||Npe(t)||fj(t)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Epe(t){if(Array.isArray(t))return Z2(t)}function qp(t,e){return Mpe(t)||Ppe(t,e)||fj(t,e)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fj(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Mpe(t){if(Array.isArray(t))return t}function dj(t){var e=qp(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function hj(t,e,n){if(t.lte(0))return new fn(0);var r=hy.getDigitCount(t.toNumber()),i=new fn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new fn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new fn(Math.ceil(l))}function Ope(t,e,n){var r=1,i=new fn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new fn(10).pow(hy.getDigitCount(t)-1),i=new fn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new fn(Math.floor(t)))}else t===0?i=new fn(Math.floor((e-1)/2)):n||(i=new fn(Math.floor(t)));var o=Math.floor((e-1)/2),s=bpe(ype(function(l){return i.add(new fn(l-o).mul(r)).toNumber()}),J2);return s(0,e)}function pj(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new fn(0),tickMin:new fn(0),tickMax:new fn(0)};var a=hj(new fn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new fn(0):(o=new fn(t).add(e).div(2),o=o.sub(new fn(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new fn(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?pj(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new fn(s).mul(a)),tickMax:o.add(new fn(l).mul(a))})}function Ipe(t){var e=qp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=dj([n,r]),l=qp(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Q2(J2(0,i-1).map(function(){return 1/0}))):[].concat(Q2(J2(0,i-1).map(function(){return-1/0})),[c]);return n>r?X2(f):f}if(u===c)return Ope(u,i,a);var h=pj(u,c,o,a),A=h.step,v=h.tickMin,b=h.tickMax,w=hy.rangeStep(v,b.add(new fn(.1).mul(A)),A);return n>r?X2(w):w}function Dpe(t,e){var n=qp(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dj([r,i]),s=qp(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=hj(new fn(u).sub(l).div(c-1),a,0),h=[].concat(Q2(hy.rangeStep(new fn(l),new fn(u).sub(new fn(.99).mul(f)),f)),[u]);return r>i?X2(h):h}var Lpe=cj(Ipe),jpe=cj(Dpe),Rpe="Invariant failed";function Fu(t,e){throw new Error(Rpe)}var Bpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function $pe(t,e){return Hpe(t)||qpe(t,e)||Upe(t,e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(t,e){if(t){if(typeof t=="string")return L3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L3(t,e)}}function L3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hpe(t){if(Array.isArray(t))return t}function zpe(t,e){if(t==null)return{};var n=Vpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gj(r.key),r)}}function Ype(t,e,n){return e&&Wpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kpe(t,e,n){return e=O0(e),Jpe(t,Aj()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function Jpe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpe(t)}function Xpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aj=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function Qpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function mj(t,e,n){return e=gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gj(t){var e=Zpe(t,"string");return Hf(e)=="symbol"?e:e+""}function Zpe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var py=function(t){function e(){return Gpe(this,e),Kpe(this,e,arguments)}return Qpe(e,t),Ype(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=zpe(r,Bpe),A=bt(h,!1);this.props.direction==="x"&&c.type!=="number"&&Fu();var v=l.map(function(b){var w=u(b,s),y=w.x,x=w.y,S=w.value,T=w.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var I=$pe(T,2);k=I[0],E=I[1]}else k=E=T;if(a==="vertical"){var D=c.scale,$=x+i,O=$+o,M=$-o,B=D(S-k),F=D(S+E);C.push({x1:F,y1:O,x2:F,y2:M}),C.push({x1:B,y1:$,x2:F,y2:$}),C.push({x1:B,y1:O,x2:B,y2:M})}else if(a==="horizontal"){var G=f.scale,R=y+i,U=R-o,V=R+o,K=G(S-k),ee=G(S+E);C.push({x1:U,y1:ee,x2:V,y2:ee}),C.push({x1:R,y1:K,x2:R,y2:ee}),C.push({x1:U,y1:K,x2:V,y2:K})}return de.createElement(an,M0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},A),C.map(function(le){return de.createElement("line",M0({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return de.createElement(an,{className:"recharts-errorBars"},v)}}])}(de.Component);mj(py,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mj(py,"displayName","ErrorBar");function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){eAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eAe(t,e,n){return e=tAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tAe(t){var e=nAe(t,"string");return Hp(e)=="symbol"?e:e+""}function nAe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vj=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ui(n,Nu);if(!o)return null;var s=Nu.defaultProps,l=s!==void 0?Jl(Jl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,A=f.props,v=A.sectors||A.data||[];return c.concat(v.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,A=h!==void 0?Jl(Jl({},h),f.props):{},v=A.dataKey,b=A.name,w=A.legendType,y=A.hide;return{inactive:y,dataKey:v,type:l.iconType||w||"square",color:d_(f),value:b||v,payload:A}}),Jl(Jl(Jl({},l),Nu.getWithHeight(o,i)),{},{payload:u,item:o})};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function R3(t){return oAe(t)||aAe(t)||iAe(t)||rAe()}function rAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(t,e){if(t){if(typeof t=="string")return tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tw(t,e)}}function aAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oAe(t){if(Array.isArray(t))return tw(t)}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){Sf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sf(t,e,n){return e=sAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sAe(t){var e=lAe(t,"string");return zp(e)=="symbol"?e:e+""}function lAe(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xr(t,e,n){return Lt(t)||Lt(e)?n:gr(e)?Zi(t,e,n):wt(e)?e(t):n}function op(t,e,n,r){var i=ape(t,function(s){return Xr(s,e)});if(n==="number"){var a=i.filter(function(s){return We(s)||parseFloat(s)});return a.length?[cy(a),uy(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Lt(s)}):i;return o.map(function(s){return gr(s)||s instanceof Date?s:""})}var uAe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,A=void 0;if(ai(f-c)!==ai(h-f)){var v=[];if(ai(h-f)===ai(l[1]-l[0])){A=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{A=c;var w=h+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(A+f)/2),Math.max(f,(A+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var x=Math.min(c,h),S=Math.max(c,h);if(e>(x+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},d_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qn(qn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},cAe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,A=f.length;h<A;h++){var v=c[f[h]],b=v.items,w=v.cateAxisId,y=b.filter(function(E){return ns(E.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,S=x!==void 0?qn(qn({},x),y[0].props):y[0].props,T=S.barSize,C=S[w];o[C]||(o[C]=[]);var k=Lt(T)?n:T;o[C].push({item:y[0],stackList:y.slice(1),barSize:Lt(k)?void 0:oi(k,r,0)})}}return o},fAe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=oi(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,A=i/l,v=o.reduce(function(T,C){return T+C.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&A>0&&(h=!0,A*=.9,v=l*A);var b=(i-v)/2>>0,w={offset:b-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:w.offset+w.size+u,size:h?A:C.barSize}},E=[].concat(R3(T),[k]);return w=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){E.push({item:I,position:w})}),E},f)}else{var y=oi(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var S=s===+s?Math.min(x,s):x;c=o.reduce(function(T,C,k){var E=[].concat(R3(T),[{item:C.item,position:{offset:y+(x+u)*k+(x-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){E.push({item:I,position:E[E.length-1].position})}),E},f)}return c},dAe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=vj({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,A=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&A!=="center"&&We(e[A]))return qn(qn({},e),{},Sf({},A,e[A]+(f||0)));if((b==="horizontal"||b==="vertical"&&A==="center")&&v!=="middle"&&We(e[v]))return qn(qn({},e),{},Sf({},v,e[v]+(h||0)))}return e},hAe=function(e,n,r){return Lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yj=function(e,n,r,i,a){var o=n.props.children,s=Pa(o,py).filter(function(u){return hAe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Xr(c,r);if(Lt(f))return u;var h=Array.isArray(f)?[cy(f),uy(f)]:[f,f],A=l.reduce(function(v,b){var w=Xr(c,b,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),x=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(A[0],u[0]),Math.max(A[1],u[1])]},[1/0,-1/0])}return null},pAe=function(e,n,r,i,a){var o=n.map(function(s){return yj(e,s,r,a,i)}).filter(function(s){return!Lt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},bj=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&yj(e,l,u,i)||op(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},xj=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wj=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Qo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ai(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!NA(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},O1=new WeakMap,Zm=function(e,n){if(typeof n!="function")return e;O1.has(e)||O1.set(e,new WeakMap);var r=O1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Sj=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:jp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:C0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ap(),realScaleType:"point"}:a==="category"?{scale:jp(),realScaleType:"band"}:{scale:C0(),realScaleType:"linear"};if(ju(i)){var l="scale".concat(Yv(i));return{scale:(M3[l]||ap)(),realScaleType:M3[l]?l:"point"}}return wt(i)?{scale:i}:{scale:ap(),realScaleType:"point"}},$3=1e-4,_j=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-$3,o=Math.max(i[0],i[1])+$3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},AAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},mAe=function(e,n){if(!n||n.length!==2||!We(n[0])||!We(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!We(e[0])||e[0]<r)&&(a[0]=r),(!We(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},gAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=NA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},vAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=NA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},yAe={sign:gAe,expand:Bte,none:Lf,silhouette:$te,wiggle:Fte,positive:vAe},bAe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=yAe[r],o=Rte().keys(i).value(function(s,l){return+Xr(s,l,0)}).order(C2).offset(a);return o(e)},xAe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var A,v=(A=h.type)!==null&&A!==void 0&&A.defaultProps?qn(qn({},h.type.defaultProps),h.props):h.props,b=v.stackId,w=v.hide;if(w)return f;var y=v[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(gr(b)){var S=x.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),x.hasStack=!0,x.stackGroups[b]=S}else x.stackGroups[EA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return qn(qn({},f),{},Sf({},y,x))},l),c={};return Object.keys(u).reduce(function(f,h){var A=u[h];if(A.hasStack){var v={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(b,w){var y=A.stackGroups[w];return qn(qn({},b),{},Sf({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:bAe(e,y.items,a)}))},v)}return qn(qn({},f),{},Sf({},h,A))},c)},Tj=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Lpe(u,a,s);return e.domain([cy(c),uy(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=jpe(f,a,s);return{niceTicks:h}}return null},F3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Xr(o,n.dataKey,n.domain[s]);return Lt(l)?null:n.scale(l)-a/2+i},wAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},SAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qn(qn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(gr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},_Ae=function(e){return e.reduce(function(n,r){return[cy(r.concat([n[0]]).filter(We)),uy(r.concat([n[1]]).filter(We))]},[1/0,-1/0])},Cj=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=_Ae(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},U3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nw=function(e,n,r){if(wt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(We(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(U3.test(e[0])){var a=+U3.exec(e[0])[1];i[0]=n[0]-a}else wt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(We(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(q3.test(e[1])){var o=+q3.exec(e[1])[1];i[1]=n[1]+o}else wt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},I0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=FS(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},H3=function(e,n,r){return!e||!e.length||fy(e,Zi(r,"type.defaultProps.domain"))?n:e},Nj=function(e,n){var r=e.type.defaultProps?qn(qn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return qn(qn({},bt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:d_(e),value:Xr(n,i),type:l,payload:n,chartType:u,hide:c})};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Ej(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ej(t,e,n){return e=TAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TAe(t){var e=CAe(t,"string");return Vp(e)=="symbol"?e:e+""}function CAe(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NAe(t,e){return MAe(t)||PAe(t,e)||kAe(t,e)||EAe()}function EAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kAe(t,e){if(t){if(typeof t=="string")return V3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function MAe(t){if(Array.isArray(t))return t}var D0=Math.PI/180,OAe=function(e){return e*180/Math.PI},Sn=function(e,n,r,i){return{x:e+Math.cos(-D0*i)*r,y:n+Math.sin(-D0*i)*r}},kj=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},IAe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=oi(e.cx,o,o/2),f=oi(e.cy,s,s/2),h=kj(o,s,r),A=oi(e.innerRadius,h,0),v=oi(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(w,y){var x=n[y],S=x.domain,T=x.reversed,C;if(Lt(x.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[A,v]),T&&(C=[C[1],C[0]]);else{C=x.range;var k=C,E=NAe(k,2);l=E[0],u=E[1]}var I=Sj(x,a),D=I.realScaleType,$=I.scale;$.domain(S).range(C),_j($);var O=Tj($,Ho(Ho({},x),{},{realScaleType:D})),M=Ho(Ho(Ho({},x),O),{},{range:C,radius:v,realScaleType:D,scale:$,cx:c,cy:f,innerRadius:A,outerRadius:v,startAngle:l,endAngle:u});return Ho(Ho({},w),{},Ej({},y,M))},{})},DAe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},LAe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=DAe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:OAe(u),angleInRadian:u}},jAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},RAe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},G3=function(e,n){var r=e.x,i=e.y,a=LAe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=jAe(n),f=c.startAngle,h=c.endAngle,A=s,v;if(f<=h){for(;A>h;)A-=360;for(;A<f;)A+=360;v=A>=f&&A<=h}else{for(;A>f;)A-=360;for(;A<h;)A+=360;v=A>=h&&A<=f}return v?Ho(Ho({},n),{},{radius:o,angle:RAe(A,n)}):null},Pj=function(e){return!ae.isValidElement(e)&&!wt(e)&&typeof e!="boolean"?e.className:""};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}var BAe=["offset"];function $Ae(t){return HAe(t)||qAe(t)||UAe(t)||FAe()}function FAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function qAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HAe(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zAe(t,e){if(t==null)return{};var n=VAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){GAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GAe(t,e,n){return e=WAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WAe(t){var e=YAe(t,"string");return Gp(e)=="symbol"?e:e+""}function YAe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}var KAe=function(e){var n=e.value,r=e.formatter,i=Lt(e.children)?n:e.children;return wt(r)?r(i):i},JAe=function(e,n){var r=ai(n-e),i=Math.min(Math.abs(n-e),360);return r*i},XAe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,A=l.startAngle,v=l.endAngle,b=l.clockWise,w=(f+h)/2,y=JAe(A,v),x=y>=0?1:-1,S,T;i==="insideStart"?(S=A+x*o,T=b):i==="insideEnd"?(S=v-x*o,T=!b):i==="end"&&(S=v+x*o,T=b),T=y<=0?T:!T;var C=Sn(u,c,w,S),k=Sn(u,c,w,S+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),I=Lt(e.id)?EA("recharts-radial-line-"):e.id;return de.createElement("text",Wp({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:I,d:E})),de.createElement("textPath",{xlinkHref:"#".concat(I)},n))},QAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var A=Sn(o,s,u+r,h),v=A.x,b=A.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=Sn(o,s,w,h),x=y.x,S=y.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ZAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,A=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,w=b*i,y=b>0?"end":"start",x=b>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:A};return dr(dr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return dr(dr({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return dr(dr({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return dr(dr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?dr({x:s+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideRight"?dr({x:s+u-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?dr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?dr({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:A},E):a==="insideTopLeft"?dr({x:s+w,y:l+h,textAnchor:x,verticalAnchor:v},E):a==="insideTopRight"?dr({x:s+u-w,y:l+h,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?dr({x:s+w,y:l+c-h,textAnchor:x,verticalAnchor:A},E):a==="insideBottomRight"?dr({x:s+u-w,y:l+c-h,textAnchor:y,verticalAnchor:A},E):yd(a)&&(We(a.x)||pu(a.x))&&(We(a.y)||pu(a.y))?dr({x:s+oi(a.x,u),y:l+oi(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):dr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},eme=function(e){return"cx"in e&&We(e.cx)};function Cr(t){var e=t.offset,n=e===void 0?5:e,r=zAe(t,BAe),i=dr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Lt(s)&&Lt(l)&&!ae.isValidElement(u)&&!wt(u))return null;if(ae.isValidElement(u))return ae.cloneElement(u,i);var A;if(wt(u)){if(A=ae.createElement(u,i),ae.isValidElement(A))return A}else A=KAe(i);var v=eme(a),b=bt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return XAe(i,A,b);var w=v?QAe(i):ZAe(i);return de.createElement(Bu,Wp({className:It("recharts-label",f)},b,w,{breakAll:h}),A)}Cr.displayName="Label";var Mj=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,A=e.top,v=e.left,b=e.width,w=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(We(b)&&We(w)){if(We(f)&&We(h))return{x:f,y:h,width:b,height:w};if(We(A)&&We(v))return{x:A,y:v,width:b,height:w}}return We(f)&&We(h)?{x:f,y:h,width:0,height:0}:We(n)&&We(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},tme=function(e,n){return e?e===!0?de.createElement(Cr,{key:"label-implicit",viewBox:n}):gr(e)?de.createElement(Cr,{key:"label-implicit",viewBox:n,value:e}):ae.isValidElement(e)?e.type===Cr?ae.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(Cr,{key:"label-implicit",content:e,viewBox:n}):wt(e)?de.createElement(Cr,{key:"label-implicit",content:e,viewBox:n}):yd(e)?de.createElement(Cr,Wp({viewBox:n},e,{key:"label-implicit"})):null:null},nme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Mj(e),o=Pa(i,Cr).map(function(l,u){return ae.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=tme(e.label,n||a);return[s].concat($Ae(o))};Cr.parseViewBox=Mj;Cr.renderCallByParent=nme;function rme(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ime=rme;const ame=Qt(ime);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var ome=["valueAccessor"],sme=["data","dataKey","clockWise","id","textBreakAll"];function lme(t){return dme(t)||fme(t)||cme(t)||ume()}function ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cme(t,e){if(t){if(typeof t=="string")return iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(t,e)}}function fme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dme(t){if(Array.isArray(t))return iw(t)}function iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hme(t,e,n){return e=pme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pme(t){var e=Ame(t,"string");return Yp(e)=="symbol"?e:e+""}function Ame(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J3(t,e){if(t==null)return{};var n=mme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gme=function(e){return Array.isArray(e.value)?ame(e.value):e.value};function wl(t){var e=t.valueAccessor,n=e===void 0?gme:e,r=J3(t,ome),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=J3(r,sme);return!i||!i.length?null:de.createElement(an,{className:"recharts-label-list"},i.map(function(c,f){var h=Lt(a)?n(c,f):Xr(c&&c.payload,a),A=Lt(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(Cr,L0({},bt(c,!0),u,A,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Cr.parseViewBox(Lt(o)?c:K3(K3({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}wl.displayName="LabelList";function vme(t,e){return t?t===!0?de.createElement(wl,{key:"labelList-implicit",data:e}):de.isValidElement(t)||wt(t)?de.createElement(wl,{key:"labelList-implicit",data:e,content:t}):yd(t)?de.createElement(wl,L0({data:e},t,{key:"labelList-implicit"})):null:null}function yme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Pa(r,wl).map(function(o,s){return ae.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=vme(t.label,e);return[a].concat(lme(i))}wl.renderCallByParent=yme;function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){bme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e,n){return e=xme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=wme(t,"string");return Kp(e)=="symbol"?e:e+""}function wme(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sme=function(e,n){var r=ai(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},eg=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/D0,h=u?a:a+o*f,A=Sn(n,r,c,h),v=Sn(n,r,i,h),b=u?a-o*f:a,w=Sn(n,r,c*Math.cos(f*D0),b);return{center:A,circleTangency:v,lineTangency:w,theta:f}},Oj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Sme(o,s),u=o+l,c=Sn(n,r,a,o),f=Sn(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var A=Sn(n,r,i,o),v=Sn(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(A.x,",").concat(A.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},_me=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ai(c-u),h=eg({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),A=h.circleTangency,v=h.lineTangency,b=h.theta,w=eg({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=w.circleTangency,x=w.lineTangency,S=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-b-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Oj({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var k=eg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,I=k.lineTangency,D=k.theta,$=eg({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=$.circleTangency,M=$.lineTangency,B=$.theta,F=l?Math.abs(u-c):Math.abs(u-c)-D-B;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Tme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ij=function(e){var n=Q3(Q3({},Tme),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var A=It("recharts-sector",h),v=o-a,b=oi(s,v,0,!0),w;return b>0&&Math.abs(c-f)<360?w=_me({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=Oj({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),de.createElement("path",aw({},bt(n,!0),{className:A,d:w,role:"img"}))};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return e=Nme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nme(t){var e=Eme(t,"string");return Jp(e)=="symbol"?e:e+""}function Eme(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tk={curveBasisClosed:Cte,curveBasisOpen:Nte,curveBasis:Tte,curveBumpX:fte,curveBumpY:dte,curveLinearClosed:Ete,curveLinear:Jv,curveMonotoneX:kte,curveMonotoneY:Pte,curveNatural:Mte,curveStep:Ote,curveStepAfter:Dte,curveStepBefore:Ite},tg=function(e){return e.x===+e.x&&e.y===+e.y},Th=function(e){return e.x},Ch=function(e){return e.y},kme=function(e,n){if(wt(e))return e;var r="curve".concat(Yv(e));return(r==="curveMonotone"||r==="curveBump")&&n?tk["".concat(r).concat(n==="vertical"?"Y":"X")]:tk[r]||Jv},Pme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=kme(r,s),f=u?a.filter(function(b){return tg(b)}):a,h;if(Array.isArray(o)){var A=u?o.filter(function(b){return tg(b)}):o,v=f.map(function(b,w){return ek(ek({},b),{},{base:A[w]})});return s==="vertical"?h=Vm().y(Ch).x1(Th).x0(function(b){return b.base.x}):h=Vm().x(Th).y1(Ch).y0(function(b){return b.base.y}),h.defined(tg).curve(c),h(v)}return s==="vertical"&&We(o)?h=Vm().y(Ch).x1(Th).x0(o):We(o)?h=Vm().x(Th).y1(Ch).y0(o):h=ND().x(Th).y(Ch),h.defined(tg).curve(c),h(f)},sw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Pme(e):i;return ae.createElement("path",ow({},bt(e,!1),o0(e),{className:It("recharts-curve",n),d:o,ref:a}))},Dj={exports:{}},Mme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ome=Mme,Ime=Ome;function Lj(){}function jj(){}jj.resetWarningCache=Lj;var Dme=function(){function t(r,i,a,o,s,l){if(l!==Ime){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jj,resetWarningCache:Lj};return n.PropTypes=n,n};Dj.exports=Dme();var Lme=Dj.exports;const Zt=Qt(Lme);var jme=Object.getOwnPropertyNames,Rme=Object.getOwnPropertySymbols,Bme=Object.prototype.hasOwnProperty;function nk(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function ng(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function $me(t){return t!=null?t[Symbol.toStringTag]:void 0}function rk(t){return jme(t).concat(Rme(t))}var Fme=Object.hasOwn||function(t,e){return Bme.call(t,e)};function Zu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ume="__v",qme="__o",Hme="_owner",ik=Object.getOwnPropertyDescriptor,ak=Object.keys;function zme(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Vme(t,e){return Zu(t.getTime(),e.getTime())}function Gme(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Wme(t,e){return t===e}function ok(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,A=s.value;if(n.equals(h[0],A[0],l,f,t,e,n)&&n.equals(h[1],A[1],h[0],A[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Yme=Zu;function Kme(t,e,n){var r=ak(t),i=r.length;if(ak(e).length!==i)return!1;for(;i-- >0;)if(!Rj(t,e,n,r[i]))return!1;return!0}function Nh(t,e,n){var r=rk(t),i=r.length;if(rk(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!Rj(t,e,n,a)||(o=ik(t,a),s=ik(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Jme(t,e){return Zu(t.valueOf(),e.valueOf())}function Xme(t,e){return t.source===e.source&&t.flags===e.flags}function sk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Qme(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Zme(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Rj(t,e,n,r){return(r===Hme||r===qme||r===Ume)&&(t.$$typeof||e.$$typeof)?!0:Fme(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var ege="[object Arguments]",tge="[object Boolean]",nge="[object Date]",rge="[object Error]",ige="[object Map]",age="[object Number]",oge="[object Object]",sge="[object RegExp]",lge="[object Set]",uge="[object String]",cge="[object URL]",fge=Array.isArray,lk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uk=Object.assign,dge=Object.prototype.toString.call.bind(Object.prototype.toString);function hge(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,A=t.unknownTagComparators;return function(b,w,y){if(b===w)return!0;if(b==null||w==null)return!1;var x=typeof b;if(x!==typeof w)return!1;if(x!=="object")return x==="number"?o(b,w,y):x==="function"?i(b,w,y):!1;var S=b.constructor;if(S!==w.constructor)return!1;if(S===Object)return s(b,w,y);if(fge(b))return e(b,w,y);if(lk!=null&&lk(b))return f(b,w,y);if(S===Date)return n(b,w,y);if(S===RegExp)return u(b,w,y);if(S===Map)return a(b,w,y);if(S===Set)return c(b,w,y);var T=dge(b);if(T===nge)return n(b,w,y);if(T===sge)return u(b,w,y);if(T===ige)return a(b,w,y);if(T===lge)return c(b,w,y);if(T===oge)return typeof b.then!="function"&&typeof w.then!="function"&&s(b,w,y);if(T===cge)return h(b,w,y);if(T===rge)return r(b,w,y);if(T===ege)return s(b,w,y);if(T===tge||T===age||T===uge)return l(b,w,y);if(A){var C=A[T];if(!C){var k=$me(b);k&&(C=A[k])}if(C)return C(b,w,y)}return!1}}function pge(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Nh:zme,areDatesEqual:Vme,areErrorsEqual:Gme,areFunctionsEqual:Wme,areMapsEqual:r?nk(ok,Nh):ok,areNumbersEqual:Yme,areObjectsEqual:r?Nh:Kme,arePrimitiveWrappersEqual:Jme,areRegExpsEqual:Xme,areSetsEqual:r?nk(sk,Nh):sk,areTypedArraysEqual:r?Nh:Qme,areUrlsEqual:Zme,unknownTagComparators:void 0};if(n&&(i=uk({},i,n(i))),e){var a=ng(i.areArraysEqual),o=ng(i.areMapsEqual),s=ng(i.areObjectsEqual),l=ng(i.areSetsEqual);i=uk({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Age(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function mge(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,A=c.meta;return n(l,u,{cache:h,equals:i,meta:A,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var gge=Ll();Ll({strict:!0});Ll({circular:!0});Ll({circular:!0,strict:!0});Ll({createInternalComparator:function(){return Zu}});Ll({strict:!0,createInternalComparator:function(){return Zu}});Ll({circular:!0,createInternalComparator:function(){return Zu}});Ll({circular:!0,createInternalComparator:function(){return Zu},strict:!0});function Ll(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=pge(t),l=hge(s),u=r?r(l):Age(l);return mge({circular:n,comparator:l,createState:i,equals:u,strict:o})}function vge(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ck(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):vge(i)};requestAnimationFrame(r)}function lw(t){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lw(t)}function yge(t){return Sge(t)||wge(t)||xge(t)||bge()}function bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(t,e){if(t){if(typeof t=="string")return fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sge(t){if(Array.isArray(t))return t}function _ge(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=yge(o),l=s[0],u=s.slice(1);if(typeof l=="number"){ck(i.bind(null,u),l);return}i(l),ck(i.bind(null,u));return}lw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){Bj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bj(t,e,n){return e=Tge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Cge(t,"string");return Xp(e)==="symbol"?e:String(e)}function Cge(t,e){if(Xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nge=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Ege=function(e){return e},kge=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},sp=function(e,n){return Object.keys(n).reduce(function(r,i){return hk(hk({},r),{},Bj({},i,e(i,n[i])))},{})},pk=function(e,n,r){return e.map(function(i){return"".concat(kge(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Pge(t,e){return Ige(t)||Oge(t,e)||$j(t,e)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ige(t){if(Array.isArray(t))return t}function Dge(t){return Rge(t)||jge(t)||$j(t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $j(t,e){if(t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function jge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rge(t){if(Array.isArray(t))return uw(t)}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j0=1e-4,Fj=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Uj=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Ak=function(e,n){return function(r){var i=Fj(e,n);return Uj(i,r)}},Bge=function(e,n){return function(r){var i=Fj(e,n),a=[].concat(Dge(i.map(function(o,s){return o*s}).slice(1)),[0]);return Uj(a,r)}},mk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=Pge(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=Ak(i,o),h=Ak(a,s),A=Bge(i,o),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var x=y>1?1:y,S=x,T=0;T<8;++T){var C=f(S)-x,k=A(S);if(Math.abs(C-x)<j0||k<j0)return h(S);S=v(S-C/k)}return h(S)};return b.isStepper=!1,b},$ge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var A=-(c-f)*r,v=h*a,b=h+(A-v)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<j0&&Math.abs(b)<j0?[f,0]:[w,b]};return l.isStepper=!0,l.dt=s,l},Fge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mk(i);case"spring":return $ge();default:if(i.split("(")[0]==="cubic-bezier")return mk(i)}return typeof i=="function"?i:null};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function gk(t){return Hge(t)||qge(t)||qj(t)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hge(t){if(Array.isArray(t))return fw(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cw(t,e,n){return e=zge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=Vge(t,"string");return Qp(e)==="symbol"?e:String(e)}function Vge(t,e){if(Qp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gge(t,e){return Kge(t)||Yge(t,e)||qj(t,e)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qj(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Kge(t){if(Array.isArray(t))return t}var R0=function(e,n,r){return e+(n-e)*r},dw=function(e){var n=e.from,r=e.to;return n!==r},Jge=function t(e,n,r){var i=sp(function(a,o){if(dw(o)){var s=e(o.from,o.to,o.velocity),l=Gge(s,2),u=l[0],c=l[1];return Or(Or({},o),{},{from:u,velocity:c})}return o},n);return r<1?sp(function(a,o){return dw(o)?Or(Or({},o),{},{velocity:R0(o.velocity,i[a].velocity,r),from:R0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Xge=function(t,e,n,r,i){var a=Nge(t,e),o=a.reduce(function(w,y){return Or(Or({},w),{},cw({},y,[t[y],e[y]]))},{}),s=a.reduce(function(w,y){return Or(Or({},w),{},cw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return sp(function(y,x){return x.from},s)},A=function(){return!Object.values(s).filter(dw).length},v=function(y){u||(u=y);var x=y-u,S=x/n.dt;s=Jge(n,s,S),i(Or(Or(Or({},t),e),h())),u=y,A()||(l=requestAnimationFrame(f))},b=function(y){c||(c=y);var x=(y-c)/r,S=sp(function(C,k){return R0.apply(void 0,gk(k).concat([n(x)]))},o);if(i(Or(Or(Or({},t),e),S)),x<1)l=requestAnimationFrame(f);else{var T=sp(function(C,k){return R0.apply(void 0,gk(k).concat([n(1)]))},o);i(Or(Or(Or({},t),e),T))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}var Qge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zge(t,e){if(t==null)return{};var n=e0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I1(t){return i0e(t)||r0e(t)||n0e(t)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0e(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function r0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i0e(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jh(t,e,n){return e=Hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hj(r.key),r)}}function s0e(t,e,n){return e&&o0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hj(t){var e=l0e(t,"string");return zf(e)==="symbol"?e:String(e)}function l0e(t,e){if(zf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pw(t,e)}function c0e(t){var e=f0e();return function(){var r=B0(t),i;if(e){var a=B0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Aw(this,i)}}function Aw(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mw(t)}function mw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B0(t)}var ds=function(t){u0e(n,t);var e=c0e(n);function n(r,i){var a;a0e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,A=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(mw(a)),a.changeStyle=a.changeStyle.bind(mw(a)),!s||A<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),Aw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Aw(a);a.state={style:l?jh({},l,u):u}}else a.state={style:{}};return a}return s0e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var A={style:l?jh({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(A);return}if(!(gge(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var w={style:l?jh({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(w)}this.runAnimation(Ha(Ha({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,A=Xge(o,s,Fge(u),l,this.changeStyle),v=function(){a.stopJSAnimation=A()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,A=function(b,w,y){if(y===0)return b;var x=w.duration,S=w.easing,T=S===void 0?"ease":S,C=w.style,k=w.properties,E=w.onAnimationEnd,I=y>0?o[y-1]:w,D=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(I1(b),[a.runJSAnimation.bind(a,{from:I.style,to:C,duration:x,easing:T}),x]);var $=pk(D,x,T),O=Ha(Ha(Ha({},I.style),C),{},{transition:$});return[].concat(I1(b),[O,x,E]).filter(Ege)};return this.manager.start([l].concat(I1(o.reduce(A,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_ge());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,A=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof A=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?jh({},s,l):l,w=pk(Object.keys(b),o,u);v.start([c,a,Ha(Ha({},b),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Zge(i,Qge),u=ae.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(A){var v=A.props,b=v.style,w=b===void 0?{}:b,y=v.className,x=ae.cloneElement(A,Ha(Ha({},l),{},{style:Ha(Ha({},w),c),className:y}));return x};return u===1?f(ae.Children.only(a)):de.createElement("div",null,ae.Children.map(a,function(h){return f(h)}))}}]),n}(ae.PureComponent);ds.displayName="Animate";ds.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ds.propTypes={from:Zt.oneOfType([Zt.object,Zt.string]),to:Zt.oneOfType([Zt.object,Zt.string]),attributeName:Zt.string,duration:Zt.number,begin:Zt.number,easing:Zt.oneOfType([Zt.string,Zt.func]),steps:Zt.arrayOf(Zt.shape({duration:Zt.number.isRequired,style:Zt.object.isRequired,easing:Zt.oneOfType([Zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Zt.func]),properties:Zt.arrayOf("string"),onAnimationEnd:Zt.func})),children:Zt.oneOfType([Zt.node,Zt.func]),isActive:Zt.bool,canBegin:Zt.bool,onAnimationEnd:Zt.func,shouldReAnimate:Zt.bool,onAnimationStart:Zt.func,onAnimationReStart:Zt.func};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function d0e(t,e){return m0e(t)||A0e(t,e)||p0e(t,e)||h0e()}function h0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function m0e(t){if(Array.isArray(t))return t}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){g0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0e(t,e,n){return e=v0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0e(t){var e=y0e(t,"string");return Zp(e)=="symbol"?e:e+""}function y0e(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sk=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,A=4;h<A;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},b0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},x0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h_=function(e){var n=wk(wk({},x0e),e),r=ae.useRef(),i=ae.useState(-1),a=d0e(i,2),o=a[0],s=a[1];ae.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,A=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=It("recharts-rectangle",A);return x?de.createElement(ds,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:x},function(T){var C=T.width,k=T.height,E=T.x,I=T.y;return de.createElement(ds,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:v},de.createElement("path",$0({},bt(n,!0),{className:S,d:Sk(E,I,C,k,h),ref:r})))}):de.createElement("path",$0({},bt(n,!0),{className:S,d:Sk(l,u,c,f,h)}))},w0e=["points","className","baseLinePoints","connectNulls"];function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function S0e(t,e){if(t==null)return{};var n=_0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _k(t){return E0e(t)||N0e(t)||C0e(t)||T0e()}function T0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E0e(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tk=function(e){return e&&e.x===+e.x&&e.y===+e.y},k0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Tk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Tk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},lp=function(e,n){var r=k0e(e);n&&(r=[r.reduce(function(a,o){return[].concat(_k(a),_k(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},P0e=function(e,n,r){var i=lp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lp(n.reverse(),r).slice(1))},M0e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=S0e(e,w0e);if(!n||!n.length)return null;var s=It("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=P0e(n,i,a);return de.createElement("g",{className:s},de.createElement("path",of({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?de.createElement("path",of({},bt(o,!0),{fill:"none",d:lp(n,a)})):null,l?de.createElement("path",of({},bt(o,!0),{fill:"none",d:lp(i,a)})):null)}var c=lp(n,a);return de.createElement("path",of({},bt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}var p_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=It("recharts-dot",a);return n===+n&&r===+r&&i===+i?ae.createElement("circle",vw({},bt(e,!1),o0(e),{className:o,cx:n,cy:r,r:i})):null};function eA(t){"@babel/helpers - typeof";return eA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(t)}var O0e=["x","y","top","left","width","height","className"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){D0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0e(t,e,n){return e=L0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0e(t){var e=j0e(t,"string");return eA(e)=="symbol"?e:e+""}function j0e(t,e){if(eA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R0e(t,e){if(t==null)return{};var n=B0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $0e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},F0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,A=h===void 0?0:h,v=e.className,b=R0e(e,O0e),w=I0e({x:r,y:a,top:s,left:u,width:f,height:A},b);return!We(r)||!We(a)||!We(f)||!We(A)||!We(s)||!We(u)?null:de.createElement("path",yw({},bt(w,!0),{className:It("recharts-cross",v),d:$0e(r,a,f,A,s,u)}))},U0e=ly,q0e=tj,H0e=To;function z0e(t,e){return t&&t.length?U0e(t,H0e(e),q0e):void 0}var V0e=z0e;const G0e=Qt(V0e);var W0e=ly,Y0e=To,K0e=nj;function J0e(t,e){return t&&t.length?W0e(t,Y0e(e),K0e):void 0}var X0e=J0e;const Q0e=Qt(X0e);var Z0e=["cx","cy","angle","ticks","axisLine"],eve=["ticks","tick","angle","tickFormatter","stroke"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ek(t,e){if(t==null)return{};var n=tve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vj(r.key),r)}}function rve(t,e,n){return e&&kk(t.prototype,e),n&&kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ive(t,e,n){return e=F0(e),ave(t,zj()?Reflect.construct(e,n||[],F0(t).constructor):e.apply(t,n))}function ave(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ove(t)}function ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zj=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(t)}function sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function Ay(t,e,n){return e=Vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vj(t){var e=lve(t,"string");return Vf(e)=="symbol"?e:e+""}function lve(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var my=function(t){function e(){return nve(this,e),ive(this,e,arguments)}return sve(e,t),rve(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Sn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=G0e(s,function(c){return c.coordinate||0}),u=Q0e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=Ek(r,Z0e),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Sn(i,a,c[0],o),h=Sn(i,a,c[1],o),A=Xl(Xl(Xl({},bt(u,!1)),{},{fill:"none"},bt(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return de.createElement("line",up({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=Ek(i,eve),f=this.getTickTextAnchor(),h=bt(c,!1),A=bt(o,!1),v=a.map(function(b,w){var y=r.getTickValueCoord(b),x=Xl(Xl(Xl(Xl({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},A),{},{index:w},y),{},{payload:b});return de.createElement(an,up({className:It("recharts-polar-radius-axis-tick",Pj(o)),key:"tick-".concat(b.coordinate)},Ru(r.props,b,w)),e.renderTickItem(o,x,l?l(b.value,w):b.value))});return de.createElement(an,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:de.createElement(an,{className:It("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Cr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):wt(r)?o=r(i):o=de.createElement(Bu,up({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(ae.PureComponent);Ay(my,"displayName","PolarRadiusAxis");Ay(my,"axisType","radiusAxis");Ay(my,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function cve(t,e,n){return e&&Mk(t.prototype,e),n&&Mk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fve(t,e,n){return e=U0(e),dve(t,Gj()?Reflect.construct(e,n||[],U0(t).constructor):e.apply(t,n))}function dve(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hve(t)}function hve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function gy(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=Ave(t,"string");return Gf(e)=="symbol"?e:e+""}function Ave(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mve=Math.PI/180,Ok=1e-5,vy=function(t){function e(){return uve(this,e),fve(this,e,arguments)}return pve(e,t),cve(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Sn(a,o,s,r.coordinate),h=Sn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*mve),o;return a>Ok?o=i==="outer"?"start":"end":a<-Ok?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Ql(Ql({},bt(this.props,!1)),{},{fill:"none"},bt(s,!1));if(l==="circle")return de.createElement(p_,cu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return Sn(i,a,o,h.coordinate)});return de.createElement(M0e,cu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=bt(this.props,!1),f=bt(o,!1),h=Ql(Ql({},c),{},{fill:"none"},bt(s,!1)),A=a.map(function(v,b){var w=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),x=Ql(Ql(Ql({textAnchor:y},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:w.x2,y:w.y2});return de.createElement(an,cu({className:It("recharts-polar-angle-axis-tick",Pj(o)),key:"tick-".concat(v.coordinate)},Ru(r.props,v,b)),s&&de.createElement("line",cu({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&e.renderTickItem(o,x,l?l(v.value,b):v.value))});return de.createElement(an,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:de.createElement(an,{className:It("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):wt(r)?o=r(i):o=de.createElement(Bu,cu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(ae.PureComponent);gy(vy,"displayName","PolarAngleAxis");gy(vy,"axisType","angleAxis");gy(vy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gve=XD,vve=gve(Object.getPrototypeOf,Object),yve=vve,bve=As,xve=yve,wve=ms,Sve="[object Object]",_ve=Function.prototype,Tve=Object.prototype,Yj=_ve.toString,Cve=Tve.hasOwnProperty,Nve=Yj.call(Object);function Eve(t){if(!wve(t)||bve(t)!=Sve)return!1;var e=xve(t);if(e===null)return!0;var n=Cve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Yj.call(n)==Nve}var kve=Eve;const Pve=Qt(kve);var Mve=As,Ove=ms,Ive="[object Boolean]";function Dve(t){return t===!0||t===!1||Ove(t)&&Mve(t)==Ive}var Lve=Dve;const jve=Qt(Lve);function tA(t){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function Rve(t,e){return Uve(t)||Fve(t,e)||$ve(t,e)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ve(t,e){if(t){if(typeof t=="string")return Ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(t,e)}}function Ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uve(t){if(Array.isArray(t))return t}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hve(t){var e=zve(t,"string");return tA(e)=="symbol"?e:e+""}function zve(t,e){if(tA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jk=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Vve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gve=function(e){var n=Lk(Lk({},Vve),e),r=ae.useRef(),i=ae.useState(-1),a=Rve(i,2),o=a[0],s=a[1];ae.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,A=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var x=It("recharts-trapezoid",A);return y?de.createElement(ds,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:y},function(S){var T=S.upperWidth,C=S.lowerWidth,k=S.height,E=S.x,I=S.y;return de.createElement(ds,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:v},de.createElement("path",q0({},bt(n,!0),{className:x,d:jk(E,I,T,C,k),ref:r})))}):de.createElement("g",null,de.createElement("path",q0({},bt(n,!0),{className:x,d:jk(l,u,c,f,h)})))},Wve=["option","shapeType","propTransformer","activeClassName","isActive"];function nA(t){"@babel/helpers - typeof";return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(t)}function Yve(t,e){if(t==null)return{};var n=Kve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jve(t,e,n){return e=Xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Qve(t,"string");return nA(e)=="symbol"?e:e+""}function Qve(t,e){if(nA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zve(t,e){return H0(H0({},e),t)}function eye(t,e){return t==="symbols"}function Bk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(h_,n);case"trapezoid":return de.createElement(Gve,n);case"sector":return de.createElement(Ij,n);case"symbols":if(eye(e))return de.createElement(OS,n);break;default:return null}}function tye(t){return ae.isValidElement(t)?t.props:t}function Kj(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Zve:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Yve(t,Wve),u;if(ae.isValidElement(e))u=ae.cloneElement(e,H0(H0({},l),tye(e)));else if(wt(e))u=e(l);else if(Pve(e)&&!jve(e)){var c=i(e,l);u=de.createElement(Bk,{shapeType:n,elementProps:c})}else{var f=l;u=de.createElement(Bk,{shapeType:n,elementProps:f})}return s?de.createElement(an,{className:o},u):u}function yy(t,e){return e!=null&&"trapezoids"in t.props}function by(t,e){return e!=null&&"sectors"in t.props}function rA(t,e){return e!=null&&"points"in t.props}function nye(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function rye(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function iye(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function aye(t,e){var n;return yy(t,e)?n=nye:by(t,e)?n=rye:rA(t,e)&&(n=iye),n}function oye(t,e){var n;return yy(t,e)?n="trapezoids":by(t,e)?n="sectors":rA(t,e)&&(n="points"),n}function sye(t,e){if(yy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(by(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return rA(t,e)?e.payload:{}}function lye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=oye(n,e),a=sye(n,e),o=r.filter(function(l,u){var c=fy(a,l),f=n.props[i].filter(function(v){var b=aye(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),A=u===h;return c&&A}),s=r.indexOf(o[o.length-1]);return s}var Cg;function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xj(r.key),r)}}function cye(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fye(t,e,n){return e=z0(e),dye(t,Jj()?Reflect.construct(e,n||[],z0(t).constructor):e.apply(t,n))}function dye(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hye(t)}function hye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jj=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(t)}function pye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ww(t,e)}function Ta(t,e,n){return e=Xj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xj(t){var e=Aye(t,"string");return Wf(e)=="symbol"?e:e+""}function Aye(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vs=function(t){function e(n){var r;return uye(this,e),r=fye(this,e,[n]),Ta(r,"pieRef",null),Ta(r,"sectorRefs",[]),Ta(r,"id",EA("recharts-pie-")),Ta(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),wt(i)&&i()}),Ta(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),wt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return pye(e,t),cye(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=bt(this.props,!1),f=bt(o,!1),h=bt(s,!1),A=o&&o.offsetRadius||20,v=r.map(function(b,w){var y=(b.startAngle+b.endAngle)/2,x=Sn(b.cx,b.cy,b.outerRadius+A,y),S=bn(bn(bn(bn({},c),b),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(x.x,b.cx)},x),T=bn(bn(bn(bn({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:w,points:[Sn(b.cx,b.cy,b.outerRadius,y),x]}),C=l;return Lt(l)&&Lt(u)?C="value":Lt(l)&&(C=u),de.createElement(an,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,S,Xr(b,C)))});return de.createElement(an,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,A=f?o:h,v=bn(bn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return de.createElement(an,sf({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Ru(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),de.createElement(Kj,sf({option:A,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,A=f.prevIsAnimationActive;return de.createElement(ds,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,w=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(S,T){var C=h&&h[T],k=T>0?Zi(S,"paddingAngle",0):0;if(C){var E=Ys(C.endAngle-C.startAngle,S.endAngle-S.startAngle),I=bn(bn({},S),{},{startAngle:x+k,endAngle:x+E(b)+k});w.push(I),x=I.endAngle}else{var D=S.endAngle,$=S.startAngle,O=Ys(0,D-$),M=O(b),B=bn(bn({},S),{},{startAngle:x+k,endAngle:x+M+k});w.push(B),x=B.endAngle}}),de.createElement(an,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!fy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,A=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!We(u)||!We(c)||!We(f)||!We(h))return null;var b=It("recharts-pie",s);return de.createElement(an,{tabIndex:this.props.rootTabIndex,className:b,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Cr.renderCallByParent(this.props,null,!1),(!A||v)&&wl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);if(wt(r))return r(i);var o=It("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(sw,sf({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);var o=a;if(wt(r)&&(o=r(i),de.isValidElement(o)))return o;var s=It("recharts-pie-label-text",typeof r!="boolean"&&!wt(r)?r.className:"");return de.createElement(Bu,sf({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(ae.PureComponent);Cg=vs;Ta(vs,"displayName","Pie");Ta(vs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ta(vs,"parseDeltaAngle",function(t,e){var n=ai(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ta(vs,"getRealPieData",function(t){var e=t.data,n=t.children,r=bt(t,!1),i=Pa(n,ty);return e&&e.length?e.map(function(a,o){return bn(bn(bn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bn(bn({},r),a.props)}):[]});Ta(vs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=kj(i,a),s=r+oi(t.cx,i,i/2),l=n+oi(t.cy,a,a/2),u=oi(t.innerRadius,o,0),c=oi(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Ta(vs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?bn(bn({},e.type.defaultProps),e.props):e.props,i=Cg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,A=Math.abs(r.minAngle),v=Cg.parseCoordinateOfPie(r,n),b=Cg.parseDeltaAngle(o,s),w=Math.abs(b),y=u;Lt(u)&&Lt(f)?(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Lt(u)&&(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(I){return Xr(I,y,0)!==0}).length,S=(w>=360?x:x-1)*l,T=w-x*A-S,C=i.reduce(function(I,D){var $=Xr(D,y,0);return I+(We($)?$:0)},0),k;if(C>0){var E;k=i.map(function(I,D){var $=Xr(I,y,0),O=Xr(I,c,D),M=(We($)?$:0)/C,B;D?B=E.endAngle+ai(b)*l*($!==0?1:0):B=o;var F=B+ai(b)*(($!==0?A:0)+M*T),G=(B+F)/2,R=(v.innerRadius+v.outerRadius)/2,U=[{name:O,value:$,payload:I,dataKey:y,type:h}],V=Sn(v.cx,v.cy,R,G);return E=bn(bn(bn({percent:M,cornerRadius:a,name:O,tooltipPayload:U,midAngle:G,middleRadius:R,tooltipPosition:V},I),v),{},{value:Xr(I,y),startAngle:B,endAngle:F,payload:I,paddingAngle:ai(b)*l}),E})}return bn(bn({},v),{},{sectors:k,data:i})});var mye=Math.ceil,gye=Math.max;function vye(t,e,n,r){for(var i=-1,a=gye(mye((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var yye=vye,bye=mL,Uk=1/0,xye=17976931348623157e292;function wye(t){if(!t)return t===0?t:0;if(t=bye(t),t===Uk||t===-Uk){var e=t<0?-1:1;return e*xye}return t===t?t:0}var Qj=wye,Sye=yye,_ye=ey,D1=Qj;function Tye(t){return function(e,n,r){return r&&typeof r!="number"&&_ye(e,n,r)&&(n=r=void 0),e=D1(e),n===void 0?(n=e,e=0):n=D1(n),r=r===void 0?e<n?1:-1:D1(r),Sye(e,n,r,t)}}var Cye=Tye,Nye=Cye,Eye=Nye(),kye=Eye;const V0=Qt(kye);function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){Zj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zj(t,e,n){return e=Pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pye(t){var e=Mye(t,"string");return iA(e)=="symbol"?e:e+""}function Mye(t,e){if(iA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oye=["Webkit","Moz","O","ms"],Iye=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Oye.reduce(function(a,o){return Hk(Hk({},a),{},Zj({},o+r,n))},{});return i[e]=n,i};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){$i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tR(r.key),r)}}function Lye(t,e,n){return e&&Vk(t.prototype,e),n&&Vk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jye(t,e,n){return e=W0(e),Rye(t,eR()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function Rye(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bye(t)}function Bye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function $ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function $i(t,e,n){return e=tR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tR(t){var e=Fye(t,"string");return Yf(e)=="symbol"?e:e+""}function Fye(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ap().domain(V0(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},Gk=function(e){return e.changedTouches&&!!e.changedTouches.length},Kf=function(t){function e(n){var r;return Dye(this,e),r=jye(this,e,[n]),$i(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$i(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$i(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),$i(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$i(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$i(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$i(r,"handleSlideDragStart",function(i){var a=Gk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $ye(e,t),Lye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),A=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:A-A%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Xr(a[r],s,r);return wt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,A=l.endIndex,v=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,u+c-f-s,u+c-f-o):b<0&&(b=Math.max(b,u-o,u-s));var w=this.getIndex({startX:o+b,endX:s+b});(w.startIndex!==h||w.endIndex!==A)&&v&&v(w),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Gk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,A=c.travellerWidth,v=c.onChange,b=c.gap,w=c.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+h-A-u):x<0&&(x=Math.max(x,f-u)),y[o]=u+x;var S=this.getIndex(y),T=S.startIndex,C=S.endIndex,k=function(){var I=w.length-1;return o==="startX"&&(s>l?T%b===0:C%b===0)||s<l&&C===I||o==="endX"&&(s>l?C%b===0:T%b===0)||s>l&&C===I};this.setState($i($i({},o,u+x),"brushMoveStartX",r.pageX),function(){v&&k()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var A=s[h];i==="startX"&&A>=u||i==="endX"&&A<=l||this.setState($i({},i,A),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return de.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=ae.Children.only(u);return f?de.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,A=l.ariaLabel,v=l.data,b=l.startIndex,w=l.endIndex,y=Math.max(r,this.props.x),x=L1(L1({},bt(this.props,!1)),{},{x:y,y:u,width:c,height:f}),S=A||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return de.createElement(an,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,A=5,v={pointerEvents:"none",fill:u};return de.createElement(an,{className:"recharts-brush-texts"},de.createElement(Bu,G0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-A,y:o+s/2},v),this.getTextOfTick(i)),de.createElement(Bu,G0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+A,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,A=h.startX,v=h.endX,b=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!We(s)||!We(l)||!We(u)||!We(c)||u<=0||c<=0)return null;var S=It("recharts-brush",a),T=de.Children.count(o)===1,C=Iye("userSelect","none");return de.createElement(an,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(A,v),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(v,"endX"),(b||w||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):wt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return L1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Uye({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(A){return i.scale(A)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(ae.PureComponent);$i(Kf,"displayName","Brush");$i(Kf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qye=$S;function Hye(t,e){var n;return qye(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var zye=Hye,Vye=HD,Gye=To,Wye=zye,Yye=Ni,Kye=ey;function Jye(t,e,n){var r=Yye(t)?Vye:Wye;return n&&Kye(t,e,n)&&(e=void 0),r(t,Gye(e))}var Xye=Jye;const Qye=Qt(Xye);var yo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Wk=fL;function Zye(t,e,n){e=="__proto__"&&Wk?Wk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ebe=Zye,tbe=ebe,nbe=uL,rbe=To;function ibe(t,e){var n={};return e=rbe(e),nbe(t,function(r,i,a){tbe(n,i,e(r,i,a))}),n}var abe=ibe;const obe=Qt(abe);function sbe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var lbe=sbe,ube=$S;function cbe(t,e){var n=!0;return ube(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var fbe=cbe,dbe=lbe,hbe=fbe,pbe=To,Abe=Ni,mbe=ey;function gbe(t,e,n){var r=Abe(t)?dbe:hbe;return n&&mbe(t,e,n)&&(e=void 0),r(t,pbe(e))}var vbe=gbe;const nR=Qt(vbe);var ybe=["x","y"];function aA(t){"@babel/helpers - typeof";return aA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aA(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){bbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bbe(t,e,n){return e=xbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xbe(t){var e=wbe(t,"string");return aA(e)=="symbol"?e:e+""}function wbe(t,e){if(aA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sbe(t,e){if(t==null)return{};var n=_be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tbe(t,e){var n=t.x,r=t.y,i=Sbe(t,ybe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Eh(Eh(Eh(Eh(Eh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function Kk(t){return de.createElement(Kj,_w({shapeType:"rectangle",propTransformer:Tbe,activeClassName:"recharts-active-bar"},t))}var Cbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=We(r)||XZ(r);return a?e(r,i):(a||Fu(),n)}},Nbe=["value","background"],rR;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function Ebe(t,e){if(t==null)return{};var n=kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aR(r.key),r)}}function Mbe(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Obe(t,e,n){return e=K0(e),Ibe(t,iR()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function Ibe(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dbe(t)}function Dbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iR=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function Lbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function ul(t,e,n){return e=aR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aR(t){var e=jbe(t,"string");return Jf(e)=="symbol"?e:e+""}function jbe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ec=function(t){function e(){var n;Pbe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Obe(this,e,[].concat(i)),ul(n,"state",{isAnimationFinished:!1}),ul(n,"id",EA("recharts-bar-")),ul(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ul(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Lbe(e,t),Mbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=bt(this.props,!1);return r&&r.map(function(f,h){var A=h===l,v=A?u:o,b=nr(nr(nr({},c),f),{},{isActive:A,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(an,Y0({className:"recharts-bar-rectangle"},Ru(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(Kk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return de.createElement(ds,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var v=A.t,b=a.map(function(w,y){var x=h&&h[y];if(x){var S=Ys(x.x,w.x),T=Ys(x.y,w.y),C=Ys(x.width,w.width),k=Ys(x.height,w.height);return nr(nr({},w),{},{x:S(v),y:T(v),width:C(v),height:k(v)})}if(o==="horizontal"){var E=Ys(0,w.height),I=E(v);return nr(nr({},w),{},{y:w.y+w.height-I,height:I})}var D=Ys(0,w.width),$=D(v);return nr(nr({},w),{},{width:$})});return de.createElement(an,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!fy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=bt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=Ebe(u,Nbe);if(!f)return null;var A=nr(nr(nr(nr(nr({},h),{},{fill:"#eee"},f),l),Ru(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return de.createElement(Kk,Y0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},A))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Pa(c,py);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,A=function(w,y){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:Xr(w,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(an,v,f.map(function(b){return de.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:A})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,A=r.isAnimationActive,v=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,y=It("recharts-bar",o),x=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=x||S,C=Lt(b)?this.id:b;return de.createElement(an,{className:y},x||S?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(C)},de.createElement("rect",{x:x?u:u-f/2,y:S?c:c-h/2,width:x?f:f*2,height:S?h:h*2}))):null,de.createElement(an,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!A||w)&&wl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(ae.PureComponent);rR=ec;ul(ec,"displayName","Bar");ul(ec,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ul(ec,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,A=AAe(r,n);if(!A)return null;var v=e.layout,b=n.type.defaultProps,w=b!==void 0?nr(nr({},b),n.props):n.props,y=w.dataKey,x=w.children,S=w.minPointSize,T=v==="horizontal"?o:a,C=u?T.scale.domain():null,k=wAe({numericAxis:T}),E=Pa(x,ty),I=f.map(function(D,$){var O,M,B,F,G,R;u?O=mAe(u[c+$],C):(O=Xr(D,y),Array.isArray(O)||(O=[k,O]));var U=Cbe(S,rR.defaultProps.minPointSize)(O[1],$);if(v==="horizontal"){var V,K=[o.scale(O[0]),o.scale(O[1])],ee=K[0],le=K[1];M=F3({axis:a,ticks:s,bandSize:i,offset:A.offset,entry:D,index:$}),B=(V=le??ee)!==null&&V!==void 0?V:void 0,F=A.size;var j=ee-le;if(G=Number.isNaN(j)?0:j,R={x:M,y:o.y,width:F,height:o.height},Math.abs(U)>0&&Math.abs(G)<Math.abs(U)){var z=ai(G||U)*(Math.abs(U)-Math.abs(G));B-=z,G+=z}}else{var Q=[a.scale(O[0]),a.scale(O[1])],te=Q[0],J=Q[1];if(M=te,B=F3({axis:o,ticks:l,bandSize:i,offset:A.offset,entry:D,index:$}),F=J-te,G=A.size,R={x:a.x,y:B,width:a.width,height:G},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var se=ai(F||U)*(Math.abs(U)-Math.abs(F));F+=se}}return nr(nr(nr({},D),{},{x:M,y:B,width:F,height:G,value:u?O:O[1],payload:D,background:R},E&&E[$]&&E[$].props),{},{tooltipPayload:[Nj(n,D)],tooltipPosition:{x:M+F/2,y:B+G/2}})});return nr({data:I,layout:v},h)});function oA(t){"@babel/helpers - typeof";return oA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oA(t)}function Rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oR(r.key),r)}}function Bbe(t,e,n){return e&&Qk(t.prototype,e),n&&Qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xy(t,e,n){return e=oR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oR(t){var e=$be(t,"string");return oA(e)=="symbol"?e:e+""}function $be(t,e){if(oA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fbe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ui(u,ec);return c.reduce(function(A,v){var b=n[v],w=b.orientation,y=b.domain,x=b.padding,S=x===void 0?{}:x,T=b.mirror,C=b.reversed,k="".concat(w).concat(T?"Mirror":""),E,I,D,$,O;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=y[1]-y[0],B=1/0,F=b.categoricalDomain.sort(eee);if(F.forEach(function(Q,te){te>0&&(B=Math.min((Q||0)-(F[te-1]||0),B))}),Number.isFinite(B)){var G=B/M,R=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=G*R/2),b.padding==="no-gap"){var U=oi(e.barCategoryGap,G*R),V=G*R/2;E=V-U-(V-U)/R*U}}}i==="xAxis"?I=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:I=b.range,C&&(I=[I[1],I[0]]);var K=Sj(b,a,h),ee=K.scale,le=K.realScaleType;ee.domain(y).range(I),_j(ee);var j=Tj(ee,Wa(Wa({},b),{},{realScaleType:le}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,D=r.left,$=f[k]-O*b.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,D=f[k]-O*b.width,$=r.top);var z=Wa(Wa(Wa({},b),j),{},{realScaleType:le,x:D,y:$,scale:ee,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return z.bandSize=I0(z,j),!b.hide&&i==="xAxis"?f[k]+=(O?-1:1)*z.height:b.hide||(f[k]+=(O?-1:1)*z.width),Wa(Wa({},A),{},xy({},v,z))},{})},sR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Ube=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return sR({x:n,y:r},{x:i,y:a})},lR=function(){function t(e){Rbe(this,t),this.scale=e}return Bbe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();xy(lR,"EPS",1e-4);var A_=function(e){var n=Object.keys(e).reduce(function(r,i){return Wa(Wa({},r),{},xy({},i,lR.create(e[i])))},{});return Wa(Wa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return obe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return nR(i,function(a,o){return n[o].isInRange(a)})}})};function qbe(t){return(t%180+180)%180}var Hbe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=qbe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},zbe=To,Vbe=kA,Gbe=Qv;function Wbe(t){return function(e,n,r){var i=Object(e);if(!Vbe(e)){var a=zbe(n);e=Gbe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Ybe=Wbe,Kbe=Qj;function Jbe(t){var e=Kbe(t),n=e%1;return e===e?n?e-n:e:0}var Xbe=Jbe,Qbe=rL,Zbe=To,e1e=Xbe,t1e=Math.max;function n1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:e1e(n);return i<0&&(i=t1e(r+i,0)),Qbe(t,Zbe(e),i)}var r1e=n1e,i1e=Ybe,a1e=r1e,o1e=i1e(a1e),s1e=o1e;const l1e=Qt(s1e);var u1e=rZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),m_=ae.createContext(void 0),g_=ae.createContext(void 0),uR=ae.createContext(void 0),cR=ae.createContext({}),fR=ae.createContext(void 0),dR=ae.createContext(0),hR=ae.createContext(0),eP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=u1e(a);return de.createElement(m_.Provider,{value:r},de.createElement(g_.Provider,{value:i},de.createElement(cR.Provider,{value:a},de.createElement(uR.Provider,{value:c},de.createElement(fR.Provider,{value:o},de.createElement(dR.Provider,{value:u},de.createElement(hR.Provider,{value:l},s)))))))},c1e=function(){return ae.useContext(fR)},pR=function(e){var n=ae.useContext(m_);n==null&&Fu();var r=n[e];return r==null&&Fu(),r},f1e=function(){var e=ae.useContext(m_);return tl(e)},d1e=function(){var e=ae.useContext(g_),n=l1e(e,function(r){return nR(r.domain,Number.isFinite)});return n||tl(e)},AR=function(e){var n=ae.useContext(g_);n==null&&Fu();var r=n[e];return r==null&&Fu(),r},h1e=function(){var e=ae.useContext(uR);return e},p1e=function(){return ae.useContext(cR)},v_=function(){return ae.useContext(hR)},y_=function(){return ae.useContext(dR)};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function A1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gR(r.key),r)}}function g1e(t,e,n){return e&&m1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v1e(t,e,n){return e=J0(e),y1e(t,mR()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function y1e(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1e(t)}function b1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function x1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n){return e=gR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gR(t){var e=w1e(t,"string");return Xf(e)=="symbol"?e:e+""}function w1e(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S1e(t,e){return N1e(t)||C1e(t,e)||T1e(t,e)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T1e(t,e){if(t){if(typeof t=="string")return rP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rP(t,e)}}function rP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function N1e(t){if(Array.isArray(t))return t}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}var E1e=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):wt(e)?r=e(n):r=de.createElement("line",Nw({},n,{className:"recharts-reference-line-line"})),r},k1e=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,A=a.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(yo(u,"discard")&&!e.y.isInRange(b))return null;var w=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?w.reverse():w}if(n){var y=u.x,x=e.x.apply(y,{position:o});if(yo(u,"discard")&&!e.x.isInRange(x))return null;var S=[{x,y:f+A},{x,y:f}];return s==="top"?S.reverse():S}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return yo(u,"discard")&&Qye(C,function(k){return!e.isInRange(k)})?null:C}return null};function P1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=c1e(),c=pR(i),f=AR(a),h=h1e();if(!u||!h)return null;Ja(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=A_({x:c.scale,y:f.scale}),v=gr(e),b=gr(n),w=r&&r.length===2,y=k1e(A,v,b,w,h,t.position,c.orientation,f.orientation,t);if(!y)return null;var x=S1e(y,2),S=x[0],T=S.x,C=S.y,k=x[1],E=k.x,I=k.y,D=yo(t,"hidden")?"url(#".concat(u,")"):void 0,$=nP(nP({clipPath:D},bt(t,!0)),{},{x1:T,y1:C,x2:E,y2:I});return de.createElement(an,{className:It("recharts-reference-line",s)},E1e(o,$),Cr.renderCallByParent(t,Ube({x1:T,y1:C,x2:E,y2:I})))}var x_=function(t){function e(){return A1e(this,e),v1e(this,e,arguments)}return x1e(e,t),g1e(e,[{key:"render",value:function(){return de.createElement(P1e,this.props)}}])}(de.Component);b_(x_,"displayName","ReferenceLine");b_(x_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yR(r.key),r)}}function I1e(t,e,n){return e&&O1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D1e(t,e,n){return e=X0(e),L1e(t,vR()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function L1e(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1e(t)}function j1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vR=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kw(t,e)}function wy(t,e,n){return e=yR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yR(t){var e=B1e(t,"string");return Qf(e)=="symbol"?e:e+""}function B1e(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $1e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=A_({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return yo(e,"discard")&&!o.isInRange(s)?null:s},Sy=function(t){function e(){return M1e(this,e),D1e(this,e,arguments)}return R1e(e,t),I1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=gr(i),c=gr(a);if(Ja(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$1e(this.props);if(!f)return null;var h=f.x,A=f.y,v=this.props,b=v.shape,w=v.className,y=yo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=aP(aP({clipPath:y},bt(this.props,!0)),{},{cx:h,cy:A});return de.createElement(an,{className:It("recharts-reference-dot",w)},e.renderDot(b,x),Cr.renderCallByParent(this.props,{x:h-o,y:A-o,width:2*o,height:2*o}))}}])}(de.Component);wy(Sy,"displayName","ReferenceDot");wy(Sy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wy(Sy,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):wt(t)?n=t(e):n=de.createElement(p_,Ew({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xR(r.key),r)}}function q1e(t,e,n){return e&&U1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H1e(t,e,n){return e=Q0(e),z1e(t,bR()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function z1e(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1e(t)}function V1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function G1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function _y(t,e,n){return e=xR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xR(t){var e=W1e(t,"string");return Zf(e)=="symbol"?e:e+""}function W1e(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y1e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=A_({x:c.scale,y:f.scale}),A={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return yo(a,"discard")&&(!h.isInRange(A)||!h.isInRange(v))?null:sR(A,v)},Ty=function(t){function e(){return F1e(this,e),H1e(this,e,arguments)}return G1e(e,t),q1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ja(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gr(i),h=gr(a),A=gr(o),v=gr(s),b=this.props.shape;if(!f&&!h&&!A&&!v&&!b)return null;var w=Y1e(f,h,A,v,this.props);if(!w&&!b)return null;var y=yo(this.props,"hidden")?"url(#".concat(c,")"):void 0;return de.createElement(an,{className:It("recharts-reference-area",l)},e.renderRect(b,sP(sP({clipPath:y},bt(this.props,!0)),w)),Cr.renderCallByParent(this.props,w))}}])}(de.Component);_y(Ty,"displayName","ReferenceArea");_y(Ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_y(Ty,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):wt(t)?n=t(e):n=de.createElement(h_,Pw({},e,{className:"recharts-reference-area-rect"})),n});function wR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function K1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hbe(r,n)}function J1e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Z0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function X1e(t,e){return wR(t,e+1)}function Q1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:wR(r,u)};var b=l,w,y=function(){return w===void 0&&(w=n(v,b)),w},x=v.coordinate,S=l===0||Z0(t,x,y,c,s);S||(l=0,c=o,u+=1),S&&(c=x+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function sA(t){"@babel/helpers - typeof";return sA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sA(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){Z1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z1e(t,e,n){return e=exe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function exe(t){var e=txe(t,"string");return sA(e)=="symbol"?e:e+""}function txe(t,e){if(sA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nxe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var A=a[h],v,b=function(){return v===void 0&&(v=n(A,h)),v};if(h===o-1){var w=t*(A.coordinate+t*b()/2-l);a[h]=A=Yr(Yr({},A),{},{tickCoord:w>0?A.coordinate-w*t:A.coordinate})}else a[h]=A=Yr(Yr({},A),{},{tickCoord:A.coordinate});var y=Z0(t,A.tickCoord,b,s,l);y&&(l=A.tickCoord-t*(b()/2+i),a[h]=Yr(Yr({},A),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function rxe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=Yr(Yr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var A=Z0(t,c.tickCoord,function(){return f},l,u);A&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Yr(Yr({},c),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(x){var S=o[x],T,C=function(){return T===void 0&&(T=n(S,x)),T};if(x===0){var k=t*(S.coordinate-t*C()/2-l);o[x]=S=Yr(Yr({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[x]=S=Yr(Yr({},S),{},{tickCoord:S.coordinate});var E=Z0(t,S.tickCoord,C,l,u);E&&(l=S.tickCoord+t*(C()/2+i),o[x]=Yr(Yr({},S),{},{isShow:!0}))},w=0;w<v;w++)b(w);return o}function w_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(We(l)||Cd.isSsr)return X1e(i,typeof l=="number"&&We(l)?l:0);var h=[],A=s==="top"||s==="bottom"?"width":"height",v=c&&A==="width"?ip(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,T){var C=wt(u)?u(S.value,T):S.value;return A==="width"?K1e(ip(C,{fontSize:e,letterSpacing:n}),v,f):ip(C,{fontSize:e,letterSpacing:n})[A]},w=i.length>=2?ai(i[1].coordinate-i[0].coordinate):1,y=J1e(a,w,A);return l==="equidistantPreserveStart"?Q1e(w,y,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=rxe(w,y,b,i,o,l==="preserveStartEnd"):h=nxe(w,y,b,i,o),h.filter(function(x){return x.isShow}))}var ixe=["viewBox"],axe=["viewBox"],oxe=["ticks"];function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){S_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1(t,e){if(t==null)return{};var n=sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_R(r.key),r)}}function uxe(t,e,n){return e&&cP(t.prototype,e),n&&cP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cxe(t,e,n){return e=ev(e),fxe(t,SR()?Reflect.construct(e,n||[],ev(t).constructor):e.apply(t,n))}function fxe(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(t)}function dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SR=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function S_(t,e,n){return e=_R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _R(t){var e=pxe(t,"string");return ed(e)=="symbol"?e:e+""}function pxe(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pd=function(t){function e(n){var r;return lxe(this,e),r=cxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return hxe(e,t),uxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=j1(r,ixe),s=this.props,l=s.viewBox,u=j1(s,axe);return!xf(a,l)||!xf(o,u)||!xf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,A,v,b,w,y,x,S=f?-1:1,T=r.tickSize||c,C=We(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":A=v=r.coordinate,w=o+ +!f*l,b=w-S*T,x=b-S*h,y=C;break;case"left":b=w=r.coordinate,v=a+ +!f*s,A=v-S*T,y=A-S*h,x=C;break;case"right":b=w=r.coordinate,v=a+ +f*s,A=v+S*T,y=A+S*h,x=C;break;default:A=v=r.coordinate,w=o+ +f*l,b=w+S*T,x=b+S*h,y=C;break}return{line:{x1:A,y1:b,x2:v,y2:w},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=fr(fr(fr({},bt(this.props,!1)),bt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=fr(fr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var A=+(l==="left"&&!u||l==="right"&&u);f=fr(fr({},f),{},{x1:i+A*o,y1:a,x2:i+A*o,y2:a+s})}return de.createElement("line",lf({},f,{className:It("recharts-cartesian-axis-line",Zi(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,A=w_(fr(fr({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=bt(this.props,!1),y=bt(c,!1),x=fr(fr({},w),{},{fill:"none"},bt(l,!1)),S=A.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,I=k.tick,D=fr(fr(fr(fr({textAnchor:v,verticalAnchor:b},w),{},{stroke:"none",fill:u},y),I),{},{index:C,payload:T,visibleTicksCount:A.length,tickFormatter:f});return de.createElement(an,lf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Ru(o.props,T,C)),l&&de.createElement("line",lf({},x,E,{className:It("recharts-cartesian-axis-tick-line",Zi(l,"className"))})),c&&e.renderTickItem(c,D,"".concat(wt(f)?f(T.value,C):T.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,A=j1(f,oxe),v=h;return wt(l)&&(v=h&&h.length>0?l(this.props):l(A)),o<=0||s<=0||!v||!v.length?null:de.createElement(an,{className:It("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=It(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?o=de.cloneElement(r,fr(fr({},i),{},{className:s})):wt(r)?o=r(fr(fr({},i),{},{className:s})):o=de.createElement(Bu,lf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(ae.Component);S_(Pd,"displayName","CartesianAxis");S_(Pd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Axe=["x1","y1","x2","y2","key"],mxe=["offset"];function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gxe(t,e,n){return e=vxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vxe(t){var e=yxe(t,"string");return Uu(e)=="symbol"?e:e+""}function yxe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}function dP(t,e){if(t==null)return{};var n=bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TR(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(wt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=dP(e,Axe),u=bt(l,!1);u.offset;var c=dP(u,mxe);n=de.createElement("line",gu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function wxe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Kr(Kr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return TR(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Sxe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Kr(Kr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return TR(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _xe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,A){return h-A});i!==c[0]&&c.unshift(0);var f=c.map(function(h,A){var v=!c[A+1],b=v?i+o-h:c[A+1]-h;if(b<=0)return null;var w=A%e.length;return de.createElement("rect",{key:"react-".concat(A),y:h,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Txe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,A){return h-A});a!==c[0]&&c.unshift(0);var f=c.map(function(h,A){var v=!c[A+1],b=v?a+s-h:c[A+1]-h;if(b<=0)return null;var w=A%r.length;return de.createElement("rect",{key:"react-".concat(A),x:h,y:o,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Cxe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return wj(w_(Kr(Kr(Kr({},Pd.defaultProps),r),{},{ticks:Qo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Nxe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return wj(w_(Kr(Kr(Kr({},Pd.defaultProps),r),{},{ticks:Qo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Mc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CR(t){var e,n,r,i,a,o,s=v_(),l=y_(),u=p1e(),c=Kr(Kr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Mc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Mc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Mc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Mc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Mc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Mc.verticalFill,x:We(t.x)?t.x:u.left,y:We(t.y)?t.y:u.top,width:We(t.width)?t.width:u.width,height:We(t.height)?t.height:u.height}),f=c.x,h=c.y,A=c.width,v=c.height,b=c.syncWithTicks,w=c.horizontalValues,y=c.verticalValues,x=f1e(),S=d1e();if(!We(A)||A<=0||!We(v)||v<=0||!We(f)||f!==+f||!We(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||Cxe,C=c.horizontalCoordinatesGenerator||Nxe,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&wt(C)){var I=w&&w.length,D=C({yAxis:S?Kr(Kr({},S),{},{ticks:I?w:S.ticks}):void 0,width:s,height:l,offset:u},I?!0:b);Ja(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Uu(D),"]")),Array.isArray(D)&&(k=D)}if((!E||!E.length)&&wt(T)){var $=y&&y.length,O=T({xAxis:x?Kr(Kr({},x),{},{ticks:$?y:x.ticks}):void 0,width:s,height:l,offset:u},$?!0:b);Ja(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Uu(O),"]")),Array.isArray(O)&&(E=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(xxe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),de.createElement(wxe,gu({},c,{offset:u,horizontalPoints:k,xAxis:x,yAxis:S})),de.createElement(Sxe,gu({},c,{offset:u,verticalPoints:E,xAxis:x,yAxis:S})),de.createElement(_xe,gu({},c,{horizontalPoints:k})),de.createElement(Txe,gu({},c,{verticalPoints:E})))}CR.displayName="CartesianGrid";function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Exe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kR(r.key),r)}}function Pxe(t,e,n){return e&&kxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mxe(t,e,n){return e=tv(e),Oxe(t,NR()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function Oxe(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixe(t)}function Ixe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function Dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function ER(t,e,n){return e=kR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kR(t){var e=Lxe(t,"string");return td(e)=="symbol"?e:e+""}function Lxe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function jxe(t){var e=t.xAxisId,n=v_(),r=y_(),i=pR(e);return i==null?null:ae.createElement(Pd,Dw({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Qo(o,!0)}}))}var Cy=function(t){function e(){return Exe(this,e),Mxe(this,e,arguments)}return Dxe(e,t),Pxe(e,[{key:"render",value:function(){return ae.createElement(jxe,this.props)}}])}(ae.Component);ER(Cy,"displayName","XAxis");ER(Cy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Rxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OR(r.key),r)}}function $xe(t,e,n){return e&&Bxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fxe(t,e,n){return e=nv(e),Uxe(t,PR()?Reflect.construct(e,n||[],nv(t).constructor):e.apply(t,n))}function Uxe(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qxe(t)}function qxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nv(t)}function Hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function MR(t,e,n){return e=OR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OR(t){var e=zxe(t,"string");return nd(e)=="symbol"?e:e+""}function zxe(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}var Vxe=function(e){var n=e.yAxisId,r=v_(),i=y_(),a=AR(n);return a==null?null:ae.createElement(Pd,jw({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Qo(s,!0)}}))},Ny=function(t){function e(){return Rxe(this,e),Fxe(this,e,arguments)}return Hxe(e,t),$xe(e,[{key:"render",value:function(){return ae.createElement(Vxe,this.props)}}])}(ae.Component);MR(Ny,"displayName","YAxis");MR(Ny,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hP(t){return Kxe(t)||Yxe(t)||Wxe(t)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function Yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bw=function(e,n,r,i,a){var o=Pa(e,x_),s=Pa(e,Sy),l=[].concat(hP(o),hP(s)),u=Pa(e,Ty),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,w){if(w.props[c]===r&&yo(w.props,"extendDomain")&&We(w.props[f])){var y=w.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},h)),u.length){var A="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,w){if(w.props[c]===r&&yo(w.props,"extendDomain")&&We(w.props[A])&&We(w.props[v])){var y=w.props[A],x=w.props[v];return[Math.min(b[0],y,x),Math.max(b[1],y,x)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,w){return We(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},h)),h},IR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var A=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],A]:l._events[v].push(A):(l._events[v]=A,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,A=f.length,v=new Array(A);h<A;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,A,v){var b=n?n+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,x,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,A),!0;case 6:return w.fn.call(w.context,c,f,h,A,v),!0}for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];w.fn.apply(w.context,x)}else{var T=w.length,C;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),y){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!x)for(C=1,x=new Array(y-1);C<y;C++)x[C-1]=arguments[C];w[S].fn.apply(w[S].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var A=n?n+u:u;if(!this._events[A])return this;if(!c)return o(this,A),this;var v=this._events[A];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&o(this,A);else{for(var b=0,w=[],y=v.length;b<y;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[A]=w.length===1?w[0]:w:o(this,A)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(IR);var Jxe=IR.exports;const Xxe=Qt(Jxe);var R1=new Xxe,B1="recharts.syncMouseEvents";function lA(t){"@babel/helpers - typeof";return lA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lA(t)}function Qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function e2e(t,e,n){return e&&Zxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $1(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DR(t){var e=t2e(t,"string");return lA(e)=="symbol"?e:e+""}function t2e(t,e){if(lA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n2e=function(){function t(){Qxe(this,t),$1(this,"activeIndex",0),$1(this,"coordinateList",[]),$1(this,"layout","horizontal")}return e2e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,A=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function r2e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&We(r)&&We(i))return!0}return!1}function i2e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Sn(e,n,r,i),s=Sn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function a2e(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Sn(s,l,u,f),A=Sn(s,l,c,f);r=h.x,i=h.y,a=A.x,o=A.y}else return LR(e);return[{x:r,y:i},{x:a,y:o}]}function uA(t){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){o2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o2e(t,e,n){return e=s2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2e(t){var e=l2e(t,"string");return uA(e)=="symbol"?e:e+""}function l2e(t,e){if(uA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u2e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,A=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!A||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,b=sw;if(h==="ScatterChart")v=o,b=F0e;else if(h==="BarChart")v=i2e(f,o,l,c),b=h_;else if(f==="radial"){var w=LR(o),y=w.cx,x=w.cy,S=w.radius,T=w.startAngle,C=w.endAngle;v={cx:y,cy:x,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},b=Ij}else v={points:a2e(f,o,l)},b=sw;var k=rg(rg(rg(rg({stroke:"#ccc",pointerEvents:"none"},l),v),bt(A,!1)),{},{payload:s,payloadIndex:u,className:It("recharts-tooltip-cursor",A.className)});return ae.isValidElement(A)?ae.cloneElement(A,k):ae.createElement(b,k)}var c2e=["item"],f2e=["children","className","width","height","style","compact","title","desc"];function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(this,arguments)}function AP(t,e){return p2e(t)||h2e(t,e)||RR(t,e)||d2e()}function d2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function p2e(t){if(Array.isArray(t))return t}function mP(t,e){if(t==null)return{};var n=A2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BR(r.key),r)}}function v2e(t,e,n){return e&&g2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y2e(t,e,n){return e=rv(e),b2e(t,jR()?Reflect.construct(e,n||[],rv(t).constructor):e.apply(t,n))}function b2e(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x2e(t)}function x2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!t})()}function rv(t){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rv(t)}function w2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function id(t){return T2e(t)||_2e(t)||RR(t)||S2e()}function S2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function _2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T2e(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){gt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gt(t,e,n){return e=BR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BR(t){var e=C2e(t,"string");return rd(e)=="symbol"?e:e+""}function C2e(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N2e={xAxis:["bottom","top"],yAxis:["left","right"]},E2e={width:"100%",height:"100%"},$R={x:0,y:0};function ig(t){return t}var k2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},P2e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Me(Me(Me({},i),Sn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Me(Me(Me({},i),Sn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return $R},Ey=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(id(s),id(u)):s},[]);return o.length>0?o:e&&e.length&&We(i)&&We(a)?e.slice(i,a+1):[]};function FR(t){return t==="number"?[0,"auto"]:void 0}var Uw=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ey(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var A=f===void 0?s:f;h=A2(A,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(id(l),[Nj(u,h)]):l},[])},vP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=k2e(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=uAe(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Uw(e,n,c,f),A=P2e(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:A}}return null},M2e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,A=xj(c,a);return r.reduce(function(v,b){var w,y=b.type.defaultProps!==void 0?Me(Me({},b.type.defaultProps),b.props):b.props,x=y.type,S=y.dataKey,T=y.allowDataOverflow,C=y.allowDuplicatedCategory,k=y.scale,E=y.ticks,I=y.includeHidden,D=y[o];if(v[D])return v;var $=Ey(e.data,{graphicalItems:i.filter(function(j){var z,Q=o in j.props?j.props[o]:(z=j.type.defaultProps)===null||z===void 0?void 0:z[o];return Q===D}),dataStartIndex:l,dataEndIndex:u}),O=$.length,M,B,F;r2e(y.domain,T,x)&&(M=nw(y.domain,null,T),A&&(x==="number"||k!=="auto")&&(F=op($,S,"category")));var G=FR(x);if(!M||M.length===0){var R,U=(R=y.domain)!==null&&R!==void 0?R:G;if(S){if(M=op($,S,x),x==="category"&&A){var V=ZZ(M);C&&V?(B=M,M=V0(0,O)):C||(M=H3(U,M,b).reduce(function(j,z){return j.indexOf(z)>=0?j:[].concat(id(j),[z])},[]))}else if(x==="category")C?M=M.filter(function(j){return j!==""&&!Lt(j)}):M=H3(U,M,b).reduce(function(j,z){return j.indexOf(z)>=0||z===""||Lt(z)?j:[].concat(id(j),[z])},[]);else if(x==="number"){var K=pAe($,i.filter(function(j){var z,Q,te=o in j.props?j.props[o]:(z=j.type.defaultProps)===null||z===void 0?void 0:z[o],J="hide"in j.props?j.props.hide:(Q=j.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return te===D&&(I||!J)}),S,a,c);K&&(M=K)}A&&(x==="number"||k!=="auto")&&(F=op($,S,"category"))}else A?M=V0(0,O):s&&s[D]&&s[D].hasStack&&x==="number"?M=h==="expand"?[0,1]:Cj(s[D].stackGroups,l,u):M=bj($,i.filter(function(j){var z=o in j.props?j.props[o]:j.type.defaultProps[o],Q="hide"in j.props?j.props.hide:j.type.defaultProps.hide;return z===D&&(I||!Q)}),x,c,!0);if(x==="number")M=Bw(f,M,D,a,E),U&&(M=nw(U,M,T));else if(x==="category"&&U){var ee=U,le=M.every(function(j){return ee.indexOf(j)>=0});le&&(M=ee)}}return Me(Me({},v),{},gt({},D,Me(Me({},y),{},{axisType:a,domain:M,categoricalDomain:F,duplicateDomain:B,originalDomain:(w=y.domain)!==null&&w!==void 0?w:G,isCategorical:A,layout:c})))},{})},O2e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Ey(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),A=h.length,v=xj(c,a),b=-1;return r.reduce(function(w,y){var x=y.type.defaultProps!==void 0?Me(Me({},y.type.defaultProps),y.props):y.props,S=x[o],T=FR("number");if(!w[S]){b++;var C;return v?C=V0(0,A):s&&s[S]&&s[S].hasStack?(C=Cj(s[S].stackGroups,l,u),C=Bw(f,C,S,a)):(C=nw(T,bj(h,r.filter(function(k){var E,I,D=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],$="hide"in k.props?k.props.hide:(I=k.type.defaultProps)===null||I===void 0?void 0:I.hide;return D===S&&!$}),"number",c),i.defaultProps.allowDataOverflow),C=Bw(f,C,S,a)),Me(Me({},w),{},gt({},S,Me(Me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Zi(N2e,"".concat(a,".").concat(b%2),null),domain:C,originalDomain:T,isCategorical:v,layout:c})))}return w},{})},I2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Pa(c,a),A={};return h&&h.length?A=M2e(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(A=O2e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),A},D2e=function(e){var n=tl(e),r=Qo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:FS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:I0(n,r)}},yP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ui(n,Kf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},L2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=ns(n&&n.type);return r&&r.indexOf("Bar")>=0})},bP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},j2e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},A=Ui(f,Kf),v=Ui(f,Nu),b=Object.keys(l).reduce(function(C,k){var E=l[k],I=E.orientation;return!E.mirror&&!E.hide?Me(Me({},C),{},gt({},I,C[I]+E.width)):C},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(C,k){var E=o[k],I=E.orientation;return!E.mirror&&!E.hide?Me(Me({},C),{},gt({},I,Zi(C,"".concat(I))+E.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=Me(Me({},w),b),x=y.bottom;A&&(y.bottom+=A.props.height||Kf.defaultProps.height),v&&n&&(y=dAe(y,i,r,n));var S=u-y.left-y.right,T=c-y.top-y.bottom;return Me(Me({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(T,0)})},R2e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},UR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var S=x.graphicalItems,T=x.stackGroups,C=x.offset,k=x.updateId,E=x.dataStartIndex,I=x.dataEndIndex,D=y.barSize,$=y.layout,O=y.barGap,M=y.barCategoryGap,B=y.maxBarSize,F=bP($),G=F.numericAxisName,R=F.cateAxisName,U=L2e(S),V=[];return S.forEach(function(K,ee){var le=Ey(y.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:I}),j=K.type.defaultProps!==void 0?Me(Me({},K.type.defaultProps),K.props):K.props,z=j.dataKey,Q=j.maxBarSize,te=j["".concat(G,"Id")],J=j["".concat(R,"Id")],se={},ue=l.reduce(function(He,Ue){var ge=x["".concat(Ue.axisType,"Map")],Le=j["".concat(Ue.axisType,"Id")];ge&&ge[Le]||Ue.axisType==="zAxis"||Fu();var Oe=ge[Le];return Me(Me({},He),{},gt(gt({},Ue.axisType,Oe),"".concat(Ue.axisType,"Ticks"),Qo(Oe)))},se),ie=ue[R],be=ue["".concat(R,"Ticks")],Se=T&&T[te]&&T[te].hasStack&&SAe(K,T[te].stackGroups),fe=ns(K.type).indexOf("Bar")>=0,Ie=I0(ie,be),Fe=[],_e=U&&cAe({barSize:D,stackGroups:T,totalSize:R2e(ue,R)});if(fe){var re,Te,Ce=Lt(Q)?B:Q,ve=(re=(Te=I0(ie,be,!0))!==null&&Te!==void 0?Te:Ce)!==null&&re!==void 0?re:0;Fe=fAe({barGap:O,barCategoryGap:M,bandSize:ve!==Ie?ve:Ie,sizeList:_e[J],maxBarSize:Ce}),ve!==Ie&&(Fe=Fe.map(function(He){return Me(Me({},He),{},{position:Me(Me({},He.position),{},{offset:He.position.offset-ve/2})})}))}var Ne=K&&K.type&&K.type.getComposedData;Ne&&V.push({props:Me(Me({},Ne(Me(Me({},ue),{},{displayedData:le,props:y,dataKey:z,item:K,bandSize:Ie,barPosition:Fe,offset:C,stackedData:Se,layout:$,dataStartIndex:E,dataEndIndex:I}))),{},gt(gt(gt({key:K.key||"item-".concat(ee)},G,ue[G]),R,ue[R]),"animationId",k)),childIndex:fee(K,y.children),item:K})}),V},A=function(y,x){var S=y.props,T=y.dataStartIndex,C=y.dataEndIndex,k=y.updateId;if(!jE({props:S}))return null;var E=S.children,I=S.layout,D=S.stackOffset,$=S.data,O=S.reverseStackOrder,M=bP(I),B=M.numericAxisName,F=M.cateAxisName,G=Pa(E,r),R=xAe($,G,"".concat(B,"Id"),"".concat(F,"Id"),D,O),U=l.reduce(function(j,z){var Q="".concat(z.axisType,"Map");return Me(Me({},j),{},gt({},Q,I2e(S,Me(Me({},z),{},{graphicalItems:G,stackGroups:z.axisType===B&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),V=j2e(Me(Me({},U),{},{props:S,graphicalItems:G}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(j){U[j]=c(S,U[j],V,j.replace("Map",""),n)});var K=U["".concat(F,"Map")],ee=D2e(K),le=h(S,Me(Me({},U),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:G,stackGroups:R,offset:V}));return Me(Me({formattedGraphicalItems:le,graphicalItems:G,offset:V,stackGroups:R},ee),U)},v=function(w){function y(x){var S,T,C;return m2e(this,y),C=y2e(this,y,[x]),gt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(C,"accessibilityManager",new n2e),gt(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,I=E.dataStartIndex,D=E.dataEndIndex,$=E.updateId;C.setState(Me({legendBBox:k},A({props:C.props,dataStartIndex:I,dataEndIndex:D,updateId:$},Me(Me({},C.state),{},{legendBBox:k}))))}}),gt(C,"handleReceiveSyncEvent",function(k,E,I){if(C.props.syncId===k){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),gt(C,"handleBrushChange",function(k){var E=k.startIndex,I=k.endIndex;if(E!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var D=C.state.updateId;C.setState(function(){return Me({dataStartIndex:E,dataEndIndex:I},A({props:C.props,dataStartIndex:E,dataEndIndex:I,updateId:D},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:I})}}),gt(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var I=Me(Me({},E),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var D=C.props.onMouseEnter;wt(D)&&D(I,k)}}),gt(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),I=E?Me(Me({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var D=C.props.onMouseMove;wt(D)&&D(I,k)}),gt(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),gt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),gt(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),gt(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var I=C.props.onMouseLeave;wt(I)&&I(E,k)}),gt(C,"handleOuterEvent",function(k){var E=cee(k),I=Zi(C.props,"".concat(E));if(E&&wt(I)){var D,$;/.*touch.*/i.test(E)?$=C.getMouseInfo(k.changedTouches[0]):$=C.getMouseInfo(k),I((D=$)!==null&&D!==void 0?D:{},k)}}),gt(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var I=Me(Me({},E),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var D=C.props.onClick;wt(D)&&D(I,k)}}),gt(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(wt(E)){var I=C.getMouseInfo(k);E(I,k)}}),gt(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(wt(E)){var I=C.getMouseInfo(k);E(I,k)}}),gt(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),gt(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),gt(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),gt(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(wt(E)){var I=C.getMouseInfo(k);E(I,k)}}),gt(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(wt(E)){var I=C.getMouseInfo(k);E(I,k)}}),gt(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&R1.emit(B1,C.props.syncId,k,C.eventEmitterSymbol)}),gt(C,"applySyncEvent",function(k){var E=C.props,I=E.layout,D=E.syncMethod,$=C.state.updateId,O=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Me({dataStartIndex:O,dataEndIndex:M},A({props:C.props,dataStartIndex:O,dataEndIndex:M,updateId:$},C.state)));else if(k.activeTooltipIndex!==void 0){var B=k.chartX,F=k.chartY,G=k.activeTooltipIndex,R=C.state,U=R.offset,V=R.tooltipTicks;if(!U)return;if(typeof D=="function")G=D(V,k);else if(D==="value"){G=-1;for(var K=0;K<V.length;K++)if(V[K].value===k.activeLabel){G=K;break}}var ee=Me(Me({},U),{},{x:U.left,y:U.top}),le=Math.min(B,ee.x+ee.width),j=Math.min(F,ee.y+ee.height),z=V[G]&&V[G].value,Q=Uw(C.state,C.props.data,G),te=V[G]?{x:I==="horizontal"?V[G].coordinate:le,y:I==="horizontal"?j:V[G].coordinate}:$R;C.setState(Me(Me({},k),{},{activeLabel:z,activeCoordinate:te,activePayload:Q,activeTooltipIndex:G}))}else C.setState(k)}),gt(C,"renderCursor",function(k){var E,I=C.state,D=I.isTooltipActive,$=I.activeCoordinate,O=I.activePayload,M=I.offset,B=I.activeTooltipIndex,F=I.tooltipAxisBandSize,G=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:D,U=C.props.layout,V=k.key||"_recharts-cursor";return de.createElement(u2e,{key:V,activeCoordinate:$,activePayload:O,activeTooltipIndex:B,chartName:n,element:k,isActive:R,layout:U,offset:M,tooltipAxisBandSize:F,tooltipEventType:G})}),gt(C,"renderPolarAxis",function(k,E,I){var D=Zi(k,"type.axisType"),$=Zi(C.state,"".concat(D,"Map")),O=k.type.defaultProps,M=O!==void 0?Me(Me({},O),k.props):k.props,B=$&&$[M["".concat(D,"Id")]];return ae.cloneElement(k,Me(Me({},B),{},{className:It(D,B.className),key:k.key||"".concat(E,"-").concat(I),ticks:Qo(B,!0)}))}),gt(C,"renderPolarGrid",function(k){var E=k.props,I=E.radialLines,D=E.polarAngles,$=E.polarRadius,O=C.state,M=O.radiusAxisMap,B=O.angleAxisMap,F=tl(M),G=tl(B),R=G.cx,U=G.cy,V=G.innerRadius,K=G.outerRadius;return ae.cloneElement(k,{polarAngles:Array.isArray(D)?D:Qo(G,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray($)?$:Qo(F,!0).map(function(ee){return ee.coordinate}),cx:R,cy:U,innerRadius:V,outerRadius:K,key:k.key||"polar-grid",radialLines:I})}),gt(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,I=E.children,D=E.width,$=E.height,O=C.props.margin||{},M=D-(O.left||0)-(O.right||0),B=vj({children:I,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!B)return null;var F=B.item,G=mP(B,c2e);return ae.cloneElement(F,Me(Me({},G),{},{chartWidth:D,chartHeight:$,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),gt(C,"renderTooltip",function(){var k,E=C.props,I=E.children,D=E.accessibilityLayer,$=Ui(I,Ga);if(!$)return null;var O=C.state,M=O.isTooltipActive,B=O.activeCoordinate,F=O.activePayload,G=O.activeLabel,R=O.offset,U=(k=$.props.active)!==null&&k!==void 0?k:M;return ae.cloneElement($,{viewBox:Me(Me({},R),{},{x:R.left,y:R.top}),active:U,label:G,payload:U?F:[],coordinate:B,accessibilityLayer:D})}),gt(C,"renderBrush",function(k){var E=C.props,I=E.margin,D=E.data,$=C.state,O=$.offset,M=$.dataStartIndex,B=$.dataEndIndex,F=$.updateId;return ae.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Zm(C.handleBrushChange,k.props.onChange),data:D,x:We(k.props.x)?k.props.x:O.left,y:We(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(I.bottom||0),width:We(k.props.width)?k.props.width:O.width,startIndex:M,endIndex:B,updateId:"brush-".concat(F)})}),gt(C,"renderReferenceElement",function(k,E,I){if(!k)return null;var D=C,$=D.clipPathId,O=C.state,M=O.xAxisMap,B=O.yAxisMap,F=O.offset,G=k.type.defaultProps||{},R=k.props,U=R.xAxisId,V=U===void 0?G.xAxisId:U,K=R.yAxisId,ee=K===void 0?G.yAxisId:K;return ae.cloneElement(k,{key:k.key||"".concat(E,"-").concat(I),xAxis:M[V],yAxis:B[ee],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:$})}),gt(C,"renderActivePoints",function(k){var E=k.item,I=k.activePoint,D=k.basePoint,$=k.childIndex,O=k.isRange,M=[],B=E.props.key,F=E.item.type.defaultProps!==void 0?Me(Me({},E.item.type.defaultProps),E.item.props):E.item.props,G=F.activeDot,R=F.dataKey,U=Me(Me({index:$,dataKey:R,cx:I.x,cy:I.y,r:4,fill:d_(E.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},bt(G,!1)),o0(G));return M.push(y.renderActiveDot(G,U,"".concat(B,"-activePoint-").concat($))),D?M.push(y.renderActiveDot(G,Me(Me({},U),{},{cx:D.x,cy:D.y}),"".concat(B,"-basePoint-").concat($))):O&&M.push(null),M}),gt(C,"renderGraphicChild",function(k,E,I){var D=C.filterFormatItem(k,E,I);if(!D)return null;var $=C.getTooltipEventType(),O=C.state,M=O.isTooltipActive,B=O.tooltipAxis,F=O.activeTooltipIndex,G=O.activeLabel,R=C.props.children,U=Ui(R,Ga),V=D.props,K=V.points,ee=V.isRange,le=V.baseLine,j=D.item.type.defaultProps!==void 0?Me(Me({},D.item.type.defaultProps),D.item.props):D.item.props,z=j.activeDot,Q=j.hide,te=j.activeBar,J=j.activeShape,se=!!(!Q&&M&&U&&(z||te||J)),ue={};$!=="axis"&&U&&U.props.trigger==="click"?ue={onClick:Zm(C.handleItemMouseEnter,k.props.onClick)}:$!=="axis"&&(ue={onMouseLeave:Zm(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Zm(C.handleItemMouseEnter,k.props.onMouseEnter)});var ie=ae.cloneElement(k,Me(Me({},D.props),ue));function be(Ue){return typeof B.dataKey=="function"?B.dataKey(Ue.payload):null}if(se)if(F>=0){var Se,fe;if(B.dataKey&&!B.allowDuplicatedCategory){var Ie=typeof B.dataKey=="function"?be:"payload.".concat(B.dataKey.toString());Se=A2(K,Ie,G),fe=ee&&le&&A2(le,Ie,G)}else Se=K==null?void 0:K[F],fe=ee&&le&&le[F];if(J||te){var Fe=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[ae.cloneElement(k,Me(Me(Me({},D.props),ue),{},{activeIndex:Fe})),null,null]}if(!Lt(Se))return[ie].concat(id(C.renderActivePoints({item:D,activePoint:Se,basePoint:fe,childIndex:F,isRange:ee})))}else{var _e,re=(_e=C.getItemByXY(C.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:ie},Te=re.graphicalItem,Ce=Te.item,ve=Ce===void 0?k:Ce,Ne=Te.childIndex,He=Me(Me(Me({},D.props),ue),{},{activeIndex:Ne});return[ae.cloneElement(ve,He),null,null]}return ee?[ie,null,null]:[ie,null]}),gt(C,"renderCustomized",function(k,E,I){return ae.cloneElement(k,Me(Me({key:"recharts-customized-".concat(I)},C.props),C.state))}),gt(C,"renderMap",{CartesianGrid:{handler:ig,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:ig},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:ig},YAxis:{handler:ig},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:EA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=gL(C.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return w2e(y,w),v2e(y,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,k=S.height,E=S.layout,I=Ui(T,Ga);if(I){var D=I.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,O=Uw(this.state,C,D,$),M=this.state.tooltipTicks[D].coordinate,B=(this.state.offset.top+k)/2,F=E==="horizontal",G=F?{x:M,y:B}:{y:M,x:B},R=this.state.formattedGraphicalItems.find(function(V){var K=V.item;return K.type.name==="Scatter"});R&&(G=Me(Me({},G),R.props.points[D].tooltipPosition),O=R.props.points[D].tooltipPayload);var U={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:$,activePayload:O,activeCoordinate:G};this.setState(U),this.renderCursor(I),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){g2([Ui(S.children,Ga)],[Ui(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ui(this.props.children,Ga);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=Rce(C),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},I=C.width/T.offsetWidth||1,D=this.inRange(E.chartX,E.chartY,I);if(!D)return null;var $=this.state,O=$.xAxisMap,M=$.yAxisMap,B=this.getTooltipEventType(),F=vP(this.state,this.props.data,this.props.layout,D);if(B!=="axis"&&O&&M){var G=tl(O).scale,R=tl(M).scale,U=G&&G.invert?G.invert(E.chartX):null,V=R&&R.invert?R.invert(E.chartY):null;return Me(Me({},E),{},{xValue:U,yValue:V},F)}return F?Me(Me({},E),F):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/C,I=T/C;if(k==="horizontal"||k==="vertical"){var D=this.state.offset,$=E>=D.left&&E<=D.left+D.width&&I>=D.top&&I<=D.top+D.height;return $?{x:E,y:I}:null}var O=this.state,M=O.angleAxisMap,B=O.radiusAxisMap;if(M&&B){var F=tl(M);return G3({x:E,y:I},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=Ui(S,Ga),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=o0(this.props,this.handleOuterEvent);return Me(Me({},E),k)}},{key:"addListener",value:function(){R1.on(B1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){R1.removeListener(B1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var k=this.state.formattedGraphicalItems,E=0,I=k.length;E<I;E++){var D=k[E];if(D.item===S||D.props.key===S.key||T===ns(D.item.type)&&C===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,I=T.width;return de.createElement("defs",null,de.createElement("clipPath",{id:S},de.createElement("rect",{x:C,y:k,height:E,width:I})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=AP(C,2),E=k[0],I=k[1];return Me(Me({},T),{},gt({},E,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=AP(C,2),E=k[0],I=k[1];return Me(Me({},T),{},gt({},E,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,I=C.length;E<I;E++){var D=C[E],$=D.props,O=D.item,M=O.type.defaultProps!==void 0?Me(Me({},O.type.defaultProps),O.props):O.props,B=ns(O.type);if(B==="Bar"){var F=($.data||[]).find(function(V){return b0e(S,V)});if(F)return{graphicalItem:D,payload:F}}else if(B==="RadialBar"){var G=($.data||[]).find(function(V){return G3(S,V)});if(G)return{graphicalItem:D,payload:G}}else if(yy(D,k)||by(D,k)||rA(D,k)){var R=lye({graphicalItem:D,activeTooltipItem:k,itemData:M.data}),U=M.activeIndex===void 0?R:M.activeIndex;return{graphicalItem:Me(Me({},D),{},{childIndex:U}),payload:rA(D,k)?M.data[R]:D.props.data[R]}}}return null}},{key:"render",value:function(){var S=this;if(!jE(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,I=T.height,D=T.style,$=T.compact,O=T.title,M=T.desc,B=mP(T,f2e),F=bt(B,!1);if($)return de.createElement(eP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(y2,uf({},F,{width:E,height:I,title:O,desc:M}),this.renderClipPath(),BE(C,this.renderMap)));if(this.props.accessibilityLayer){var G,R;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},F.onFocus=function(){S.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return de.createElement(eP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",uf({className:It("recharts-wrapper",k),style:Me({position:"relative",cursor:"default",width:E,height:I},D)},U,{ref:function(K){S.container=K}}),de.createElement(y2,uf({},F,{width:E,height:I,title:O,desc:M,style:E2e}),this.renderClipPath(),BE(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ae.Component);gt(v,"displayName",n),gt(v,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gt(v,"getDerivedStateFromProps",function(w,y){var x=w.dataKey,S=w.data,T=w.children,C=w.width,k=w.height,E=w.layout,I=w.stackOffset,D=w.margin,$=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var M=yP(w);return Me(Me(Me({},M),{},{updateId:0},A(Me(Me({props:w},M),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:I,prevMargin:D,prevChildren:T})}if(x!==y.prevDataKey||S!==y.prevData||C!==y.prevWidth||k!==y.prevHeight||E!==y.prevLayout||I!==y.prevStackOffset||!xf(D,y.prevMargin)){var B=yP(w),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=Me(Me({},vP(y,S,E)),{},{updateId:y.updateId+1}),R=Me(Me(Me({},B),F),G);return Me(Me(Me({},R),A(Me({props:w},R),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:I,prevMargin:D,prevChildren:T})}if(!g2(T,y.prevChildren)){var U,V,K,ee,le=Ui(T,Kf),j=le&&(U=(V=le.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:$,z=le&&(K=(ee=le.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&K!==void 0?K:O,Q=j!==$||z!==O,te=!Lt(S),J=te&&!Q?y.updateId:y.updateId+1;return Me(Me({updateId:J},A(Me(Me({props:w},y),{},{updateId:J,dataStartIndex:j,dataEndIndex:z}),y)),{},{prevChildren:T,dataStartIndex:j,dataEndIndex:z})}return null}),gt(v,"renderActiveDot",function(w,y,x){var S;return ae.isValidElement(w)?S=ae.cloneElement(w,y):wt(w)?S=w(y):S=de.createElement(p_,y),de.createElement(an,{className:"recharts-active-dot",key:x},S)});var b=ae.forwardRef(function(y,x){return de.createElement(v,uf({},y,{ref:x}))});return b.displayName=v.displayName,b},B2e=UR({chartName:"BarChart",GraphicalChild:ec,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cy},{axisType:"yAxis",AxisComp:Ny}],formatAxisMap:Fbe}),$2e=UR({chartName:"PieChart",GraphicalChild:vs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vy},{axisType:"radiusAxis",AxisComp:my}],formatAxisMap:IAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const F2e=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],U2e=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],q2e=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),m.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(JO,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[m.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:m.jsx(oS,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customers"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),m.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(yl,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):m.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},H2e=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=ae.useState(t),[o,s]=ae.useState(!1),l=f=>{const{id:h,value:A}=f.target;a(v=>({...v,[h]:A}))},u=f=>{a(h=>({...h,amount:parseFloat(f.target.value)||0}))},c=async f=>{f.preventDefault(),s(!0),await e(i),s(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("manageExpenses")]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),m.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:o?`${r("saving")}...`:r("save")})]})]})]})})},F1=10,z2e=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:f,deleteAllReturns:h,t:A,language:v,theme:b,onReprintInvoice:w})=>{const[y,x]=ae.useState("all"),[S,T]=ae.useState({start:"",end:""}),[C,k]=ae.useState("overview"),[E,I]=ae.useState(null),[D,$]=ae.useState(!1),[O,M]=ae.useState(1),B=v==="ar"?"ar-MA":"fr-FR";ae.useEffect(()=>{M(1)},[y,S]);const F=ae.useMemo(()=>b==="dark"?{pie:U2e,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:F2e,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[b]),G=ae.useMemo(()=>zm(e,y,S),[e,y,S]),R=ae.useMemo(()=>zm(n,y,S).sort((ge,Le)=>new Date(Le.date).getTime()-new Date(ge.date).getTime()),[n,y,S]),U=ae.useMemo(()=>zm(a,y,S),[a,y,S]),V=ae.useMemo(()=>zm(r,y,S),[r,y,S]),{totalRevenue:K,totalReturnsAmount:ee,netRevenue:le,totalExpenses:j,netProfit:z,totalCustomerDebts:Q,debtsByCustomer:te,totalCostOfGoods:J,totalSupplierDebt:se,debtsBySupplier:ue,totalCustomItemSales:ie}=ae.useMemo(()=>{let ge=0,Le=0;G.forEach(Ve=>{const st=Ve.total,rt=Ve.items.filter(_t=>!_t.isCustom).reduce((_t,jn)=>_t+jn.price*jn.quantity,0),zt=st-rt;Le+=zt,ge+=rt});let Oe=0;U.forEach(Ve=>{Ve.items.forEach(st=>{st.isCustom||(Oe+=st.price*st.quantity)})});const Qe=ge-Oe,lt=R.reduce((Ve,st)=>Ve+st.amount,0),vt=G.reduce((Ve,st)=>Ve+st.profit,0),Ke=U.reduce((Ve,st)=>Ve+st.profitLost,0),Ze=vt-Ke-lt,ze=new Map;let Gt=0;e.forEach(Ve=>{var st;if(Ve.customerId&&Ve.remainingAmount>0){Gt+=Ve.remainingAmount;const rt=o.find(zt=>zt.id===Ve.customerId);if(rt){const zt=((st=ze.get(Ve.customerId))==null?void 0:st.debt)||0;ze.set(Ve.customerId,{customer:rt,debt:zt+Ve.remainingAmount})}}});const Ot=new Map;let Ee=0;r.forEach(Ve=>{var st;if(Ve.remainingAmount>0){Ee+=Ve.remainingAmount;const rt=i.find(zt=>zt.id===Ve.supplierId);if(rt){const zt=((st=Ot.get(Ve.supplierId))==null?void 0:st.debt)||0;Ot.set(Ve.supplierId,{supplier:rt,debt:zt+Ve.remainingAmount})}}});const Ge=r.reduce((Ve,st)=>Ve+st.totalAmount,0);return{totalRevenue:ge,totalReturnsAmount:Oe,netRevenue:Qe,totalExpenses:lt,netProfit:Ze,totalCustomerDebts:Gt,debtsByCustomer:Array.from(ze.values()).sort((Ve,st)=>st.debt-Ve.debt),totalCostOfGoods:Ge,totalSupplierDebt:Ee,debtsBySupplier:Array.from(Ot.values()).sort((Ve,st)=>st.debt-Ve.debt),totalCustomItemSales:Le}},[G,R,U,e,o,r,i]),be=ae.useMemo(()=>{const ge={},Le={day:"2-digit",month:"2-digit"};return G.forEach(Oe=>{const Qe=new Date(Oe.date).toLocaleDateString(B,Le);ge[Qe]||(ge[Qe]=0);const lt=Oe.items.filter(vt=>!vt.isCustom).reduce((vt,Ke)=>vt+Ke.price*Ke.quantity,0);ge[Qe]+=lt}),U.forEach(Oe=>{const Qe=new Date(Oe.date).toLocaleDateString(B,Le);if(ge[Qe]){const lt=Oe.items.filter(vt=>!vt.isCustom).reduce((vt,Ke)=>vt+Ke.price*Ke.quantity,0);ge[Qe]-=lt}ge[Qe]<0&&(ge[Qe]=0)}),Object.entries(ge).map(([Oe,Qe])=>({name:Oe,[A("sales")]:Qe})).reverse()},[G,U,B,A]),Se=ae.useMemo(()=>{const ge={};return G.forEach(Le=>{Le.items.forEach(Oe=>{Oe.type==="good"&&(ge[Oe.id]||(ge[Oe.id]={name:Oe.name,quantity:0}),ge[Oe.id].quantity+=Oe.quantity)})}),U.forEach(Le=>{Le.items.forEach(Oe=>{Oe.type==="good"&&ge[Oe.id]&&(ge[Oe.id].quantity-=Oe.quantity)})}),Object.values(ge).filter(({quantity:Le})=>Le>0).map(({name:Le,quantity:Oe})=>({name:Le,value:Oe})).sort((Le,Oe)=>Oe.value-Le.value).slice(0,6)},[G,U]),fe=ae.useMemo(()=>G.filter(ge=>!ge.items.some(Le=>Le.isCustom)).slice().reverse(),[G]),Ie=ae.useMemo(()=>G.filter(ge=>ge.items.some(Le=>Le.isCustom)),[G]),Fe=()=>{const[ge,Le]=ae.useState({description:"",amount:""}),Oe=ae.useRef(null),Qe=async Ke=>{var Ze;if(Ke.preventDefault(),!ge.description||!ge.amount){alert(A("fillAllFields"));return}await l({storeId:t,description:ge.description,amount:parseFloat(ge.amount),date:new Date().toISOString()}),Le({description:"",amount:""}),(Ze=Oe.current)==null||Ze.focus()},lt=Ke=>{c(Ke)},vt=()=>{const Ke=[A("date"),A("description"),A("amount")],Ze=R.map(ze=>[new Date(ze.date).toLocaleDateString(B),ze.description,`${ze.amount.toFixed(2)} DH`]);hu(A("expenseHistory"),Ke,Ze,"expenses_report",v,A("noDataToExport"))};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("manageExpenses")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",A("goBack")]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:A("addExpense")}),m.jsxs("form",{onSubmit:Qe,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:A("description")}),m.jsx("input",{ref:Oe,type:"text",id:"exp-description",value:ge.description,onChange:Ke=>Le({...ge,description:Ke.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[A("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"exp-amount",value:ge.amount,onChange:Ke=>Le({...ge,amount:Ke.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:A("addExpense")})]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:A("expenseHistory")}),m.jsxs("button",{onClick:vt,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(va,{className:"w-4 h-4"})," ",A("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(Ke=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Ke.description}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(Ke.date).toLocaleDateString(B)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[Ke.amount.toFixed(2)," DH"]}),m.jsx("button",{onClick:()=>I(Ke),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:m.jsx(Cv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>lt(Ke.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:m.jsx(Qi,{className:"w-5 h-5"})})]})]},Ke.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noExpensesForPeriod")})})]})]})]})},_e=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("debtorCustomers")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const ge=[A("name"),A("phone"),A("debtAmount")],Le=te.map(Oe=>[Oe.customer.name,Oe.customer.phone,`${Oe.debt.toFixed(2)} DH`]);hu(A("debtorCustomers"),ge,Le,"customer_debts",v,A("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(va,{className:"w-4 h-4"})," ",A("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",A("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:te.length>0?te.map(({customer:ge,debt:Le})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ge.name}),m.jsx("td",{className:"px-6 py-4",children:ge.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[Le.toFixed(2)," DH"]})]},ge.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noDebtorCustomers")})})})]})})]}),re=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("returnHistory")}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>{const ge=[A("returnId"),A("date"),A("refundAmount"),A("profitLost"),A("itemsLabel")],Le=U.map(Oe=>[Oe.id.slice(-6),new Date(Oe.date).toLocaleString(B),`${Oe.refundAmount.toFixed(2)} DH`,`${Oe.profitLost.toFixed(2)} DH`,Oe.items.map(Qe=>`${Qe.name} (x${Qe.quantity})`).join(", ")]);hu(A("returnHistory"),ge,Le,"returns_report",v,A("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(va,{className:"w-4 h-4"})," ",A("exportToPdf")]}),m.jsxs("button",{onClick:h,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Qi,{className:"w-4 h-4"})," ",A("deleteHistory")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",A("goBack")]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:U.length>0?U.slice().reverse().map(ge=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A("returnId")," ",ge.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ge.date).toLocaleString(B)})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[ge.refundAmount.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[A("profitLost"),": ",ge.profitLost.toFixed(2)," DH"]})]})]}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("button",{onClick:()=>f(ge.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[m.jsx(Qi,{className:"w-4 h-4"})," ",A("delete")]})}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:A("returnedItems")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:ge.items.map(Le=>m.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[Le.type==="service"&&m.jsx(yl,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Le.name," (x",Le.quantity,")"]}),m.jsxs("span",{children:[(Le.price*Le.quantity).toFixed(2)," DH"]})]},Le.id))})]})]},ge.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noReturnsForPeriod")})})})]}),Te=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("allPurchasesHistory")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const ge=[A("date"),A("suppliers"),A("reference"),A("totalAmount"),A("amountPaid"),A("remainingAmountLabel"),A("paymentMethod")],Le=V.map(Oe=>{var Qe;return[new Date(Oe.date).toLocaleDateString(B),((Qe=i.find(lt=>lt.id===Oe.supplierId))==null?void 0:Qe.name)||"N/A",Oe.reference&&Oe.reference.startsWith("purchase_ref_")?A(Oe.reference):Oe.reference||"",`${Oe.totalAmount.toFixed(2)} DH`,`${Oe.amountPaid.toFixed(2)} DH`,`${Oe.remainingAmount.toFixed(2)} DH`,A(Oe.paymentMethod)]});hu(A("allPurchasesHistory"),ge,Le,"all_purchases_report",v,A("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(va,{className:"w-4 h-4"})," ",A("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",A("goBack")]})]})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:V.length>0?m.jsx("ul",{className:"space-y-3",children:V.slice().reverse().map(ge=>{var Le;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A("reference"),": ",ge.reference&&ge.reference.startsWith("purchase_ref_")?A(ge.reference):ge.reference||A("unknown")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ge.date).toLocaleString(B)}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[A("suppliers"),": ",((Le=i.find(Oe=>Oe.id===ge.supplierId))==null?void 0:Le.name)||"N/A"]})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-teal-600 dark:text-teal-400",children:[ge.totalAmount.toFixed(2)," DH"]}),ge.remainingAmount>0&&m.jsxs("p",{className:"text-xs font-bold text-red-500 dark:text-red-400",children:[A("remainingAmountLabel"),": ",ge.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-teal-700 dark:text-teal-400 font-semibold hover:text-teal-800",children:A("purchaseDetails")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-teal-200 dark:border-teal-500/30 text-slate-600 dark:text-slate-300",children:ge.items.map(Oe=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{children:[Oe.productName," - ",Oe.variantName," (x",Oe.quantity,")"]}),m.jsxs("span",{children:[Oe.purchasePrice.toFixed(2)," DH"]})]},Oe.variantId))})]})]},ge.id)})}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noPurchasesRecorded")})})]}),Ce=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("supplierDebtsList")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",A("goBack")]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ue.length>0?ue.map(({supplier:ge,debt:Le})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ge.name}),m.jsx("td",{className:"px-6 py-4",children:ge.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[Le.toFixed(2)," DH"]})]},ge.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noSupplierDebt")})})})]})})]}),ve=()=>{const[ge,Le]=ae.useState("all"),Oe=ae.useMemo(()=>ge==="all"?G:G.filter(Ze=>Ze.userId===ge),[ge]),Qe=ae.useMemo(()=>ge==="all"?U:U.filter(Ze=>Ze.userId===ge),[ge]),lt=Oe.reduce((Ze,ze)=>Ze+ze.total,0),vt=Qe.reduce((Ze,ze)=>Ze+ze.refundAmount,0),Ke=lt-vt;return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("sellerReportsAndZReport")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("select",{value:ge,onChange:Ze=>Le(Ze.target.value),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block p-2.5",children:[m.jsx("option",{value:"all",children:A("all")}),s.map(Ze=>m.jsx("option",{value:Ze.id,children:Ze.name},Ze.id))]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",A("goBack")]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center mb-6",children:[m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-lg text-green-800 dark:text-green-200",children:[m.jsx("p",{className:"font-bold",children:A("totalSales")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[lt.toFixed(2)," DH"]}),m.jsx("p",{className:"text-xs",children:A("numberOfSales",{count:Oe.length})})]}),m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-lg text-orange-800 dark:text-orange-200",children:[m.jsx("p",{className:"font-bold",children:A("totalReturns")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[vt.toFixed(2)," DH"]}),m.jsx("p",{className:"text-xs",children:A("numberOfReturns",{count:Qe.length})})]}),m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:A("netActivity")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ke.toFixed(2)," DH"]})]})]}),m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-2",children:A("transactionList")}),m.jsx("div",{className:"max-h-96 overflow-y-auto pr-2 space-y-3",children:[...Oe,...Qe].sort((Ze,ze)=>new Date(ze.date).getTime()-new Date(Ze.date).getTime()).map(Ze=>{const ze="total"in Ze;return m.jsxs("li",{className:`p-4 border rounded-lg list-none ${ze?"bg-green-50 dark:bg-green-900/20":"bg-orange-50 dark:bg-orange-900/20"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A(ze?"invoiceNumber":"returnId")," ",Ze.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(Ze.date).toLocaleString(B)})]}),m.jsx("div",{className:"text-left rtl:text-right",children:m.jsxs("p",{className:`font-bold text-lg ${ze?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:[ze?Ze.total.toFixed(2):Ze.refundAmount.toFixed(2)," DH"]})})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:A("viewDetails")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 text-slate-600 dark:text-slate-300",children:Ze.items.map(Gt=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{children:[Gt.name," (x",Gt.quantity,")"]}),m.jsxs("span",{children:[(Gt.price*Gt.quantity).toFixed(2)," DH"]})]},Gt.id))})]})]},Ze.id)})})]})},Ne=({title:ge,value:Le,details:Oe,onClick:Qe,colorClass:lt,icon:vt})=>m.jsxs("div",{className:`p-4 rounded-xl shadow-lg ${lt} text-white ${Qe?"cursor-pointer hover:opacity-90 transition-opacity":""}`,onClick:Qe,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("h3",{className:"text-sm font-bold uppercase opacity-80",children:ge}),m.jsx(vt,{className:"w-6 h-6 opacity-70"})]}),m.jsx("p",{className:"text-3xl font-extrabold",children:Le}),Oe&&m.jsx("p",{className:"text-xs opacity-80 mt-1",children:Oe})]}),He=fe.slice((O-1)*F1,O*F1),Ue=Math.ceil(fe.length/F1);return C==="expenses"?m.jsx(Fe,{}):C==="debts"?m.jsx(_e,{}):C==="returns"?m.jsx(re,{}):C==="allPurchases"?m.jsx(Te,{}):C==="supplierDebts"?m.jsx(Ce,{}):C==="sellerReports"?m.jsx(ve,{}):m.jsxs("div",{className:"space-y-6",children:[E&&m.jsx(H2e,{expense:E,onClose:()=>I(null),onSave:u,t:A}),D&&m.jsx(q2e,{onClose:()=>$(!1),total:ie,sales:Ie,customers:o,onReprintInvoice:w,t:A,language:v}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex justify-between items-center flex-wrap gap-4",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:A("finance")}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("select",{value:y,onChange:ge=>x(ge.target.value),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block p-2.5",children:[m.jsx("option",{value:"all",children:A("all")}),m.jsx("option",{value:"today",children:A("today")}),m.jsx("option",{value:"week",children:A("thisWeek")}),m.jsx("option",{value:"month",children:A("thisMonth")}),m.jsx("option",{value:"custom",children:A("customRange")})]}),y==="custom"&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",value:S.start,onChange:ge=>T(Le=>({...Le,start:ge.target.value})),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg p-2"}),m.jsx("span",{children:"-"}),m.jsx("input",{type:"date",value:S.end,onChange:ge=>T(Le=>({...Le,end:ge.target.value})),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg p-2"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:[m.jsx(Ne,{title:A("netRevenue"),value:`${le.toFixed(2)} DH`,details:A("totalRevenueMinusReturns"),colorClass:"bg-teal-600 dark:bg-teal-700",icon:va}),m.jsx(Ne,{title:A("netProfit"),value:`${z.toFixed(2)} DH`,details:A("realizedProfitMinusExpenses"),colorClass:"bg-green-600 dark:bg-green-700",icon:va}),m.jsx(Ne,{title:A("totalExpenses"),value:`${j.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>k("expenses"),colorClass:"bg-red-500 dark:bg-red-600",icon:va}),m.jsx(Ne,{title:A("customerDebts"),value:`${Q.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>k("debts"),colorClass:"bg-orange-500 dark:bg-orange-600",icon:rS}),m.jsx(Ne,{title:A("totalSupplierDebt"),value:`${se.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>k("supplierDebts"),colorClass:"bg-yellow-500 dark:bg-yellow-600",icon:va}),m.jsx(Ne,{title:A("customItemsDetails"),value:`${ie.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>$(!0),colorClass:"bg-purple-600 dark:bg-purple-700",icon:yl})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4",children:A("salesPerformance")}),m.jsx(L4,{width:"100%",height:300,children:m.jsxs(B2e,{data:be,margin:{top:5,right:20,left:-10,bottom:5},children:[m.jsx(CR,{strokeDasharray:"3 3",stroke:F.grid}),m.jsx(Cy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),m.jsx(Ny,{tick:{fill:F.tick,fontSize:12}}),m.jsx(Ga,{contentStyle:{backgroundColor:F.tooltip.backgroundColor,border:`1px solid ${F.tooltip.borderColor}`,color:F.tooltip.color,borderRadius:"0.5rem"},cursor:{fill:"rgba(113, 113, 122, 0.1)"}}),m.jsx(Nu,{wrapperStyle:{color:F.legend,fontSize:"14px"}}),m.jsx(ec,{dataKey:A("sales"),fill:F.bar})]})})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4",children:A("topSellingProducts")}),m.jsx(L4,{width:"100%",height:300,children:m.jsxs($2e,{children:[m.jsx(vs,{data:Se,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:ge,value:Le})=>`${ge} (${Le} ${A("units")})`,children:Se.map((ge,Le)=>m.jsx(ty,{fill:F.pie[Le%F.pie.length]},`cell-${Le}`))}),m.jsx(Ga,{contentStyle:{backgroundColor:F.tooltip.backgroundColor,border:`1px solid ${F.tooltip.borderColor}`,color:F.tooltip.color,borderRadius:"0.5rem"}})]})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:A("salesHistory")}),m.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("billNumber")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("date")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("customers")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("total")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("downPayment")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("remainingAmountLabel")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("profitLabel")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:A("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:He.map(ge=>{var Le;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ge.id.slice(-6)}),m.jsx("td",{className:"px-6 py-4",children:new Date(ge.date).toLocaleString(B)}),m.jsx("td",{className:"px-6 py-4",children:((Le=o.find(Oe=>Oe.id===ge.customerId))==null?void 0:Le.name)||A("cashCustomer")}),m.jsx("td",{className:"px-6 py-4 font-bold text-teal-600 dark:text-teal-400",children:ge.total.toFixed(2)}),m.jsx("td",{className:"px-6 py-4",children:ge.downPayment.toFixed(2)}),m.jsx("td",{className:`px-6 py-4 font-bold ${ge.remainingAmount>0?"text-red-500":""}`,children:ge.remainingAmount.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-green-600 dark:text-green-400 font-semibold",children:ge.profit.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsx("button",{onClick:()=>w(ge),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:A("print"),children:m.jsx(oS,{className:"w-5 h-5"})})})]},ge.id)})})]}),He.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noSalesForPeriod")})]}),Ue>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>M(ge=>Math.max(1,ge-1)),disabled:O===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":A("previous"),children:m.jsx(_A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[A("page")," ",O," / ",Ue]}),m.jsx("button",{onClick:()=>M(ge=>Math.min(Ue,ge+1)),disabled:O===Ue,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":A("next"),children:m.jsx(SA,{className:"w-5 h-5"})})]})]})]})},V2e=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=ae.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=ae.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new At;tD(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customers")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const f=[],h=a==="ar"?"ar-MA":"fr-FR";o.forEach(A=>{const v=new Date(A.date).toLocaleDateString(h);f.push([{content:`${i("invoiceNumber")} ${A.id.slice(-6).toUpperCase()} | ${v} | Total: ${A.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${A.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),A.items.forEach(b=>{f.push([`  ${b.name}`,b.quantity,b.price.toFixed(2),(b.price*b.quantity).toFixed(2)])})}),eD(u,{head:[[i("productColumn"),i("quantity"),i("price"),i("total")]],body:f,startY:55,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}}),u.save(`history_${t.name.replace(/\s/g,"_")}.pdf`)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("customerHistory",{name:t.name})}),m.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(JO,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-center",children:[m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:i("totalPurchases")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[m.jsx("p",{className:"font-bold",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[i("invoiceNumber")," ",u.id.slice(-6).toUpperCase()]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(u.date).toLocaleString(a==="ar"?"ar-MA":"fr-FR")})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]}),u.remainingAmount>0&&m.jsxs("p",{className:"text-xs font-bold text-red-500 dark:text-red-400",children:[i("remainingAmountLabel"),": ",u.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:i("viewDetails")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:u.items.map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]},u.id)):m.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),m.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[m.jsx(oS,{className:"w-5 h-5"})," ",i("printReport")]})]})]})})},G2e=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=ae.useState(""),[s,l]=ae.useState(!1),u=async c=>{c.preventDefault();const f=parseFloat(a);if(isNaN(f)||f<=0||f>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,f),l(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[i("manageDebt")," - ",t.name]}),m.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-lg mb-4",children:[m.jsx("p",{className:"font-bold text-red-800 dark:text-red-300",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold text-red-800 dark:text-red-300",children:[e.toFixed(2)," DH"]})]}),m.jsxs("form",{onSubmit:u,children:[m.jsx("label",{htmlFor:"amountToPay",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("amount")}),m.jsx("input",{id:"amountToPay",type:"number",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:e,required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:s,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:s?`${i("saving")}...`:i("save")})]})]})]})})},U1=15,W2e=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=ae.useState({name:"",phone:"",email:""}),[c,f]=ae.useState(null),[h,A]=ae.useState(""),[v,b]=ae.useState(1),[w,y]=ae.useState(null),[x,S]=ae.useState(null);ae.useEffect(()=>{b(1)},[h]);const T=ae.useMemo(()=>{const M=new Map,B=new Map;return n.forEach(F=>{if(F.customerId){const G=M.get(F.customerId)||0;if(M.set(F.customerId,G+F.remainingAmount),F.total>0){const R=B.get(F.customerId)||0;B.set(F.customerId,R+F.total)}}}),{debts:M,totalPurchases:B}},[n]),C=ae.useMemo(()=>h?e.filter(M=>M.name.toLowerCase().includes(h.toLowerCase())):e,[e,h]),k=ae.useMemo(()=>{const M=(v-1)*U1;return C.slice(M,M+U1)},[C,v]),E=Math.ceil(C.length/U1),I=M=>{u(B=>({...B,[M.target.id]:M.target.value}))},D=async M=>{if(M.preventDefault(),f(null),!l.name||!l.phone){f({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(B=>B.phone===l.phone.trim())){f({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),f({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>f(null),4e3)},$=async M=>{if(f(null),window.confirm(o("confirmCustomerDelete",{name:M.name}))){try{await i(M.id),f({type:"success",message:o("customerDeletedSuccess",{name:M.name})})}catch(B){const F=T.debts.get(M.id)||0,G=o(B.message||"customerDeleteError",{name:M.name,debt:F.toFixed(2)});f({type:"error",message:G})}setTimeout(()=>f(null),5e3)}},O=()=>{const M=[o("name"),o("phone"),o("email"),o("totalPurchases"),o("currentDebt")],B=e.map(F=>[F.name,F.phone,F.email||"N/A",(T.totalPurchases.get(F.id)||0).toFixed(2),(T.debts.get(F.id)||0).toFixed(2)]);hu(o("customerList"),M,B,"customers_report",s,o("noDataToExport"))};return m.jsxs("div",{className:"space-y-6",children:[w&&m.jsx(V2e,{customer:w,sales:n,debt:T.debts.get(w.id)||0,onClose:()=>y(null),t:o,language:s}),x&&m.jsx(G2e,{customer:x,debt:T.debts.get(x.id)||0,onClose:()=>S(null),onPayDebt:a,t:o}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(rS,{}),o("addNewCustomer")]}),m.jsx("form",{onSubmit:D,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),m.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:I,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),m.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:I,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:I})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:o("add")})]})}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:o("searchByName"),value:h,onChange:M=>A(M.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:O,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 flex items-center gap-2 text-sm",children:[m.jsx(va,{className:"w-4 h-4"})," ",o("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("totalPurchases")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("currentDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),m.jsx("tbody",{children:k.map(M=>{const B=T.debts.get(M.id)||0,F=T.totalPurchases.get(M.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:M.name}),m.jsx("td",{className:"px-6 py-4",children:M.phone}),m.jsxs("td",{className:"px-6 py-4",children:[F.toFixed(2)," DH"]}),m.jsxs("td",{className:`px-6 py-4 font-bold ${B>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[B.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[B>0&&m.jsx("button",{onClick:()=>S(M),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200",children:o("manageDebt")}),m.jsx("button",{onClick:()=>y(M),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:o("customerHistory",{name:M.name}),children:m.jsx(zO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>$(M),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:m.jsx(Qi,{className:"w-5 h-5"})})]})})]},M.id)})})]}),E>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>b(M=>Math.max(1,M-1)),disabled:v===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":o("previous"),children:m.jsx(_A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",v," / ",E]}),m.jsx("button",{onClick:()=>b(M=>Math.min(E,M+1)),disabled:v===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":o("next"),children:m.jsx(SA,{className:"w-5 h-5"})})]}),k.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(h?"noResultsFound":"noCustomersAdded")})]})]})]})},Y2e=({supplier:t,storeId:e,products:n,variants:r,onClose:i,onAddPurchase:a,onAddNewProduct:o,t:s})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),m.jsx("p",{className:"text-center text-slate-500 py-16",children:"Purchase form not fully implemented in this fix."}),m.jsxs("div",{className:"flex justify-end gap-3 mt-auto pt-4 border-t dark:border-slate-700",children:[m.jsx("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:s("completePurchase")})]})]})}),K2e=({supplier:t,debt:e,onClose:n,onPayDebt:r,t:i})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[i("managePayments")," - ",t.name]}),m.jsx("p",{children:"Debt management form not fully implemented in this fix."}),m.jsx("div",{className:"flex justify-end gap-3 mt-6",children:m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg",children:i("cancel")})})]})}),J2e=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("supplierPurchaseHistoryFor",{name:t.name})}),m.jsx("p",{className:"text-center text-slate-500 py-16",children:"Purchase history not fully implemented in this fix."}),m.jsx("div",{className:"flex justify-end gap-3 mt-auto pt-4 border-t dark:border-slate-700",children:m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg",children:r("close")})})]})}),q1=15,X2e=({storeId:t,suppliers:e,purchases:n,products:r,variants:i,addSupplier:a,deleteSupplier:o,addPurchase:s,paySupplierDebt:l,addProduct:u,t:c,language:f})=>{const[h,A]=ae.useState({name:"",phone:"",email:""}),[v,b]=ae.useState(null),[w,y]=ae.useState(""),[x,S]=ae.useState(1),[T,C]=ae.useState(null);ae.useEffect(()=>{S(1)},[w]);const k=ae.useMemo(()=>{const G=new Map;return n.forEach(R=>{if(R.supplierId&&R.remainingAmount>0){const U=G.get(R.supplierId)||0;G.set(R.supplierId,U+R.remainingAmount)}}),G},[n]),E=ae.useMemo(()=>w?e.filter(G=>G.name.toLowerCase().includes(w.toLowerCase())):e,[e,w]),I=ae.useMemo(()=>{const G=(x-1)*q1;return E.slice(G,G+q1)},[E,x]),D=Math.ceil(E.length/q1),$=G=>{A(R=>({...R,[G.target.id]:G.target.value}))},O=async G=>{if(G.preventDefault(),b(null),!h.name||!h.phone){b({type:"error",message:c("nameAndPhoneRequired")});return}if(e.some(R=>R.phone===h.phone.trim())){b({type:"error",message:c("supplierExistsError",{phone:h.phone.trim()})});return}await a({...h,storeId:t}),A({name:"",phone:"",email:""}),b({type:"success",message:c("supplierAddedSuccess",{name:h.name})}),setTimeout(()=>b(null),4e3)},M=async G=>{if(b(null),window.confirm(c("confirmSupplierDelete",{name:G.name}))){try{await o(G.id),b({type:"success",message:c("supplierDeletedSuccess",{name:G.name})})}catch(R){const U=k.get(G.id)||0,V=c(R.message||"supplierDeleteError",{name:G.name,debt:U.toFixed(2)});b({type:"error",message:V})}setTimeout(()=>b(null),5e3)}},B=()=>{const G=[c("name"),c("phone"),c("email"),c("debt")],R=e.map(U=>[U.name,U.phone,U.email||"N/A",`${(k.get(U.id)||0).toFixed(2)} DH`]);hu(c("supplierList"),G,R,"suppliers_report",f,c("noDataToExport"))},F=async G=>{await s(G,G.items),C(null)};return m.jsxs("div",{className:"space-y-6",children:[(T==null?void 0:T.type)==="newPurchase"&&m.jsx(Y2e,{supplier:T.supplier,storeId:t,products:r,variants:i,onClose:()=>C(null),onAddPurchase:F,onAddNewProduct:u,t:c}),(T==null?void 0:T.type)==="manageDebt"&&m.jsx(K2e,{supplier:T.supplier,debt:k.get(T.supplier.id)||0,onClose:()=>C(null),onPayDebt:l,t:c}),(T==null?void 0:T.type)==="history"&&m.jsx(J2e,{supplier:T.supplier,purchases:n.filter(G=>G.supplierId===T.supplier.id),onClose:()=>C(null),t:c,language:f}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(GO,{}),c("addNewSupplier")]}),m.jsx("form",{onSubmit:O,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("name")}),m.jsx("input",{type:"text",id:"name",value:h.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:$,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("phone")}),m.jsx("input",{type:"tel",id:"phone",value:h.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:$,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[c("email")," (",c("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:h.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:$})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:c("add")})]})}),v&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("supplierList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:c("searchByName"),value:w,onChange:G=>y(G.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:B,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 flex items-center gap-2 text-sm",children:[m.jsx(va,{className:"w-4 h-4"})," ",c("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("email")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("supplierDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:c("actions")})]})}),m.jsx("tbody",{children:I.map(G=>{const R=k.get(G.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:G.name}),m.jsx("td",{className:"px-6 py-4",children:G.phone}),m.jsx("td",{className:"px-6 py-4",children:G.email||"N/A"}),m.jsxs("td",{className:`px-6 py-4 font-bold ${R>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[R.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>C({type:"newPurchase",supplier:G}),className:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-blue-200",children:c("newPurchase")}),R>0&&m.jsx("button",{onClick:()=>C({type:"manageDebt",supplier:G}),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200",children:c("managePayments")}),m.jsx("button",{onClick:()=>C({type:"history",supplier:G}),className:"text-slate-500 hover:text-slate-700 p-1 rounded-full hover:bg-slate-100",title:c("purchaseHistory"),children:m.jsx(zO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>M(G),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",title:c("delete"),children:m.jsx(Qi,{className:"w-5 h-5"})})]})})]},G.id)})})]}),D>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>S(G=>Math.max(1,G-1)),disabled:x===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":c("previous"),children:m.jsx(_A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",x," / ",D]}),m.jsx("button",{onClick:()=>S(G=>Math.min(D,G+1)),disabled:x===D,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":c("next"),children:m.jsx(SA,{className:"w-5 h-5"})})]}),I.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c(w?"noResultsFound":"noSuppliersAdded")})]})]})]})},Q2e=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=ae.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),m.jsxs("form",{onSubmit:o,children:[m.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),m.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},Z2e=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=ae.useState(""),[u,c]=ae.useState(null),[f,h]=ae.useState(null),A=()=>{setTimeout(()=>c(null),4e3)},v=async y=>{y.preventDefault(),c(null);const x=s.trim();if(!x){c({type:"error",message:a("categoryNameEmptyError")}),A();return}if(e.some(S=>S.name.toLowerCase()===x.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:x})}),A();return}await n({name:x,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:x})}),A()},b=async y=>{if(c(null),!y.name){c({type:"error",message:a("categoryNameEmptyError")}),A();return}if(e.some(x=>x.name.toLowerCase()===y.name.toLowerCase()&&x.id!==y.id)){c({type:"error",message:a("categoryExistsError",{name:y.name})}),A();return}await r(y),h(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:y.name})}),A()},w=async y=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:y.name}))){try{await i(y.id),c({type:"success",message:a("categoryDeletedSuccess",{name:y.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}A()}};return m.jsxs(m.Fragment,{children:[f&&m.jsx(Q2e,{category:f,onClose:()=>h(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(WO,{}),a("addNewCategory")]}),m.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),m.jsx("input",{type:"text",id:"name",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),m.jsxs("div",{className:"mt-4 overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(y=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:y.name}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{onClick:()=>h(y),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:m.jsx(Cv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>w(y),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:m.jsx(Qi,{className:"w-5 h-5"})})]})})]},y.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})},ewe=({onClose:t,onRestore:e,t:n})=>{const[r,i]=ae.useState(""),[a,o]=ae.useState(!1),s=ae.useMemo(()=>{if(!r)return{valid:!1,message:""};try{const u=r.replace(/,(\s*[}\]])/g,"$1"),c=JSON.parse(u);return typeof c!="object"||c===null?{valid:!1,message:n("jsonInvalidNotObject")}:!c.stores||!c.users?{valid:!1,message:n("invalidBackupStructure")}:{valid:!0,message:n("jsonValid")}}catch(u){return u instanceof SyntaxError?r.trim().startsWith("import")?{valid:!1,message:n("jsonInvalidNotCode")}:{valid:!1,message:`${n("jsonInvalid")}: ${u.message}`}:{valid:!1,message:n("unknownError")}}},[r,n]),l=async()=>{if(s.valid){o(!0);try{await e(r.replace(/,(\s*[}\]])/g,"$1"))}catch{o(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 flex flex-col max-h-[90vh]",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:n("restoreFromText")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:n("restoreFromTextDesc")}),m.jsx("textarea",{value:r,onChange:u=>i(u.target.value),placeholder:n("pasteJsonHere"),className:"w-full flex-grow p-3 border rounded-lg bg-gray-50 dark:bg-slate-900 text-sm font-mono dark:border-slate-700 min-h-[300px] resize-none",spellCheck:"false"}),m.jsx("div",{className:"mt-2 text-sm font-semibold",style:{minHeight:"1.25rem"},children:s.message&&m.jsx("p",{className:s.valid?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:s.message})}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{onClick:l,disabled:!s.valid||a,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 disabled:bg-gray-400 dark:disabled:bg-slate-500 disabled:cursor-not-allowed",children:n(a?"saving":"restoreButton")})]})]})})},twe=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,onBackup:l,onRestore:u,t:c})=>{const[f,h]=ae.useState(null),[A,v]=ae.useState({name:"",role:"seller",secret:""}),[b,w]=ae.useState({name:e.name,address:e.address,ice:e.ice,enableAiReceiptScan:e.enableAiReceiptScan}),[y,x]=ae.useState(null),[S,T]=ae.useState(!1),C=M=>{const{id:B,value:F}=M.target;v(G=>({...G,[B]:F}))},k=M=>{const{id:B,value:F,type:G,checked:R}=M.target;w(U=>({...U,[B]:G==="checkbox"?R:F}))},E=(M,B)=>{x({type:M,message:B}),setTimeout(()=>x(null),4e3)},I=async M=>{if(M.preventDefault(),!A.name||!A.secret){E("error",c("fillAllFieldsError"));return}if(r.some(G=>G.name.toLowerCase()===A.name.trim().toLowerCase())){E("error",c("userExistsError"));return}const B={storeId:n,name:A.name.trim(),role:A.role,...A.role==="admin"?{password:A.secret}:{pin:A.secret}},F=await i(B);F&&(E("success",c("userAddedSuccess",{name:F.name})),v({name:"",role:"seller",secret:""}))},D=async(M,B)=>{const F={...M,...M.role==="admin"?{password:B}:{pin:B}};await a(F),E("success",c("userUpdatedSuccess",{name:M.name})),h(null)},$=async M=>{if(M.id===t.id){alert("You cannot delete your own account.");return}if(window.confirm(c("confirmUserDelete",{name:M.name})))try{await o(M.id),E("success",c("userDeletedSuccess",{name:M.name}))}catch{E("error",c("userDeleteError"))}},O=async M=>{M.preventDefault(),await s(b),E("success",c("storeUpdatedSuccess"))};return m.jsxs(m.Fragment,{children:[S&&m.jsx(ewe,{onClose:()=>T(!1),onRestore:u,t:c}),m.jsxs("div",{className:"space-y-8",children:[y&&m.jsx("div",{className:`fixed top-5 right-5 z-50 p-4 rounded-lg shadow-lg text-sm font-semibold ${y.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:y.message}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("userManagement")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("manageUsersAndPins")}),m.jsxs("form",{onSubmit:I,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userName")}),m.jsx("input",{type:"text",id:"name",value:A.name,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userRole")}),m.jsxs("select",{id:"role",value:A.role,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",children:[m.jsx("option",{value:"seller",children:c("seller")}),m.jsx("option",{value:"admin",children:c("admin")})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"secret",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:A.role==="admin"?c("password"):c("pin")}),m.jsx("input",{type:"text",id:"secret",value:A.secret,onChange:C,placeholder:A.role==="seller"?c("pinInfo"):"",className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",required:!0})]}),m.jsxs("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2",children:[m.jsx(KO,{className:"w-5 h-5"})," ",c("addUser")]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-600 dark:text-slate-300 mb-2",children:c("userList")}),m.jsx("div",{className:"space-y-2",children:r.map(M=>m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:M.name}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:c(M.role)})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[(f==null?void 0:f.id)===M.id?m.jsx("input",{type:"text",placeholder:c(M.role==="admin"?"newPassword":"newPin"),onBlur:B=>D(M,B.target.value),onKeyDown:B=>B.key==="Enter"&&D(M,B.target.value),className:"w-32 px-2 py-1 border rounded-md bg-white dark:bg-slate-600",autoFocus:!0}):m.jsx("button",{onClick:()=>h(M),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:c("edit"),children:m.jsx(XO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>$(M),disabled:M.id===t.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:c("delete"),children:m.jsx(Qi,{className:"w-5 h-5"})})]})]},M.id))})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("storeSettings")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("updateStoreSettings")}),m.jsxs("form",{onSubmit:O,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeName")}),m.jsx("input",{type:"text",id:"name",value:b.name,onChange:k,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("address")}),m.jsx("input",{type:"text",id:"address",value:b.address,onChange:k,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("ice")}),m.jsx("input",{type:"text",id:"ice",value:b.ice,onChange:k,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[m.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:b.enableAiReceiptScan,onChange:k,className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),m.jsx("label",{htmlFor:"enableAiReceiptScan",className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:c("aiScanEnabled")})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[m.jsx(nS,{className:"w-5 h-5"})," ",c("updateStore")]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("dataManagement")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[m.jsx(va,{}),c("backupData")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-3",children:c("backupDataDesc")}),m.jsx("button",{onClick:l,className:"w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:c("backupButton")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[m.jsx(oF,{}),c("restoreData")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-3",children:c("restoreDataDesc")}),m.jsx("button",{onClick:()=>T(!0),className:"w-full bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700",children:c("restoreFromText")})]})]})]})]})]})},nwe=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[m.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),m.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),m.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?m.jsxs("li",{children:[m.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&m.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("suppliers"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),rwe=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{ae.useEffect(()=>{const w=setTimeout(()=>{window.print()},300);return()=>clearTimeout(w)},[]);const s=()=>{window.print()},l=t.customerId?i.find(w=>w.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=w=>{if(o==="ar")return w.toFixed(2);const y=Math.floor(w),x=Math.round((w-y)*100),S=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],T=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],C=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],k=O=>{if(O===0)return"";let M="";if(O>=100){const B=Math.floor(O/100);M+=(B>1?S[B]+" ":"")+"CENT"+(O%100===0&&B>1?"S":""),O%=100,O>0&&(M+=" ")}if(O>=20){const B=Math.floor(O/10);M+=C[B];const F=O%10;F>0&&(M+=(F===1&&B<8?" ET ":"-")+S[F])}else O>=10?M+=T[O-10]:O>0&&(M+=S[O]);return M};if(w===0)return"ZÉRO";let E="";const I=Math.floor(y/1e6);I>0&&(E+=k(I)+" MILLION"+(I>1?"S":"")+" ");const D=Math.floor(y%1e6/1e3);D>0&&(E+=(D===1?"":k(D)+" ")+"MILLE ");const $=y%1e3;return $>0&&(E+=k($)),E=E.trim()+" DIRHAMS",x>0&&(E+=" ET "+k(x)+" CENTIMES"),E.toUpperCase()},f=t.total,h=e==="invoice"?f/1.2:f,A=e==="invoice"?f-h:0,v=a(e==="invoice"?"invoiceTitle":"orderFormTitle"),b=c(f);return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",dir:o==="ar"?"rtl":"ltr",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:v}),m.jsx("p",{className:"text-sm font-semibold",children:r.name}),r.address?m.jsx("p",{className:"text-xs",children:r.address}):m.jsx("p",{className:"text-xs",children:a("invoiceAddress")}),r.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",r.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:a("billNumber")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[a("date"),":"]})," ",new Date(t.date).toLocaleString(u)]}),l&&m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customers"),":"]})," ",l.name]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:a("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a(e==="invoice"?"prixHT":"price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("total")})]})}),m.jsx("tbody",{children:t.items.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:w.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:w.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:(e==="invoice"?w.price/1.2:w.price).toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(w.price*w.quantity/(e==="invoice"?1.2:1)).toFixed(2)})]},w.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsxs("div",{className:"col-start-2",children:[m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("totalHT"),":"]}),m.jsxs("span",{className:"font-semibold",children:[h.toFixed(2)," DH"]})]}),e==="invoice"&&m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("vat"),":"]}),m.jsxs("span",{className:"font-semibold",children:[A.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t-2 border-slate-400 mt-1",children:[m.jsxs("span",{children:[a("totalTTC"),":"]}),m.jsxs("span",{children:[f.toFixed(2)," DH"]})]})]})})}),e==="invoice"&&o==="fr"&&m.jsxs("p",{className:"text-xs mt-4 p-2 bg-slate-100 rounded-md",children:["Arrêté la présente facture à la somme de : ",b]}),m.jsx("p",{className:"text-center text-xs mt-6",children:a("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")}),m.jsx("button",{onClick:s,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:a("print")})]})]})})},iwe=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{ae.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:s}),m.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?m.jsx("p",{className:"text-xs",children:n.address}):m.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),m.jsx("tbody",{children:t.items.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsx("div",{className:"col-start-2",children:m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{children:r("refundAmountLabel")}),m.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),m.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),m.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},qR=({className:t})=>m.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[m.jsxs("defs",{children:[m.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),m.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),m.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[m.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),m.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),m.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),m.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),m.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),m.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),m.jsx("g",{className:"cls-3",children:m.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),m.jsx("g",{className:"cls-5",children:m.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),m.jsx("g",{className:"cls-7",children:m.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),m.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),awe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nl(async()=>{const{default:r}=await Promise.resolve().then(()=>Md);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class __ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class xP extends __{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wP extends __{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class SP extends __{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qw||(qw={}));var owe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class swe{constructor(e,{headers:n={},customFetch:r,region:i=qw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=awe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return owe(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:s}).catch(w=>{throw w.name==="AbortError"?w:new xP(w)}),A=h.headers.get("x-relay-error");if(A&&A==="true")throw new wP(h);if(!h.ok)throw new SP(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield h.json():v==="application/octet-stream"?b=yield h.blob():v==="text/event-stream"?b=h:v==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new xP(i)}:{data:null,error:i,response:i instanceof SP||i instanceof wP?i.context:void 0}}})}}var bi={},T_={},ky={},DA={},Py={},My={},lwe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ad=lwe();const uwe=ad.fetch,HR=ad.fetch.bind(ad),zR=ad.Headers,cwe=ad.Request,fwe=ad.Response,Md=Object.freeze(Object.defineProperty({__proto__:null,Headers:zR,Request:cwe,Response:fwe,default:HR,fetch:uwe},Symbol.toStringTag,{value:"Module"})),dwe=UP(Md);var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});let hwe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oy.default=hwe;var VR=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(My,"__esModule",{value:!0});const pwe=VR(dwe),Awe=VR(Oy);let mwe=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pwe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,f=null,h=null,A=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const w=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,A=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{c=JSON.parse(w),Array.isArray(c)&&a.status===404&&(f=[],c=null,A=200,v="OK")}catch{a.status===404&&w===""?(A=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,A=200,v="OK"),c&&this.shouldThrowOnError)throw new Awe.default(c)}return{error:c,data:f,count:h,status:A,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};My.default=mwe;var gwe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Py,"__esModule",{value:!0});const vwe=gwe(My);let ywe=class extends vwe.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Py.default=ywe;var bwe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(DA,"__esModule",{value:!0});const xwe=bwe(Py);let wwe=class extends xwe.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};DA.default=wwe;var Swe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ky,"__esModule",{value:!0});const kh=Swe(DA);let _we=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new kh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new kh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new kh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new kh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new kh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ky.default=_we;var GR=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(T_,"__esModule",{value:!0});const Twe=GR(ky),Cwe=GR(DA);let Nwe=class WR{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Twe.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new WR(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new Cwe.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};T_.default=Nwe;var Od=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});bi.PostgrestError=bi.PostgrestBuilder=bi.PostgrestTransformBuilder=bi.PostgrestFilterBuilder=bi.PostgrestQueryBuilder=bi.PostgrestClient=void 0;const YR=Od(T_);bi.PostgrestClient=YR.default;const KR=Od(ky);bi.PostgrestQueryBuilder=KR.default;const JR=Od(DA);bi.PostgrestFilterBuilder=JR.default;const XR=Od(Py);bi.PostgrestTransformBuilder=XR.default;const QR=Od(My);bi.PostgrestBuilder=QR.default;const ZR=Od(Oy);bi.PostgrestError=ZR.default;var Ewe=bi.default={PostgrestClient:YR.default,PostgrestQueryBuilder:KR.default,PostgrestFilterBuilder:JR.default,PostgrestTransformBuilder:XR.default,PostgrestBuilder:QR.default,PostgrestError:ZR.default};const{PostgrestClient:kwe,PostgrestQueryBuilder:GSe,PostgrestFilterBuilder:WSe,PostgrestTransformBuilder:YSe,PostgrestBuilder:KSe,PostgrestError:JSe}=Ewe;class Pwe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Mwe="2.15.5",Owe=`realtime-js/${Mwe}`,Iwe="1.0.0",Hw=1e4,Dwe=1e3,Lwe=100;var cp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cp||(cp={}));var hr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(hr||(hr={}));var Ya;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ya||(Ya={}));var zw;(function(t){t.websocket="websocket"})(zw||(zw={}));var fu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fu||(fu={}));class jwe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class e8{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yn||(yn={}));const _P=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=Rwe(o,t,e,i),a),{})},Rwe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?t8(a,o):Vw(o)},t8=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Uwe(e,n)}switch(t){case yn.bool:return Bwe(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return $we(e);case yn.json:case yn.jsonb:return Fwe(e);case yn.timestamp:return qwe(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return Vw(e);default:return Vw(e)}},Vw=t=>t,Bwe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$we=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Fwe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Uwe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>t8(e,s))}return t},qwe=t=>typeof t=="string"?t.replace(" ","T"):t,n8=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class H1{constructor(e,n,r={},i=Hw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var TP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(TP||(TP={}));class fp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=fp.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fp.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const h=c.map(w=>w.presence_ref),A=f.map(w=>w.presence_ref),v=c.filter(w=>A.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(A=>A.presence_ref),h=c.filter(A=>f.indexOf(A.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var CP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(CP||(CP={}));var dp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(dp||(dp={}));var zo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zo||(zo={}));class C_{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new H1(this,Ya.join,this.params,this.timeout),this.rejoinTimer=new e8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ya.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new fp(this),this.broadcastEndpointURL=n8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==hr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[dp.PRESENCE]&&this.bindings[dp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(A=>e==null?void 0:e(zo.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(zo.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:A})=>{var v;if(this.socket.setAuth(),A===void 0){e==null||e(zo.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<w;x++){const S=b[x],{filter:{event:T,schema:C,table:k,filter:E}}=S,I=A&&A[x];if(I&&I.event===T&&I.schema===C&&I.table===k&&I.filter===E)y.push(Object.assign(Object.assign({},S),{id:I.id}));else{this.unsubscribe(),this.state=hr.errored,e==null||e(zo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(zo.SUBSCRIBED);return}}).receive("error",A=>{this.state=hr.errored,e==null||e(zo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===hr.joined&&e===dp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ya.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new H1(this,Ya.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=hr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new H1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Lwe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ya;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(A=>{var v,b,w;return((v=A.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=A.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(A=>A.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(A=>{var v,b,w,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in A){const T=A.id,C=(v=A.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(x=(y=A==null?void 0:A.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===o}).map(A=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:w,commit_timestamp:y,type:x,errors:S}=v;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(v))}A.callback(h,r)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&C_.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ya.close,{},e)}_onError(e){this._on(Ya.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_P(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_P(e.columns,e.old_record)),n}}const z1=()=>{},ag={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hwe=[1e3,2e3,5e3,1e4],zwe=1e4,Vwe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gwe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hw,this.transport=null,this.heartbeatIntervalMs=ag.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=z1,this.ref=0,this.reconnectTimer=null,this.logger=z1,this.conn=null,this.sendBuffer=[],this.serializer=new jwe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Nl(async()=>{const{default:s}=await Promise.resolve().then(()=>Md);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${zw.websocket}`,this.httpEndpoint=n8(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pwe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Iwe}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cp.connecting:return fu.Connecting;case cp.open:return fu.Open;case cp.closing:return fu.Closing;default:return fu.Closed}}isConnected(){return this.connectionState()===fu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new C_(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Dwe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ag.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ya.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Vwe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Owe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ya.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new e8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ag.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Hw,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ag.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:z1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>Hwe[f-1]||zwe,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class N_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Wwe extends N_{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gw extends N_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ywe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const r8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nl(async()=>{const{default:r}=await Promise.resolve().then(()=>Md);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Kwe=()=>Ywe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nl(()=>Promise.resolve().then(()=>Md),void 0,import.meta.url)).Response:Response}),Ww=t=>{if(Array.isArray(t))return t.map(n=>Ww(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Ww(r)}),e},Jwe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var tc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const V1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xwe=(t,e,n)=>tc(void 0,void 0,void 0,function*(){const r=yield Kwe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new Wwe(V1(i),a,o))}).catch(i=>{e(new Gw(V1(i),i))}):e(new Gw(V1(t),t))}),Qwe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Jwe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function LA(t,e,n,r,i,a){return tc(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,Qwe(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Xwe(l,s,r))})})}function iv(t,e,n,r){return tc(this,void 0,void 0,function*(){return LA(t,"GET",e,n,r)})}function uo(t,e,n,r,i){return tc(this,void 0,void 0,function*(){return LA(t,"POST",e,r,i,n)})}function Yw(t,e,n,r,i){return tc(this,void 0,void 0,function*(){return LA(t,"PUT",e,r,i,n)})}function Zwe(t,e,n,r){return tc(this,void 0,void 0,function*(){return LA(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function i8(t,e,n,r,i){return tc(this,void 0,void 0,function*(){return LA(t,"DELETE",e,r,i,n)})}var e5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class t5e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return e5e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var n5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class r5e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new t5e(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return n5e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var gi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const i5e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a5e{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=r8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return gi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},NP),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?Yw:uo)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rr(a))return{data:null,error:a};throw a}})}upload(e,n,r){return gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return gi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:NP.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Yw(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return gi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield uo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new N_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}update(e,n,r){return gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return gi(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return gi(this,void 0,void 0,function*(){try{return{data:{path:(yield uo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return gi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield uo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return gi(this,void 0,void 0,function*(){try{const i=yield uo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>iv(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new r5e(l,this.shouldThrowOnError)}info(e){return gi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield iv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ww(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}exists(e){return gi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Zwe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r)&&r instanceof Gw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return gi(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}list(e,n,r){return gi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},i5e),n),{prefix:e||""});return{data:yield uo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}listV2(e,n){return gi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield uo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const o5e="2.12.2",s5e={"X-Client-Info":`storage-js/${o5e}`};var Oc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class l5e{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},s5e),n),this.fetch=r8(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Oc(this,void 0,void 0,function*(){try{return{data:yield iv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}getBucket(e){return Oc(this,void 0,void 0,function*(){try{return{data:yield iv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Oc(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Oc(this,void 0,void 0,function*(){try{return{data:yield Yw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Oc(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Oc(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class u5e extends l5e{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new a5e(this.url,this.headers,e,this.fetch)}}const c5e="2.58.0";let Rh="";typeof Deno<"u"?Rh="deno":typeof document<"u"?Rh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rh="react-native":Rh="node";const f5e={"X-Client-Info":`supabase-js-${Rh}/${c5e}`},d5e={headers:f5e},h5e={schema:"public"},p5e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A5e={};var m5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const g5e=t=>{let e;return t?e=t:typeof fetch>"u"?e=HR:e=fetch,(...n)=>e(...n)},v5e=()=>typeof Headers>"u"?zR:Headers,y5e=(t,e,n)=>{const r=g5e(n),i=v5e();return(a,o)=>m5e(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var b5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function x5e(t){return t.endsWith("/")?t:t+"/"}function w5e(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b5e(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function S5e(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x5e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const a8="2.72.0",Hc=30*1e3,Kw=3,G1=Kw*Hc,_5e="http://localhost:9999",T5e="supabase.auth.token",C5e={"X-Client-Info":`gotrue-js/${a8}`},Jw="X-Supabase-Api-Version",o8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N5e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E5e=10*60*1e3;class E_ extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k5e extends E_{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P5e(t){return Et(t)&&t.name==="AuthApiError"}class s8 extends E_{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jl extends E_{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Vs extends jl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M5e(t){return Et(t)&&t.name==="AuthSessionMissingError"}class Ph extends jl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class og extends jl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sg extends jl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O5e(t){return Et(t)&&t.name==="AuthImplicitGrantRedirectError"}class EP extends jl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xw extends jl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function W1(t){return Et(t)&&t.name==="AuthRetryableFetchError"}class kP extends jl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Qw extends jl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const av="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PP=` 	
\r=`.split(""),I5e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<PP.length;e+=1)t[PP[e].charCodeAt(0)]=-2;for(let e=0;e<av.length;e+=1)t[av[e].charCodeAt(0)]=e;return t})();function MP(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(av[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(av[r]),e.queuedBits-=6}}function l8(t,e,n){const r=I5e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function OP(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{j5e(o,r,n)};for(let o=0;o<t.length;o+=1)l8(t.charCodeAt(o),i,a);return e.join("")}function D5e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function L5e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}D5e(r,e)}}function j5e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function R5e(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)l8(t.charCodeAt(i),n,r);return new Uint8Array(e)}function B5e(t){const e=[];return L5e(t,n=>e.push(n)),new Uint8Array(e)}function $5e(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>MP(i,n,r)),MP(null,n,r),e.join("")}function F5e(t){return Math.round(Date.now()/1e3)+t}function U5e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ma=()=>typeof window<"u"&&typeof document<"u",Zl={tested:!1,writable:!1},u8=()=>{if(!ma())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zl.tested)return Zl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zl.tested=!0,Zl.writable=!0}catch{Zl.tested=!0,Zl.writable=!1}return Zl.writable};function q5e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const c8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nl(async()=>{const{default:r}=await Promise.resolve().then(()=>Md);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},H5e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},eu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zs=async(t,e)=>{await t.removeItem(e)};class Iy{constructor(){this.promise=new Iy.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Iy.promiseConstructor=Promise;function Y1(t){const e=t.split(".");if(e.length!==3)throw new Qw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!N5e.test(e[r]))throw new Qw("JWT not in base64url format");return{header:JSON.parse(OP(e[0])),payload:JSON.parse(OP(e[1])),signature:R5e(e[2]),raw:{header:e[0],payload:e[1]}}}async function z5e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function V5e(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function G5e(t){return("0"+t.toString(16)).substr(-2)}function W5e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,G5e).join("")}async function Y5e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function K5e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Y5e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ic(t,e,n=!1){const r=W5e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await zc(t,`${e}-code-verifier`,i);const a=await K5e(r);return[a,r===a?"plain":"s256"]}const J5e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X5e(t){const e=t.headers.get(Jw);if(!e||!e.match(J5e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Q5e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Z5e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eSe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dc(t){if(!eSe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function K1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IP(t){return JSON.parse(JSON.stringify(t))}var tSe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nSe=[502,503,504];async function DP(t){var e;if(!H5e(t))throw new Xw(uu(t),0);if(nSe.includes(t.status))throw new Xw(uu(t),t.status);let n;try{n=await t.json()}catch(a){throw new s8(uu(a),a)}let r;const i=X5e(t);if(i&&i.getTime()>=o8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kP(uu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new kP(uu(n),t.status,n.weak_password.reasons);throw new k5e(uu(n),t.status||500,r)}const rSe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Dt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Jw]||(a[Jw]=o8["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await iSe(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function iSe(t,e,n,r,i,a){const o=rSe(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Xw(uu(l),0)}if(s.ok||await DP(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await DP(l)}}function lo(t){var e;let n=null;lSe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=F5e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function LP(t){const e=lo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aSe(t){return{data:t,error:null}}function oSe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=tSe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function sSe(t){return t}function lSe(t){return t.access_token&&t.refresh_token&&t.expires_in}const J1=["global","local","others"];var uSe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class cSe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=c8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=J1[0]){if(J1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${J1.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=uSe(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oSe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Et(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:sSe});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,A=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return A.length>0&&(A.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Et(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Dc(e);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Dc(e);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:nl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Dc(e);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:nl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Dc(e.userId);try{const{data:n,error:r}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Dc(e.userId),Dc(e.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}}function jP(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function fSe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lc={debug:!!(globalThis&&u8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f8 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dSe extends f8{}async function hSe(t,e,n){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dSe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function d8(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function pSe(t){return parseInt(t,16)}function ASe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function mSe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const A=d8(t.address),v=c?`${c}://${r}`:r,b=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${A}

${b}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);x+=`
- ${S}`}y+=x}return`${w}
${y}`}fSe();const gSe={url:_5e,storageKey:T5e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C5e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function RP(t,e,n){return await n()}const jc={};class cA{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cA.nextInstanceID,cA.nextInstanceID+=1,this.instanceID>0&&ma()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gSe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cSe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=c8(i.fetch),this.lock=i.lock||RP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ma()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hSe:this.lock=RP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:u8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jP(this.memoryStorage)),ma()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a8}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=q5e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ma()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),O5e(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Et(n)?{error:n}:{error:new s8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:lo}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Et(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:h}=e;let A=null,v=null;this.flowType==="pkce"&&([A,v]=await Ic(this.storage,this.storageKey)),a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:A,code_challenge_method:v},xform:lo})}else if("phone"in e){const{phone:c,password:f,options:h}=e;a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lo})}else throw new og("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Et(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:LP})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:LP})}else throw new og("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ph}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,h;let A,v;if("message"in e)A=e.message,v=e.signature;else{const{chain:b,wallet:w,statement:y,options:x}=e;let S;if(ma())if(typeof w=="object")S=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")S=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=d8(C[0]);let E=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const D=await S.request({method:"eth_chainId"});E=pSe(D)}const I={domain:T.host,address:k,statement:y,uri:T.href,version:"1",chainId:E,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};A=mSe(I),v=await S.request({method:"personal_sign",params:[ASe(A),k]})}try{const{data:b,error:w}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:lo});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ph}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(Et(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,h,A;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:w,wallet:y,statement:x,options:S}=e;let T;if(ma())if(typeof y=="object")T=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:y}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:$5e(b)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:lo});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ph}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Et(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await eu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lo});if(await zs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ph}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Et(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lo}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ph}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ic(this.storage,this.storageKey));const{error:f}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new og("You must provide either an email or phone number.")}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:lo});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ic(this.storage,this.storageKey)),await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:aSe})}catch(a){if(Et(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Vs;const{error:i}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Et(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Dt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await Dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new og("You must provide either an email or phone number and a type")}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await eu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<G1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await eu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=K1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vs}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:nl})})}catch(n){if(Et(n))return M5e(n)&&(await this._removeSession(),await zs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Vs;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ic(this.storage,this.storageKey));const{data:u,error:c}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:nl});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vs;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Y1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Et(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Vs;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ma())throw new sg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new EP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new EP("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new sg("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const A=h-c;A*1e3<=Hc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Et(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await eu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(P5e(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await zs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=U5e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ic(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Et(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:h}=a;if(h)throw h;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",A,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ma()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Et(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await V5e(async i=>(i>0&&await z5e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&W1(a)&&Date.now()+o-r<Hc})}catch(r){if(this._debug(n,"error",r),Et(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ma()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await eu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await eu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await zc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:K1()}else if(i&&!i.user&&!i.user){const o=await eu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await zs(this.storage,this.storageKey+"-user"),await zc(this.storage,this.storageKey,i)):i.user=K1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<G1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${G1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),W1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Iy;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Vs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Et(a)){const o={session:null,error:a};return W1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=IP(i);await zc(this.storage,this.storageKey,a)}else{const i=IP(n);await zc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await zs(this.storage,this.storageKey),await zs(this.storage,this.storageKey+"-code-verifier"),await zs(this.storage,this.storageKey+"-user"),this.userStorage&&await zs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ma()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Hc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hc}ms, refresh threshold is ${Kw} ticks`),i<=Kw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof f8)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ma()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ic(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Et(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Et(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Y1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+E5e>i)return r;const{data:a,error:o}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:A,error:v}=await this.getSession();if(v||!A.session)return{data:null,error:v};r=A.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Y1(r);n!=null&&n.allowExpired||Q5e(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:a,header:i,signature:o},error:null}}const c=Z5e(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,B5e(`${s}.${l}`)))throw new Qw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}}cA.nextInstanceID=0;const vSe=cA;class ySe extends vSe{constructor(e){super(e)}}var bSe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class xSe{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=S5e(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:h5e,realtime:A5e,auth:Object.assign(Object.assign({},p5e),{storageKey:l}),global:d5e},c=w5e(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=y5e(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new kwe(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new u5e(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new swe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return bSe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ySe({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Gwe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wSe=(t,e,n)=>new xSe(t,e,n);function SSe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}SSe()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h8="https://kclntdmvpeykknjnndeb.supabase.co",Zw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function _Se(){return!!(h8.startsWith("http")&&Zw&&Zw.startsWith("eyJ"))}const TSe=()=>_Se()?wSe(h8,Zw):(console.error(`
  ********************************************************************************
  * ERREUR DE CONFIGURATION SUPABASE :                                           *
  * Les informations de connexion à Supabase ne sont pas configurées.            *
  * Veuillez modifier le fichier 'supabaseClient.ts' et ajouter votre URL        *
  * et votre clé 'anon' publique.                                                *
  *                                                                              *
  * خطأ في إعدادات SUPABASE:                                                       *
  * بيانات الاتصال بـ Supabase غير مهيأة.                                          *
  * الرجاء تعديل ملف 'supabaseClient.ts' وإضافة رابط المشروع ومفتاح 'anon' العام. *
  ********************************************************************************
  `),new Proxy({},{get:(e,n)=>n==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):n==="removeChannel"?()=>{}:n==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),_i=TSe(),CSe="GoShop-Activation-Key-Abzn-Secret-2024",k_=async()=>{const{data:t,error:e}=await _i.from("stores").select("*");if(e)throw e;return t||[]},NSe=async t=>{const{data:e,error:n}=await _i.from("stores").select("*").eq("id",t).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching store by ID:",n),n;return e},p8=async t=>{const{data:e,error:n}=await _i.from("stores").select("*").eq("licenseKey",t).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching store by license key:",n),new Error("invalidActivationCode");return e},ESe=async(t,e,n,r,i,a,o,s)=>{const l=`GS-${crypto.randomUUID().slice(0,8).toUpperCase()}`,{data:u,error:c}=await _i.from("stores").insert({name:t,logo:e||null,licenseKey:l,trialDurationDays:i,address:a||null,ice:o||null,enableAiReceiptScan:s,isActive:!1}).select().single();if(c)throw c;const{data:f,error:h}=await _i.from("users").insert({storeId:u.id,name:"Admin",email:r||null,password:n,role:"admin"}).select().single();if(h)throw h;return{store:u,user:f,licenseKey:l}},X1=async t=>{const{data:e,error:n}=await _i.from("stores").update(t).eq("id",t.id).select().single();if(n)throw n;return e},kSe=async t=>{const{error:e}=await _i.from("users").delete().eq("storeId",t);e&&console.error("Error deleting users for store:",e);const{error:n}=await _i.from("stores").delete().eq("id",t);if(n)throw n},PSe=async(t,e)=>{if(!e.startsWith("PERM-"))return!1;try{const n=atob(e.substring(5)),[r,i]=n.split("::");if(r===t&&i===CSe)return await _i.from("stores").update({isActive:!0,trialStartDate:null,trialDurationDays:0}).eq("id",t),!0}catch(n){return console.error("Activation code decoding failed",n),!1}return!1},MSe=async()=>{const{data:t,error:e}=await _i.from("users").select("*");if(e)throw e;return t||[]},A8=async t=>{const{data:e,error:n}=await _i.from("users").select("*").eq("storeId",t).eq("role","admin").single();if(n&&n.code!=="PGRST116")throw n;return e},OSe=async t=>{const{data:e,error:n}=await _i.from("users").insert(t).select().single();if(n)throw n;return e},ISe=async t=>{const{data:e,error:n}=await _i.from("users").update(t).eq("id",t.id).select().single();if(n)throw n;return e},DSe=async(t,e)=>{if(!t.isActive)throw new Error("storeDisabledError");const{data:n,error:r}=await _i.from("users").select("*").eq("storeId",t.id);if(r)throw r;const i=n.find(a=>a.role==="admin"&&a.password===e||a.role==="seller"&&a.pin===e);if(!i)throw new Error("invalidCredentialsError");return{user:i,store:t}},BP="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",ov=({url:t,className:e})=>{const n=t||BP,r=i=>{i.currentTarget.src=BP};return m.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},$P="Abzn11241984",LSe=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=ae.useState("loading"),[u,c]=ae.useState(null),[f,h]=ae.useState(!1),[A,v]=ae.useState(null),[b,w]=ae.useState(""),[y,x]=ae.useState(!1),[S,T]=ae.useState(""),[C,k]=ae.useState(""),[E,I]=ae.useState([]),D=ae.useCallback(async()=>{h(!0);try{const ee=localStorage.getItem("pos-license");if(!ee){l("license_entry");return}const le=JSON.parse(ee),j=await NSe(le.storeId);if(j)if(j.trialStartDate){const z=new Date(j.trialStartDate),Q=new Date(z);Q.setDate(z.getDate()+(j.trialDurationDays??7)),new Date>Q?(v(j),l("expired_trial")):(v(j),l("login"))}else v(j),l("login");else throw new Error("Store not found")}catch(ee){localStorage.removeItem("pos-license"),c(n(ee.message||"unknownError")||ee.message),l("license_entry")}finally{h(!1)}},[n]);ae.useEffect(()=>{s==="loading"&&D()},[D,s]),ae.useEffect(()=>{if(s==="login"&&A){const ee=localStorage.getItem(`pos-remembered-secret-${A.id}`);ee?(w(ee),x(!0)):(w(""),x(!1))}},[s,A]);const $=async ee=>{if(ee.preventDefault(),c(null),!A){c(n("unknownError")),l("license_entry");return}if(h(!0),!b){c(n("fillAllFields")),h(!1);return}try{if(b===$P){e();return}const le=await DSe(A,b);y?localStorage.setItem(`pos-remembered-secret-${A.id}`,b):localStorage.removeItem(`pos-remembered-secret-${A.id}`),t(le.user,le.store)}catch(le){let j=null,z=n("unknownError");if(le&&le.message){const Q=le.message.toLowerCase();Q.includes("invalid api key")||Q.includes("unauthorized")?j="invalidApiKeyError":(le.message==="storeNotFound"||le.message==="storeDisabledError"||le.message==="invalidCredentialsError")&&(j=le.message),z=le.message}c(j?n(j):z)}finally{h(!1)}},O=async ee=>{if(ee.preventDefault(),!!A){h(!0),c(null);try{if(await PSe(A.id,S))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(le){const j=n(le.message)||le.message;c(j)}finally{h(!1)}}},M=async ee=>{var j;ee.preventDefault(),c(null),h(!0);const le=C.trim();if(!le){c(n("fillAllFields")),h(!1);return}try{if(le===$P){e();return}const z=await p8(le);z?F(z):c(n("invalidActivationCode"))}catch(z){console.error("Error activating store for the first time:",z),(j=z.message)!=null&&j.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{h(!1)}},B=async()=>{h(!0),c(null);try{const ee=(await k_()).sort((le,j)=>le.name.localeCompare(j.name));I(ee),l("store_selection")}catch{c(n("unknownError"))}finally{h(!1)}},F=ee=>{const le={storeId:ee.id};if(localStorage.setItem("pos-license",JSON.stringify(le)),v(ee),ee.trialStartDate){const j=new Date(ee.trialStartDate),z=new Date(j);z.setDate(j.getDate()+(ee.trialDurationDays??7)),new Date>z?l("expired_trial"):l("login")}else l("login")},G=()=>m.jsxs("form",{onSubmit:$,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),A?m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:[n("forStore"),A.name]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),m.jsx("input",{id:"loginSecret",type:"password",value:b,onChange:ee=>w(ee.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[m.jsx("input",{id:"rememberMe",type:"checkbox",checked:y,onChange:ee=>x(ee.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),m.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("login")})]}),R=()=>m.jsxs("form",{onSubmit:O,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("enterActivationCode")}),m.jsx("input",{id:"activationCode",type:"text",value:S,onChange:ee=>T(ee.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activateApplication")})]}),U=()=>m.jsxs("form",{onSubmit:M,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),m.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:ee=>k(ee.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activate")}),m.jsxs("div",{className:"relative flex py-2 items-center",children:[m.jsx("div",{className:"flex-grow border-t border-gray-300 dark:border-gray-600"}),m.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-500 dark:text-gray-400",children:n("or")}),m.jsx("div",{className:"flex-grow border-t border-gray-300 dark:border-gray-600"})]}),m.jsx("button",{type:"button",onClick:B,disabled:f,className:"w-full bg-slate-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("selectStoreFromList")})]}),V=()=>m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("selectYourStore")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:E.map(ee=>m.jsxs("button",{onClick:()=>F(ee),className:"w-full text-left rtl:text-right flex items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx(ov,{url:ee.logo,className:"w-10 h-10 rounded-lg bg-gray-200 object-cover mr-3 rtl:mr-0 rtl:ml-3"}),m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:ee.name})]},ee.id))}),m.jsx("button",{onClick:()=>l("license_entry"),className:"mt-4 text-sm text-teal-600 hover:underline",children:n("backToLicenseEntry")})]}),K=()=>{if(f||s==="loading")return m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return U();case"store_selection":return V();case"login":return G();case"expired_trial":return R();default:return m.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[m.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?m.jsx(aS,{className:"w-5 h-5"}):m.jsx(iS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"العربية":"Français"})]}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(qR,{className:"w-80 h-auto mx-auto"}),m.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]})]}),m.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&m.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),K()]})]})},jSe=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=ae.useState([]);ae.useEffect(()=>{(async()=>{const h=await k_();u(h.sort((A,v)=>A.name.localeCompare(v.name)))})()},[]);const c=async f=>{try{const h=await A8(f.id);h?t(h,f):alert(r("noAdminForStore"))}catch(h){console.error("Failed to login as admin:",h),alert(`${r("unknownError")}: ${h.message}`)}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(aS,{className:"w-5 h-5"}):m.jsx(iS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"العربية":"Français"})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(tS,{className:"w-5 h-5"}),m.jsx("span",{children:r("logout")})]})]})}),m.jsxs("div",{className:"text-center w-full max-w-4xl",children:[m.jsx(qR,{className:"w-64 h-auto mx-auto mb-6"}),m.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[m.jsx(nS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx(YO,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[m.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(f=>m.jsxs("button",{onClick:()=>c(f),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.name}),m.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",m.jsx(SA,{className:"w-4 h-4"})]})]},f.id)):m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},lg=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>m.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),m.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),RSe=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=ae.useState([]),[c,f]=ae.useState([]),[h,A]=ae.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[v,b]=ae.useState(!0),[w,y]=ae.useState({}),[x,S]=ae.useState({}),[T,C]=ae.useState(null),[k,E]=ae.useState(null),[I,D]=ae.useState(null),[$,O]=ae.useState(null),M="GoShop-Activation-Key-Abzn-Secret-2024",B=async()=>{u((await k_()).sort((J,se)=>J.name.localeCompare(se.name))),f(await MSe())};ae.useEffect(()=>{B()},[]);const F=ae.useMemo(()=>{const J={};for(const se of c)J[se.storeId]||(J[se.storeId]=[]),J[se.storeId].push(se);return J},[c]),G=J=>{if(J.target.files&&J.target.files[0]){const se=J.target.files[0],ue=new FileReader;ue.onloadend=()=>{A(ie=>({...ie,logo:ue.result}))},ue.readAsDataURL(se)}},R=async J=>{if(J.preventDefault(),C(null),E(null),!h.name||!h.adminPassword){alert(r("fillAllFieldsError"));return}const se=h.adminPassword,ue=h.trialDurationDays||0;try{const{licenseKey:ie}=await ESe(h.name,h.logo,h.adminPassword,h.adminEmail,ue,h.address,h.ice,h.enableAiReceiptScan);if(v){const Se=await p8(ie);if(Se){const fe={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ue>0?new Date().toISOString():null};await X1({...Se,...fe})}}C(ie),E(se),A({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),b(!0);const be=document.getElementById("logo");be&&(be.value=""),await B()}catch(ie){ie instanceof TypeError&&ie.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(ie.message)||ie.message)}},U=async(J,se)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:se})))try{await kSe(J),alert(r("storeDeletedSuccess",{storeName:se})),await B()}catch(ue){console.error("Failed to delete store:",ue),alert(`${r("storeDeleteError")}: ${ue.message}`)}},V=(J,se)=>{y(ue=>({...ue,[J]:se}))},K=async J=>{const se=(F[J]||[]).filter(ue=>w[ue.id]!==void 0&&w[ue.id].trim()!=="");for(const ue of se)if(ue.role==="seller"&&w[ue.id].length<4){alert(r("pinMustBe4Chars"));return}if(se.length!==0){for(const ue of se){const ie={...ue};ue.role==="admin"?ie.password=w[ue.id]:ie.pin=w[ue.id],await ISe(ie)}y(ue=>{const ie={...ue};return se.forEach(be=>delete ie[be.id]),ie}),alert(r("pinUpdateSuccess")),await B()}},ee=async J=>{const se=x[J];if(!se||se.trim()===""||se.length<4){alert(r("pinMustBe4Chars"));return}const ue=(F[J]||[]).filter(be=>be.role==="seller").length,ie=`${r("seller")} ${ue+1}`;await OSe({name:ie,pin:se,role:"seller",storeId:J}),S(be=>({...be,[J]:""})),alert(r("userAddedSuccess",{name:ie})),await B()},le=J=>{const se=J.trialStartDate?new Date(J.trialStartDate):new Date,ue=new Date(se);if(ue.setDate(se.getDate()+(J.trialDurationDays??7)),new Date<ue&&J.trialStartDate!==null&&!window.confirm(r("confirmPermanentActivation",{storeName:J.name})))return;const ie=`PERM-${btoa(`${J.id}::${M}`)}`;O({storeName:J.name,code:ie})},j=(J,se)=>{navigator.clipboard.writeText(J),D(se),setTimeout(()=>D(null),2e3)},z=async J=>{try{const se={...J,isActive:!J.isActive};await X1(se),u(ue=>ue.map(ie=>ie.id===J.id?se:ie))}catch(se){alert(`Error updating store status: ${se.message}`)}},Q=async J=>{try{const se={...J,enableAiReceiptScan:!J.enableAiReceiptScan};await X1(se),u(ue=>ue.map(ie=>ie.id===J.id?se:ie))}catch(se){alert(`Error updating AI Scan status: ${se.message}`)}},te=async J=>{try{const se=await A8(J.id);se?t(se,J):alert(r("noAdminForStore"))}catch(se){console.error("Failed to login as admin:",se),alert(`${r("unknownError")}: ${se.message}`)}};return m.jsxs(m.Fragment,{children:[$&&m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6 text-center",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:$.storeName})}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),m.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-lg font-mono text-lg break-all mb-4",children:$.code}),m.jsx("button",{onClick:()=>{j($.code,`code-${$.storeName}`)},className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 w-full mb-3",children:I===`code-${$.storeName}`?r("copied"):r("copy")}),m.jsx("button",{onClick:()=>O(null),className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500 w-full",children:r("close")})]})}),m.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 p-4 sm:p-6 lg:p-8",children:[m.jsx("header",{className:"mb-8",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 rounded-lg transition-colors border dark:border-slate-700",children:[m.jsx(_A,{className:"w-5 h-5"})," ",r("backToPortal")]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 hidden md:block",children:r("superAdminDashboard")}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(aS,{className:"w-5 h-5"}):m.jsx(iS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"العربية":"Français"}),m.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(tS,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:r("logout")})]})]})]})}),m.jsxs("div",{className:"container mx-auto space-y-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(YO,{}),r("addStore")]}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("storeName")}),m.jsx("input",{type:"text",value:h.name,onChange:J=>A(se=>({...se,name:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("adminPassword")}),m.jsx("input",{type:"text",value:h.adminPassword,onChange:J=>A(se=>({...se,adminPassword:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("adminEmail")}),m.jsx("input",{type:"email",value:h.adminEmail,onChange:J=>A(se=>({...se,adminEmail:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("address")}),m.jsx("input",{type:"text",value:h.address,onChange:J=>A(se=>({...se,address:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("ice")}),m.jsx("input",{type:"text",value:h.ice,onChange:J=>A(se=>({...se,ice:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("trialPeriodDays")}),m.jsx("input",{type:"number",value:h.trialDurationDays,onChange:J=>A(se=>({...se,trialDurationDays:parseInt(J.target.value,10)})),min:"0",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300",children:r("storeLogoLabel")}),m.jsx(ov,{url:h.logo,className:"w-12 h-12 rounded-lg bg-gray-200 object-cover"}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:G,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"flex flex-wrap gap-6 pt-4",children:[m.jsx(lg,{checked:v,onChange:()=>b(!v),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediatelyDesc")}),m.jsx(lg,{checked:h.enableAiReceiptScan,onChange:()=>A(J=>({...J,enableAiReceiptScan:!J.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("aiScanFeatureDescription")})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2",children:[m.jsx(gf,{})," ",r("addStoreButton")]})]})]}),T&&m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl shadow-lg border border-green-300 dark:border-green-700",children:[m.jsx("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-2",children:r("storeCreatedSuccess")}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[r("licenseKey"),":"]}),m.jsx("span",{className:"font-mono bg-white dark:bg-slate-700 p-1 rounded",children:T}),m.jsx("button",{onClick:()=>j(T,"key"),className:"text-xs bg-gray-200 dark:bg-slate-600 p-1 rounded",children:r(I==="key"?"copied":"copy")})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("useThisToLoginFirst")})]}),k&&m.jsxs("div",{className:"space-y-2 text-sm mt-3 pt-3 border-t border-green-200 dark:border-green-800",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[r("adminPassword"),":"]}),m.jsx("span",{className:"font-mono bg-white dark:bg-slate-700 p-1 rounded",children:k}),m.jsx("button",{onClick:()=>j(k,"pw"),className:"text-xs bg-gray-200 dark:bg-slate-600 p-1 rounded",children:r(I==="pw"?"copied":"copy")})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("useThisPasswordAfter")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),m.jsx("div",{className:"space-y-6",children:l.length>0?l.map(J=>{const se=F[J.id]||[],ue=se.find(fe=>fe.role==="admin"),ie=se.filter(fe=>fe.role==="seller");let be=r("storeStatus_notActivated"),Se="bg-gray-200 text-gray-800";if(J.isActive)if(J.trialStartDate){const fe=new Date(J.trialStartDate),Ie=new Date(fe);Ie.setDate(fe.getDate()+(J.trialDurationDays??7));const Fe=Ie.getTime()-new Date().getTime();if(Fe>0){const _e=Math.ceil(Fe/864e5);be=r("trialDaysRemaining",{days:_e}),Se="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300"}else be=r("trialEnded"),Se="bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300"}else be=r("storeStatus_licensed"),Se="bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300";return m.jsxs("details",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-800 dark:text-slate-200",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ov,{url:J.logo,className:"w-10 h-10 rounded-lg bg-gray-200 object-cover"}),m.jsx("span",{className:"font-bold text-lg",children:J.name}),m.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${Se}`,children:be})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:fe=>{fe.preventDefault(),te(J)},className:"text-sm bg-teal-600 text-white px-3 py-1 rounded-md hover:bg-teal-700",children:r("loginAsAdmin")}),m.jsx("button",{onClick:fe=>{fe.preventDefault(),U(J.id,J.name)},className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:m.jsx(Qi,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[r("licenseKey"),":"]})," ",m.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-700 p-1 rounded",children:J.licenseKey})]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("address"),":"]})," ",J.address||"N/A"]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("ice"),":"]})," ",J.ice||"N/A"]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("trialPeriodDays"),":"]})," ",r("trialDurationDisplay",{days:J.trialDurationDays})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(lg,{checked:J.isActive,onChange:()=>z(J),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),m.jsx(lg,{checked:J.enableAiReceiptScan||!1,onChange:()=>Q(J),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("aiScanFeatureDescription")})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-3",children:r("storeUsersAndPins")}),m.jsxs("div",{className:"space-y-3",children:[ue&&m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"font-semibold",children:[ue.name," (",r("admin"),")"]}),m.jsx("input",{type:"text",placeholder:r("newPassword"),onChange:fe=>V(ue.id,fe.target.value),className:"w-40 text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"})]}),ie.map(fe=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold",children:fe.name}),m.jsx("input",{type:"text",placeholder:r("newPin"),onChange:Ie=>V(fe.id,Ie.target.value),className:"w-40 text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"})]},fe.id)),m.jsx("button",{onClick:()=>K(J.id),className:"text-xs bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700",children:r("saveChanges")})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-600 flex items-center gap-2",children:[m.jsx("input",{type:"text",value:x[J.id]||"",onChange:fe=>S(Ie=>({...Ie,[J.id]:fe.target.value})),placeholder:r("newSellerPinPlaceholder"),className:"flex-grow text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"}),m.jsxs("button",{onClick:()=>ee(J.id),className:"text-xs bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700 flex items-center gap-1",children:[m.jsx(KO,{className:"w-4 h-4"})," ",r("addSeller")]})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2",children:r("permanentActivation")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),m.jsxs("button",{onClick:()=>le(J),className:"text-sm bg-orange-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-orange-600 flex items-center gap-2",children:[m.jsx(XO,{className:"w-4 h-4"})," ",r("generateActivationCode")]})]})]})]},J.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})]})},BSe=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},FP={fr:{pos:"Caisse",products:"Produits",services:"Services",finance:"Finance",customers:"Clients",suppliers:"Fournisseurs",categories:"Catégories",settings:"Paramètres",logout:"Déconnexion",welcome:"Bienvenue",admin:"Admin",seller:"Vendeur",loading:"Chargement",save:"Enregistrer",cancel:"Annuler",edit:"Modifier",delete:"Supprimer",add:"Ajouter",close:"Fermer",optional:"Optionnel",actions:"Actions",name:"Nom",phone:"Téléphone",email:"Email",address:"Adresse",ice:"ICE",all:"Tout",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Plage personnalisée",date:"Date",amount:"Montant",description:"Description",quantity:"Quantité",price:"Prix",total:"Total",stock:"Stock",page:"Page",previous:"Précédent",next:"Suivant",searchByName:"Rechercher par nom...",noResultsFound:"Aucun résultat trouvé.",noDataToExport:"Aucune donnée à exporter.",unknown:"Inconnu",copied:"Copié!",copy:"Copier",print:"Imprimer",goBack:"Retour",unknownError:"Une erreur inconnue est survenue.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",fillNameAndPriceError:"Le nom et le prix du produit/service sont obligatoires.",sellingPriceMustBeHigherError:"Le prix de vente doit être supérieur au prix d'achat.",failedToFetchError_CORS:"Impossible de se connecter au serveur. Vérifiez votre connexion Internet ou la configuration CORS du serveur.",or:"OU",addStockFor:"Ajouter du stock pour {name}",selectVariant:"Sélectionner une variante",quantityToAdd:"Quantité à ajouter",purchasePrice:"Prix d'achat",sellingPrice:"Prix de vente",confirmProductDelete:"Êtes-vous sûr de vouloir supprimer ce produit et toutes ses variantes ?",productName:"Nom du produit",variantName:"Nom de la variante",barcode:"Code-barres",productList:"Liste des produits",variants:"Variantes",printBarcodeLabel:"Imprimer l'étiquette du code-barres",noVariants:"Aucune variante",addStock:"Ajouter stock",noProductsInCategory:"Aucun produit dans cette catégorie.",editProduct:"Modifier le produit",addNewProduct:"Ajouter un nouveau produit",productInfo:"Informations sur le produit",productImagePreview:"Aperçu de l'image",productNamePlaceholder:"Ex: T-shirt en coton",selectCategory:"Sélectionner une catégorie",selectSupplier:"Sélectionner un fournisseur",productVariants:"Variantes du produit",addVariant:"Ajouter une variante",variantNamePlaceholder:"Ex: Rouge, Grand",semiWholesalePrice:"Prix semi-gros",wholesalePrice:"Prix de gros",stockQuantity:"Quantité en stock",lowStockThreshold:"Seuil de stock bas",barcodePlaceholder:"Scanner ou saisir le code-barres",saveChanges:"Enregistrer les modifications",saveProduct:"Enregistrer le produit",searchProducts:"Rechercher des produits...",exportToPdf:"Exporter en PDF",uncategorized:"Non catégorisé",noProductsAdded:"Aucun produit n'a encore été ajouté.",selectVariantFor:"Sélectionner une variante pour",outOfStock:"Rupture de stock",fillAllFields:"Veuillez remplir tous les champs.",enterItemDetails:"Saisir les détails de l'article",customItemName:"Nom de l'article personnalisé",itemNamePlaceholder:"Ex: Réparation spéciale",unitPriceLabel:"Prix unitaire",productOutOfStock:"Produit en rupture de stock: {productName}",notEnoughStock:"Stock insuffisant pour {productName}",productAdded:"{productName} ajouté au panier.",customItemAdded:"Article personnalisé ajouté.",productNotFound:"Produit non trouvé pour le code-barres: {barcode}",geminiApiKeyNotConfigured:"La clé API Gemini n'est pas configurée. La numérisation de reçu est désactivée.",scanning:"Numérisation...",itemsAddedFromReceipt:"{count} articles ajoutés depuis le reçu.",receiptScanError:"Erreur lors de la numérisation du reçu. Veuillez réessayer.",emptyCartError:"Le panier est vide.",saleMode:"Mode Vente",returnMode:"Mode Retour",priceLevels:"Niveaux de prix",unit:"Détail",semiWholesale:"Semi-Gros",wholesale:"Gros",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez un article pour l'ajouter au panier.",manualAdd:"Ajout manuel",addCustomItem:"Article personnalisé",scanReceipt:"Scanner un reçu",filterByCategory:"Filtrer par catégorie",searchPlaceholder:"Rechercher par nom ou scanner un code-barres...",returnReceipt:"Bon de retour",invoice:"Facture",emptyCart:"Le panier est vide.",cashCustomer:"Client comptant",debtPayment:"Paiement de la dette",manualTotal:"Total Manuel",downPayment:"Acompte",refundAmount:"Montant à rembourser",processReturn:"Traiter le retour",finalizeAndPrintOrderForm:"Finaliser & Imprimer Bon de Commande",totalHT:"Total HT",vat:"TVA (20%)",totalTTC:"Total TTC",finalizeAndPrintInvoice:"Finaliser & Imprimer la Facture",remaining:"Reste",customItemsDetails:"Détails des articles personnalisés",totalCustomRevenue:"Revenu total des articles personnalisés",invoiceHistory:"Historique des factures",invoiceNumber:"Facture N°",profitLabel:"Bénéfice",viewDetails:"Voir les détails",customItemsInSale:"Articles personnalisés dans cette vente:",noSalesForPeriod:"Aucune vente pour la période sélectionnée.",manageExpenses:"Gérer les dépenses",saving:"Enregistrement",expenseHistory:"Historique des dépenses",addExpense:"Ajouter une dépense",noExpensesForPeriod:"Aucune dépense pour la période sélectionnée.",debtorCustomers:"Clients débiteurs",debtAmount:"Montant de la dette",noDebtorCustomers:"Aucun client débiteur.",returnHistory:"Historique des retours",returnId:"Retour N°",profitLost:"Perte de bénéfice",itemsLabel:"Articles",deleteHistory:"Supprimer l'historique",returnedItems:"Articles retournés",noReturnsForPeriod:"Aucun retour pour la période sélectionnée.",allPurchasesHistory:"Historique de tous les achats",reference:"Référence",totalAmount:"Montant total",amountPaid:"Montant payé",remainingAmountLabel:"Montant restant",paymentMethod:"Mode de paiement",purchaseDetails:"Détails de l'achat",noPurchasesRecorded:"Aucun achat enregistré.",supplierDebtsList:"Dettes fournisseurs",noSupplierDebt:"Aucune dette fournisseur.",sellerReportsAndZReport:"Rapports des vendeurs (Rapport Z)",totalSales:"Ventes totales",numberOfSales:"{count} ventes",totalReturns:"Retours totaux",numberOfReturns:"{count} retours",netActivity:"Activité nette",transactionList:"Liste des transactions",netRevenue:"Revenu Net",totalRevenueMinusReturns:"Revenu total - Retours",netProfit:"Bénéfice Net",realizedProfitMinusExpenses:"Bénéfice réalisé - Dépenses",totalExpenses:"Dépenses totales",clickToViewDetails:"Cliquez pour voir les détails",customerDebts:"Dettes clients",totalSupplierDebt:"Dette fournisseur totale",salesPerformance:"Performance des ventes",topSellingProducts:"Produits les plus vendus",units:"unités",salesHistory:"Historique des ventes",billNumber:"N° Facture",sales:"Ventes",restoreStoreIdMismatchError:"Le fichier de sauvegarde ne correspond pas au magasin actuel ({storeName}). Restauration annulée.",restoreConfirm:"Êtes-vous sûr de vouloir restaurer les données ? L'opération est irréversible et écrasera les données actuelles.",restoreSuccess:"Restauration réussie. L'application va redémarrer.",restoreError:"Erreur de restauration",jsonInvalidNotObject:"Le texte fourni n'est pas un objet JSON valide.",invalidBackupStructure:"Le fichier de sauvegarde semble invalide (structure manquante).",jsonValid:"Le JSON est valide.",jsonInvalidNotCode:"Veuillez coller le contenu du fichier de sauvegarde JSON, pas du code.",jsonInvalid:"JSON invalide",restoreFromText:"Restaurer à partir du texte",restoreFromTextDesc:"Collez le contenu de votre fichier de sauvegarde JSON pour restaurer vos données.",pasteJsonHere:"Collez le contenu JSON de votre sauvegarde ici...",restoreButton:"Restaurer les données",userExistsError:"Un utilisateur avec ce nom existe déjà.",userAddedSuccess:"Utilisateur {name} ajouté avec succès.",userUpdatedSuccess:"Utilisateur {name} mis à jour.",confirmUserDelete:"Êtes-vous sûr de vouloir supprimer l'utilisateur {name} ?",userDeletedSuccess:"Utilisateur {name} supprimé.",userDeleteError:"Erreur lors de la suppression de l'utilisateur.",storeUpdatedSuccess:"Paramètres du magasin mis à jour.",userManagement:"Gestion des utilisateurs",manageUsersAndPins:"Gérez les utilisateurs et leurs codes PIN ou mots de passe.",userName:"Nom d'utilisateur",userRole:"Rôle",password:"Mot de passe",pin:"Code PIN",pinInfo:"4 chiffres",addUser:"Ajouter un utilisateur",userList:"Liste des utilisateurs",newPassword:"Nouveau mot de passe",newPin:"Nouveau code PIN",storeSettings:"Paramètres du magasin",updateStoreSettings:"Mettez à jour les informations de votre magasin.",storeName:"Nom du magasin",aiScanEnabled:"Scan IA activé",updateStore:"Mettre à jour le magasin",dataManagement:"Gestion des données",backupData:"Sauvegarder les données",backupDataDesc:"Téléchargez une copie de toutes les données de votre magasin dans un fichier JSON.",backupButton:"Télécharger la sauvegarde",restoreData:"Restaurer les données",restoreDataDesc:"Restaurez les données de votre magasin à partir d'un fichier de sauvegarde.",lowStockAlert:"Alerte de stock bas!",lowStockMessage:"Les produits suivants sont en stock bas ou en rupture de stock:",invoiceTitle:"FACTURE",orderFormTitle:"BON DE COMMANDE",invoiceAddress:"Votre Adresse, Ville",productColumn:"Désignation",prixHT:"Prix U. HT",thankYou:"Merci de votre visite !",deleteStoreConfirm:'Êtes-vous sûr de vouloir supprimer définitivement le magasin "{storeName}" et toutes ses données ? Cette action est irréversible.',storeDeletedSuccess:'Magasin "{storeName}" supprimé avec succès.',storeDeleteError:"Erreur lors de la suppression du magasin",pinMustBe4Chars:"Le code PIN doit comporter au moins 4 caractères.",pinUpdateSuccess:"Identifiants mis à jour avec succès.",confirmPermanentActivation:`Ce magasin est toujours en période d'essai. Voulez-vous vraiment générer un code d'activation permanente pour "{storeName}" ?`,noAdminForStore:"Aucun utilisateur administrateur trouvé pour ce magasin.",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client pour une activation permanente.",backToPortal:"Retour au portail",superAdminDashboard:"Tableau de bord Super Admin",addStore:"Ajouter un nouveau magasin",adminPassword:"Mot de passe de l'admin",adminEmail:"Email de l'admin",trialPeriodDays:"Période d'essai (jours)",storeLogoLabel:"Logo du magasin:",activeOnCreation:"Activer à la création",inactiveOnCreation:"Laisser inactif",activateImmediatelyDesc:"Si activé, le magasin sera immédiatement actif avec sa période d'essai. Sinon, il nécessitera une activation manuelle.",aiScanDisabled:"Scan IA désactivé",aiScanFeatureDescription:"Activer la fonctionnalité de numérisation de reçus par IA pour ce magasin.",addStoreButton:"Ajouter le magasin",storeCreatedSuccess:"Magasin créé avec succès !",useThisToLoginFirst:"Utilisez cette clé pour la première connexion du magasin.",useThisPasswordAfter:"Le mot de passe admin à utiliser après la première connexion.",manageStores:"Gérer les magasins",storeStatus_notActivated:"Non activé",trialDurationDisplay:"{days} jours",trialEnded:"Essai terminé",storeStatus_licensed:"Licence permanente",deleteStore:"Supprimer le magasin",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",toggleStoreStatus:"Activer/Désactiver le magasin",storeUsersAndPins:"Utilisateurs et identifiants du magasin",newSellerPinPlaceholder:"PIN du nouveau vendeur",addSeller:"Ajouter vendeur",permanentActivation:"Activation permanente",permanentActivationDesc:"Génère un code pour activer la licence permanente du magasin.",generateActivationCode:"Générer le code",noStoresAdded:"Aucun magasin ajouté pour le moment.",login:"Se connecter",invalidApiKeyError:"Clé API invalide ou non autorisée. Vérifiez votre configuration.",activationSuccessReload:"Activation réussie ! L'application va redémarrer.",forStore:"Pour le magasin :",passwordOrPin:"Mot de passe ou code PIN",rememberPin:"Se souvenir de mon code PIN",trialHasExpired:"Votre période d'essai a expiré",contactAdminToActivate:"Veuillez contacter votre administrateur pour activer l'application.",enterActivationCode:"Saisir le code d'activation",activateApplication:"Activer l'application",activateYourCompany:"Activer votre entreprise",enterLicenseKey:"Saisissez votre clé de licence pour commencer",licenseKey:"Clé de licence",activate:"Activer",reactivationSuccess:"Réactivation réussie. Cliquez pour recharger.",invalidCredentialsError:"Identifiants invalides.",storeDisabledError:"Ce magasin est actuellement désactivé.",storeNotFound:"Magasin non trouvé.",invalidActivationCode:"Code d'activation invalide.",selectStoreFromList:"Sélectionner le magasin dans la liste",selectYourStore:"Sélectionnez votre magasin",backToLicenseEntry:"Retourner à la saisie de licence",trialDaysRemaining:"Votre version d'essai se termine dans {days} jours.",superAdminPortal:"Portail Super Administrateur",manageAllStores:"Gérer tous les magasins",manageAllStoresDesc:"Ajouter, supprimer, et configurer les magasins et les utilisateurs.",loginToStore:"Se connecter à un magasin",loginToStoreDesc:"Accédez directement à l'interface de n'importe quel magasin en tant qu'administrateur.",selectStoreToLogin:"Sélectionnez un magasin pour vous connecter :",loginAsAdmin:"Connexion Admin",returnReceiptTitle:"BON DE RETOUR",returnIdLabel:"Retour N° :",refundAmountLabel:"Montant Remboursé:",purchaseHistoryFor:"Historique d'achat pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",noInvoicesFound:"Aucune facture trouvée pour ce client.",printReport:"Imprimer le rapport",manageDebt:"Gérer la dette",enterValidPayment:"Veuillez saisir un montant de paiement valide.",addNewCustomer:"Ajouter un nouveau client",nameAndPhoneRequired:"Le nom et le téléphone sont obligatoires.",customerExistsError:"Un client avec le numéro de téléphone {phone} existe déjà.",customerAddedSuccess:"Client {name} ajouté avec succès.",confirmCustomerDelete:"Êtes-vous sûr de vouloir supprimer le client {name} ?",customerDeletedSuccess:"Client {name} supprimé.",customerList:"Liste des clients",noCustomersAdded:"Aucun client ajouté pour le moment.",customerHistory:"Historique de {name}",newPurchaseFor:"Nouvel achat chez {name}",completePurchase:"Finaliser l'achat",managePayments:"Gérer les paiements",supplierPurchaseHistoryFor:"Historique des achats chez {name}",supplierExistsError:"Un fournisseur avec le numéro de téléphone {phone} existe déjà.",supplierAddedSuccess:"Fournisseur {name} ajouté avec succès.",confirmSupplierDelete:"Êtes-vous sûr de vouloir supprimer le fournisseur {name} ?",supplierDeletedSuccess:"Fournisseur {name} supprimé.",debt:"Dette",supplierList:"Liste des fournisseurs",addNewSupplier:"Ajouter un nouveau fournisseur",supplierDebt:"Dette fournisseur",newPurchase:"Nouvel achat",noSuppliersAdded:"Aucun fournisseur ajouté pour le moment.",purchaseHistory:"Historique des achats",editCategory:"Modifier la catégorie",categoryName:"Nom de la catégorie",categoryNameEmptyError:"Le nom de la catégorie ne peut pas être vide.",categoryExistsError:'La catégorie "{name}" existe déjà.',categoryAddedSuccess:'Catégorie "{name}" ajoutée.',categoryUpdatedSuccess:'Catégorie "{name}" mise à jour.',confirmCategoryDelete:'Êtes-vous sûr de vouloir supprimer la catégorie "{name}" ?',categoryDeleteError:"Impossible de supprimer la catégorie. Elle est peut-être utilisée par des produits.",categoryDeletedSuccess:'Catégorie "{name}" supprimée.',addNewCategory:"Ajouter une nouvelle catégorie",categoryList:"Liste des catégories",noCategoriesAdded:"Aucune catégorie ajoutée.",editService:"Modifier le service",serviceName:"Nom du service",serviceAddedSuccess:'Service "{name}" ajouté.',confirmServiceDelete:"Êtes-vous sûr de vouloir supprimer ce service ?",serviceUpdatedSuccess:'Service "{name}" mis à jour.',addNewService:"Ajouter un nouveau service",serviceNamePlaceholder:"Ex: Installation, Réparation",saveService:"Enregistrer le service",serviceList:"Liste des services",noServicesAdded:"Aucun service ajouté.",customerDeleteErrorHasDebt:"Impossible de supprimer le client {name} car il a une dette de {debt} DH.",supplierDeleteErrorHasDebt:"Impossible de supprimer le fournisseur {name} car il a une dette de {debt} DH.",purchase_ref_stock_adjustment:"Ajustement de stock"},ar:{}},$Se=()=>{const[t,e]=MC("pos-language","fr"),[n,r]=MC("pos-theme","light"),[i,a]=jm("pos-active-user",null),[o,s]=jm("pos-active-store",null),[l,u]=jm("pos-active-tab",tr.POS),[c,f]=jm("pos-is-super-admin",!1),[h,A]=ae.useState(!1),[v,b]=ae.useState(null),[w,y]=ae.useState(null),[x,S]=ae.useState(!0),T=ae.useCallback((Ye,ut)=>{let nt=FP[t][Ye]||FP.fr[Ye]||Ye;return ut&&Object.keys(ut).forEach(Ut=>{nt=nt.replace(`{${Ut}}`,String(ut[Ut]))}),nt},[t]);ae.useEffect(()=>{document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr",document.documentElement.classList.toggle("dark",n==="dark"),S(!1)},[t,n]);const{data:C,add:k,update:E,remove:I,bulkAdd:D,clear:$}=da("products"),{data:O,add:M,update:B,remove:F,bulkAdd:G,clear:R}=da("productVariants"),{data:U,setData:V,add:K,clear:ee}=da("sales"),{data:le,setData:j,add:z,update:Q,remove:te,clear:J}=da("expenses"),{data:se,setData:ue,add:ie,update:be,remove:Se,clear:fe}=da("users"),{data:Ie,setData:Fe,add:_e,remove:re,clear:Te}=da("returns"),{data:Ce,setData:ve,update:Ne,clear:He}=da("stores"),{data:Ue,setData:ge,add:Le,remove:Oe,clear:Qe}=da("customers"),{data:lt,setData:vt,add:Ke,remove:Ze,clear:ze}=da("suppliers"),{data:Gt,setData:Ot,add:Ee,update:Ge,remove:Ve,clear:st}=da("categories"),{data:rt,setData:zt,add:_t,clear:jn}=da("purchases"),{data:Br,add:ln,bulkAdd:ct,clear:jt}=da("stockBatches"),[$r,Dn]=ae.useState([]),{stockMap:Zr,variantMap:Ei,variantsByProduct:ht,barcodeMap:ki}=ae.useMemo(()=>{const Ye=new Map,ut=new Map,nt=new Map,Ut=new Map;return Br.forEach(ft=>{Ye.set(ft.variantId,(Ye.get(ft.variantId)||0)+ft.quantity)}),U.forEach(ft=>{ft.items.forEach(pt=>{pt.type==="good"&&Ye.set(pt.id,(Ye.get(pt.id)||0)-pt.quantity)})}),Ie.forEach(ft=>{ft.items.forEach(pt=>{pt.type==="good"&&Ye.set(pt.id,(Ye.get(pt.id)||0)+pt.quantity)})}),O.forEach(ft=>{ut.set(ft.id,ft),ft.barcode&&Ut.set(ft.barcode,ft);const pt=nt.get(ft.productId)||[];pt.push(ft),nt.set(ft.productId,pt)}),{stockMap:Ye,variantMap:ut,variantsByProduct:nt,barcodeMap:Ut}},[Br,U,Ie,O]),Pi=ae.useMemo(()=>O.filter(Ye=>(Zr.get(Ye.id)||0)<=Ye.lowStockThreshold),[O,Zr]),Fr=ae.useMemo(()=>C.filter(Ye=>Ye.type==="service"),[C]),zn=()=>{const ut=JSON.stringify({stores:Ce,users:se,products:C,productVariants:O,categories:Gt,suppliers:lt,customers:Ue,sales:U,expenses:le,returns:Ie,purchases:rt,stockBatches:Br},null,2),nt=new Blob([ut],{type:"application/json"}),Ut=URL.createObjectURL(nt),ft=document.createElement("a");ft.href=Ut,ft.download=`backup-${o==null?void 0:o.name.replace(/\s/g,"_")}-${new Date().toISOString().split("T")[0]}.json`,ft.click(),URL.revokeObjectURL(Ut)},Rn=async Ye=>{var ut;if(window.confirm(T("restoreConfirm")))try{const nt=JSON.parse(Ye);if(!nt.stores||!nt.users)throw new Error(T("invalidBackupStructure"));if(((ut=nt.stores[0])==null?void 0:ut.id)!==(o==null?void 0:o.id))throw new Error(T("restoreStoreIdMismatchError",{storeName:(o==null?void 0:o.name)||""}));await Promise.all([$(),R(),ee(),J(),fe(),Te(),He(),Qe(),ze(),st(),jn(),jt()]),await D(nt.products||[]),await G(nt.productVariants||[]),await ct(nt.stockBatches||[]),await ve(nt.stores||[]),await ue(nt.users||[]),await Ot(nt.categories||[]),await vt(nt.suppliers||[]),await ge(nt.customers||[]),await V(nt.sales||[]),await j(nt.expenses||[]),await Fe(nt.returns||[]),await zt(nt.purchases||[]),alert(T("restoreSuccess")),window.location.reload()}catch(nt){console.error("Restore failed:",nt);const Ut=T(nt.message||"restoreError")||nt.message;throw alert(`${T("restoreError")}: ${Ut}`),nt}},kr=async(Ye,ut)=>{var pt;const nt={...Ye,id:crypto.randomUUID()};await k(nt);const Ut=[],ft=[];for(const ur of ut){const Ur={...ur,id:crypto.randomUUID(),storeId:nt.storeId,productId:nt.id};Ut.push(Ur);const no=(pt=Ye.variants)==null?void 0:pt.find(Dd=>Dd.id===ur.id),Cs=(no==null?void 0:no.stockQuantity)??0;Cs>0&&ft.push({id:crypto.randomUUID(),storeId:nt.storeId,variantId:Ur.id,quantity:Cs,purchasePrice:ur.purchasePrice,createdAt:new Date().toISOString()})}return await G(Ut),ft.length>0&&await ct(ft),{product:nt,variants:Ut}},ys=async(Ye,ut)=>{await E(Ye);const nt=new Set((ht.get(Ye.id)||[]).map(ft=>ft.id)),Ut=new Set(ut.filter(ft=>ft.id).map(ft=>ft.id));for(const ft of nt)Ut.has(ft)||await F(ft);for(const ft of ut)if(ft.id){const{stockQuantity:pt,...ur}=ft;await B(ur)}else{const{stockQuantity:pt,...ur}=ft,Ur={...ur,id:crypto.randomUUID(),storeId:Ye.storeId,productId:Ye.id};await M(Ur),pt>0&&await ln({id:crypto.randomUUID(),storeId:Ye.storeId,variantId:Ur.id,quantity:pt,purchasePrice:Ur.purchasePrice,createdAt:new Date().toISOString()})}},na=async Ye=>{const ut=ht.get(Ye)||[];for(const nt of ut)await F(nt.id);await I(Ye)},Mi=async Ye=>{const{variantId:ut,quantity:nt,purchasePrice:Ut,sellingPrice:ft,supplierId:pt}=Ye;await ln({id:crypto.randomUUID(),storeId:o.id,variantId:ut,quantity:nt,purchasePrice:Ut,createdAt:new Date().toISOString()});const ur=Ei.get(ut);ur&&(ur.price!==ft||ur.purchasePrice!==Ut)&&await B({...ur,price:ft,purchasePrice:Ut})},Oi=async(Ye,ut,nt,Ut)=>{const ft=$r.reduce((ur,Ur)=>{const no=Ur.purchasePrice||Ur.price;return ur+(Ur.price-no)*Ur.quantity},0),pt={id:crypto.randomUUID(),storeId:o.id,userId:i.id,date:new Date().toISOString(),items:$r,total:nt,downPayment:Ye,remainingAmount:nt-Ye,profit:ft,customerId:ut};await K(pt),b({sale:pt,mode:Ut}),Dn([])},Ii=async Ye=>{const ut=Ye.reduce((ft,pt)=>ft+pt.price*pt.quantity,0),nt=Ye.reduce((ft,pt)=>pt.purchasePrice?ft+(pt.price-pt.purchasePrice)*pt.quantity:ft,0),Ut={id:crypto.randomUUID(),storeId:o.id,userId:i.id,date:new Date().toISOString(),items:Ye,refundAmount:ut,profitLost:nt};await _e(Ut),y(Ut),Dn([])},Di=async(Ye,ut)=>{const nt={id:crypto.randomUUID(),storeId:o.id,userId:i.id,date:new Date().toISOString(),items:[],total:-ut,downPayment:-ut,remainingAmount:0,profit:0,customerId:Ye};await K(nt)},ui=async Ye=>{const ut={...Ye,id:crypto.randomUUID()};try{return await z(ut),ut}catch(nt){console.error("Failed to add expense",nt);return}},ra=async Ye=>{const ut={...Ye,id:crypto.randomUUID()};try{return await Le(ut),ut}catch(nt){console.error("Failed to add customer",nt);return}},Co=async Ye=>{const ut={...Ye,id:crypto.randomUUID()};try{return await Ke(ut),ut}catch(nt){console.error("Failed to add supplier",nt);return}},bs=async(Ye,ut)=>{if(!o)return;const nt={...Ye,id:crypto.randomUUID()};await _t(nt);const Ut=ut.map(ft=>({id:crypto.randomUUID(),storeId:o.id,variantId:ft.variantId,quantity:ft.quantity,purchasePrice:ft.purchasePrice,createdAt:new Date().toISOString()}));Ut.length>0&&await ct(Ut)},xs=async(Ye,ut)=>{if(!o)return;const nt={id:crypto.randomUUID(),storeId:o.id,supplierId:Ye,date:new Date().toISOString(),items:[],totalAmount:-ut,reference:"Debt Payment",amountPaid:-ut,remainingAmount:0,paymentMethod:"cash"};await _t(nt)},ws=async Ye=>{const ut={...Ye,id:crypto.randomUUID()};try{return await Ee(ut),ut}catch(nt){console.error("Failed to add category",nt);return}},Ss=async Ye=>{const ut={...Ye,id:crypto.randomUUID()};try{return await ie(ut),ut}catch(nt){console.error("Failed to add user",nt);return}},_s=(Ye,ut)=>{a(Ye),s(ut),f(!1)},Rl=()=>{a(null),s(null),f(!1),sessionStorage.removeItem("pos-active-user"),sessionStorage.removeItem("pos-active-store"),sessionStorage.removeItem("pos-is-super-admin"),sessionStorage.removeItem("pos-active-tab")},Id=()=>{f(!0),a(null),s(null)},Ts=async Ye=>kr(Ye,[]),nc=async Ye=>E(Ye);if(x)return m.jsx("div",{className:"flex justify-center items-center h-screen bg-slate-100 dark:bg-slate-900",children:m.jsxs("div",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:[T("loading"),"..."]})});if(c)return m.jsx(jSe,{onLoginAsStoreAdmin:_s,onGoToDashboard:()=>u("SuperAdminDashboard"),onLogout:Rl,t:T,language:t,setLanguage:e,theme:n,toggleTheme:()=>r(Ye=>Ye==="light"?"dark":"light")});if(l==="SuperAdminDashboard")return m.jsx(RSe,{onLoginAsStoreAdmin:_s,onLogout:Rl,onGoBack:()=>u(tr.POS),t:T,language:t,setLanguage:e,theme:n,toggleTheme:()=>r(Ye=>Ye==="light"?"dark":"light")});if(!i||!o)return m.jsx(LSe,{onLoginSuccess:_s,onSuperAdminLogin:Id,t:T,language:t,setLanguage:e,theme:n,toggleTheme:()=>r(Ye=>Ye==="light"?"dark":"light")});const ia=({tab:Ye,icon:ut,label:nt})=>m.jsx("li",{children:m.jsxs("a",{href:"#",onClick:()=>{u(Ye),A(!1)},className:`flex items-center p-2 text-base font-normal rounded-lg transition-all ${l===Ye?"bg-teal-100 dark:bg-slate-700 text-teal-700 dark:text-slate-100":"text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[m.jsx(ut,{className:"w-6 h-6"}),m.jsx("span",{className:"ml-3 rtl:mr-3 rtl:ml-0",children:nt})]})}),Bl=()=>{switch(l){case tr.POS:return m.jsx(dK,{store:o,user:i,products:C,variants:O,customers:Ue,categories:Gt,sales:U,stockMap:Zr,variantMap:Ei,variantsByProduct:ht,barcodeMap:ki,cart:$r,setCart:Dn,completeSale:Oi,processReturn:Ii,payCustomerDebt:Di,t:T,language:t});case tr.Products:return m.jsx(vJ,{storeId:o.id,products:C.filter(Ye=>Ye.type==="good"),variants:O,suppliers:lt,categories:Gt,stockMap:Zr,addProduct:kr,updateProduct:ys,deleteProduct:na,addStockToVariant:Mi,t:T,language:t});case tr.Services:return m.jsx(bJ,{storeId:o.id,services:Fr,addService:Ts,updateService:nc,deleteService:na,t:T});case tr.Finance:return m.jsx(z2e,{storeId:o.id,sales:U,expenses:le,purchases:rt,suppliers:lt,returns:Ie,customers:Ue,users:se,addExpense:ui,updateExpense:Q,deleteExpense:te,deleteReturn:re,deleteAllReturns:Te,t:T,language:t,theme:n,onReprintInvoice:Ye=>b({sale:Ye,mode:"invoice"})});case tr.Customers:return m.jsx(W2e,{storeId:o.id,customers:Ue,sales:U,addCustomer:ra,deleteCustomer:Oe,payCustomerDebt:Di,t:T,language:t});case tr.Suppliers:return m.jsx(X2e,{storeId:o.id,suppliers:lt,purchases:rt,products:C,variants:O,addSupplier:Co,deleteSupplier:Ze,addPurchase:bs,paySupplierDebt:xs,addProduct:kr,t:T,language:t});case tr.Categories:return m.jsx(Z2e,{storeId:o.id,categories:Gt,addCategory:ws,updateCategory:Ge,deleteCategory:Ve,t:T,language:t});case tr.Settings:return m.jsx(twe,{activeUser:i,store:o,storeId:o.id,users:se,addUser:Ss,updateUser:be,deleteUser:Se,onUpdateStore:Ye=>Ne({...o,...Ye}),onBackup:zn,onRestore:Rn,t:T});default:return null}};return m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 min-h-screen",children:[v&&m.jsx(rwe,{sale:v.sale,mode:v.mode,onClose:()=>b(null),store:o,customers:Ue,t:T,language:t}),w&&m.jsx(iwe,{returnObject:w,onClose:()=>y(null),store:o,t:T,language:t}),m.jsx(BSe,{store:o,t:T}),m.jsxs("button",{onClick:()=>A(!h),type:"button",className:"inline-flex items-center p-2 mt-2 ml-3 rtl:mr-3 rtl:ml-0 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",children:[m.jsx("span",{className:"sr-only",children:"Open sidebar"}),m.jsx("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]}),m.jsx("aside",{className:`fixed top-0 left-0 rtl:right-0 rtl:left-auto z-40 w-64 h-screen transition-transform ${h?"translate-x-0":"-translate-x-full"} sm:translate-x-0`,"aria-label":"Sidebar",children:m.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto bg-white dark:bg-slate-800 shadow-lg",children:[m.jsxs("div",{className:"flex items-center pl-2.5 mb-5",children:[m.jsx(ov,{url:o.logo,className:"h-8 w-auto mr-3 rtl:ml-3 rtl:mr-0 rounded"}),m.jsx("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:o.name})]}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx(ia,{tab:tr.POS,icon:iF,label:T("pos")}),m.jsx(ia,{tab:tr.Products,icon:rF,label:T("products")}),m.jsx(ia,{tab:tr.Services,icon:yl,label:T("services")}),m.jsx(ia,{tab:tr.Finance,icon:aF,label:T("finance")}),m.jsx("hr",{className:"my-2 border-slate-200 dark:border-slate-700"}),m.jsx(ia,{tab:tr.Customers,icon:rS,label:T("customers")}),m.jsx(ia,{tab:tr.Suppliers,icon:GO,label:T("suppliers")}),m.jsx(ia,{tab:tr.Categories,icon:WO,label:T("categories")}),m.jsx("hr",{className:"my-2 border-slate-200 dark:border-slate-700"}),m.jsx(ia,{tab:tr.Settings,icon:nS,label:T("settings")})]}),m.jsxs("div",{className:"absolute bottom-4 left-3 right-3",children:[m.jsxs("div",{className:"p-3 text-center bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"font-bold text-sm text-slate-700 dark:text-slate-200",children:i.name}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:T(i.role)})]}),m.jsxs("button",{onClick:Rl,className:"w-full mt-2 flex items-center justify-center p-2 text-sm font-normal text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50",children:[m.jsx(tS,{className:"w-5 h-5"}),m.jsx("span",{className:"ml-3 rtl:mr-3 rtl:ml-0",children:T("logout")})]})]})]})}),m.jsx("main",{className:"p-4 sm:ml-64 rtl:sm:mr-64 rtl:sm:ml-0",children:m.jsxs("div",{className:"mt-4",children:[Pi.length>0&&l===tr.Products&&m.jsx(nwe,{products:C,variants:Pi,suppliers:lt,t:T}),Bl()]})})]})},m8=document.getElementById("root");if(!m8)throw new Error("Could not find root element to mount to");const FSe=X$.createRoot(m8);FSe.render(m.jsx(de.StrictMode,{children:m.jsx($Se,{})}));export{on as _,mr as c,Qt as g};
